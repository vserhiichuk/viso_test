/*! For license information please see main.cc4c9629.js.LICENSE.txt */
(()=>{"use strict";var e={463:(e,t,n)=>{var r=n(791),i=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),S=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),x=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var A=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var R,U=Object.assign;function z(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var F=!1;function V(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function B(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function j(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case C:return"Fragment";case S:return"Portal";case L:return"Profiler";case k:return"StrictMode";case I:return"Suspense";case M:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case x:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:j(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return j(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return j(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return U({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Z(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){$(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return U({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function oe(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,he=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ce=null,ke=null;function Le(e){if(e=bi(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=Ei(t),Se(e.stateNode,e.type,t))}}function _e(e){Ce?ke?ke.push(e):ke=[e]:Ce=e}function xe(){if(Ce){var e=Ce,t=ke;if(ke=Ce=null,Le(e),t)for(e=0;e<t.length;e++)Le(t[e])}}function Te(e,t){return e(t)}function Ie(){}var Me=!1;function De(e,t,n){if(Me)return e(t,n);Me=!0;try{return Te(e,t,n)}finally{Me=!1,(null!==Ce||null!==ke)&&(Ie(),xe())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=Ei(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ae=!1;if(c)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(ce){Ae=!1}function Oe(e,t,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Re=!1,Ue=null,ze=!1,Fe=null,Ve={onError:function(e){Re=!0,Ue=e}};function Be(e,t,n,r,i,o,s,a,l){Re=!1,Ue=null,Oe.apply(Ve,arguments)}function je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(je(e)!==e)throw Error(o(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=je(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return We(i),e;if(s===r)return We(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Ze=i.unstable_requestPaint,$e=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=ht(a):0!==(o&=s)&&(r=ht(o))}else 0!==(s=n&~i)?r=ht(s):0!==o&&(r=ht(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Et,St,Ct,kt,Lt,_t=!1,xt=[],Tt=null,It=null,Mt=null,Dt=new Map,Pt=new Map,At=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Mt=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Rt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ut(e){var t=yi(e.target);if(null!==t){var n=je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Lt(e.priority,(function(){Ct(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ft(e,t,n){zt(e)&&n.delete(t)}function Vt(){_t=!1,null!==Tt&&zt(Tt)&&(Tt=null),null!==It&&zt(It)&&(It=null),null!==Mt&&zt(Mt)&&(Mt=null),Dt.forEach(Ft),Pt.forEach(Ft)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function jt(e){function t(t){return Bt(t,e)}if(0<xt.length){Bt(xt[0],e);for(var n=1;n<xt.length;n++){var r=xt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Bt(Tt,e),null!==It&&Bt(It,e),null!==Mt&&Bt(Mt,e),Dt.forEach(t),Pt.forEach(t),n=0;n<At.length;n++)(r=At[n]).blockedOn===e&&(r.blockedOn=null);for(;0<At.length&&null===(n=At[0]).blockedOn;)Ut(n),null===n.blockedOn&&At.shift()}var Ht=w.ReactCurrentBatchConfig,Wt=!0;function qt(e,t,n,r){var i=bt,o=Ht.transition;Ht.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,Ht.transition=o}}function Kt(e,t,n,r){var i=bt,o=Ht.transition;Ht.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,Ht.transition=o}}function Gt(e,t,n,r){if(Wt){var i=Yt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Rt(Tt,e,t,n,r,i),!0;case"dragenter":return It=Rt(It,e,t,n,r,i),!0;case"mouseover":return Mt=Rt(Mt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Dt.set(o,Rt(Dt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Pt.set(o,Rt(Pt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Nt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&Et(o),null===(o=Yt(e,t,n,r))&&Wr(e,t,r,Qt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=yi(e=Ee(r))))if(null===(t=je(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Zt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Xt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Xt,r=n.length,i="value"in $t?$t.value:$t.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return U(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(un),hn=U({},un,{view:0,detail:0}),dn=on(hn),fn=U({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ln,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=on(fn),gn=on(U({},fn,{dataTransfer:0})),mn=on(U({},hn,{relatedTarget:0})),vn=on(U({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=U({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),wn=on(U({},un,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function Ln(){return kn}var _n=U({},hn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ln,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),xn=on(_n),Tn=on(U({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=on(U({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ln})),Mn=on(U({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=U({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=on(Dn),An=[9,13,27,32],Nn=c&&"CompositionEvent"in window,On=null;c&&"documentMode"in document&&(On=document.documentMode);var Rn=c&&"TextEvent"in window&&!On,Un=c&&(!Nn||On&&8<On&&11>=On),zn=String.fromCharCode(32),Fn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==An.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var jn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function qn(e,t,n,r){_e(r),0<(t=Kr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){zr(e,0)}function Yn(e){if(G(wi(e)))return e}function Zn(e,t){if("change"===e)return t}var $n=!1;if(c){var Xn;if(c){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Xn=Jn}else Xn=!1;$n=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];qn(t,Gn,e,Ee(e)),De(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function or(e,t){if("click"===e)return Yn(t)}function sr(e,t){if("input"===e||"change"===e)return Yn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=cr(n,o);var s=cr(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Kr(vr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function Er(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionend:Er("Transition","TransitionEnd")},Cr={},kr={};function Lr(e){if(Cr[e])return Cr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Cr[e]=n[t];return e}c&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var _r=Lr("animationend"),xr=Lr("animationiteration"),Tr=Lr("animationstart"),Ir=Lr("transitionend"),Mr=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Mr.set(e,t),l(t,[e])}for(var Ar=0;Ar<Dr.length;Ar++){var Nr=Dr[Ar];Pr(Nr.toLowerCase(),"on"+(Nr[0].toUpperCase()+Nr.slice(1)))}Pr(_r,"onAnimationEnd"),Pr(xr,"onAnimationIteration"),Pr(Tr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Ir,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Ur(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,l,u){if(Be.apply(this,arguments),Re){if(!Re)throw Error(o(198));var c=Ue;Re=!1,Ue=null,ze||(ze=!0,Fe=c)}}(r,t,void 0,e),e.currentTarget=null}function zr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Ur(i,a,u),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Ur(i,a,u),o=l}}}if(ze)throw e=Fe,ze=!1,Fe=null,e}function Fr(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function jr(e){if(!e[Br]){e[Br]=!0,s.forEach((function(t){"selectionchange"!==t&&(Rr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Zt(t)){case 1:var i=qt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Ae||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=yi(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}De((function(){var r=o,i=Ee(n),s=[];e:{var a=Mr.get(e);if(void 0!==a){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=xn;break;case"focusin":u="focus",l=mn;break;case"focusout":u="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=In;break;case _r:case xr:case Tr:l=vn;break;case Ir:l=Mn;break;case"scroll":l=dn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var c=0!==(4&t),h=!c&&"scroll"===e,d=c?null!==a?a+"Capture":null:a;c=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==d&&(null!=(g=Pe(p,d))&&c.push(qr(p,g,f)))),h)break;p=p.return}0<c.length&&(a=new l(a,u,null,n,i),s.push({event:a,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(u=n.relatedTarget||n.fromElement)||!yi(u)&&!u[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?yi(u):null)&&(u!==(h=je(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=pn,g="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Tn,g="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:wi(l),f=null==u?a:wi(u),(a=new c(g,p+"leave",l,n,i)).target=h,a.relatedTarget=f,g=null,yi(i)===r&&((c=new c(d,p+"enter",u,n,i)).target=f,c.relatedTarget=h,g=c),h=g,l&&u)e:{for(d=u,p=0,f=c=l;f;f=Gr(f))p++;for(f=0,g=d;g;g=Gr(g))f++;for(;0<p-f;)c=Gr(c),p--;for(;0<f-p;)d=Gr(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Gr(c),d=Gr(d)}c=null}else c=null;null!==l&&Qr(s,a,l,c,!1),null!==u&&null!==h&&Qr(s,h,u,c,!0)}if("select"===(l=(a=r?wi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=Zn;else if(Wn(a))if($n)m=sr;else{m=ir;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=or);switch(m&&(m=m(e,r))?qn(s,m,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?wi(r):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(mr=v,vr=r,yr=null);break;case"focusout":yr=vr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(s,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":wr(s,n,i)}var y;if(Nn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else jn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Un&&"ko"!==n.locale&&(jn||"onCompositionStart"!==b?"onCompositionEnd"===b&&jn&&(y=en()):(Xt="value"in($t=i)?$t.value:$t.textContent,jn=!0)),0<(v=Kr(r,b)).length&&(b=new wn(b,e,null,n,i),s.push({event:b,listeners:v}),y?b.data=y:null!==(y=Bn(n))&&(b.data=y))),(y=Rn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Fn=!0,zn);case"textInput":return(e=t.data)===zn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(jn)return"compositionend"===e||!Nn&&Vn(e,t)?(e=en(),Jt=Xt=$t=null,jn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y))}zr(s,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Pe(e,n))&&r.unshift(qr(e,o,i)),null!=(o=Pe(e,t))&&r.push(qr(e,o,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==u&&(a=u,i?null!=(l=Pe(n,o))&&s.unshift(qr(n,l,a)):i||null!=(l=Pe(n,o))&&s.push(qr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Yr=/\r\n?/g,Zr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Zr,"")}function Xr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(o(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void jt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);jt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,gi="__reactEvents$"+hi,mi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[di])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Ei(e){return e[fi]||null}var Si=[],Ci=-1;function ki(e){return{current:e}}function Li(e){0>Ci||(e.current=Si[Ci],Si[Ci]=null,Ci--)}function _i(e,t){Ci++,Si[Ci]=e.current,e.current=t}var xi={},Ti=ki(xi),Ii=ki(!1),Mi=xi;function Di(e,t){var n=e.type.contextTypes;if(!n)return xi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ai(){Li(Ii),Li(Ti)}function Ni(e,t,n){if(Ti.current!==xi)throw Error(o(168));_i(Ti,t),_i(Ii,n)}function Oi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,H(e)||"Unknown",i));return U({},n,r)}function Ri(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xi,Mi=Ti.current,_i(Ti,e),_i(Ii,Ii.current),!0}function Ui(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Oi(e,t,Mi),r.__reactInternalMemoizedMergedChildContext=e,Li(Ii),Li(Ti),_i(Ti,e)):Li(Ii),_i(Ii,n)}var zi=null,Fi=!1,Vi=!1;function Bi(e){null===zi?zi=[e]:zi.push(e)}function ji(){if(!Vi&&null!==zi){Vi=!0;var e=0,t=bt;try{var n=zi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}zi=null,Fi=!1}catch(i){throw null!==zi&&(zi=zi.slice(e+1)),Ge(Je,ji),i}finally{bt=t,Vi=!1}}return null}var Hi=[],Wi=0,qi=null,Ki=0,Gi=[],Qi=0,Yi=null,Zi=1,$i="";function Xi(e,t){Hi[Wi++]=Ki,Hi[Wi++]=qi,qi=e,Ki=t}function Ji(e,t,n){Gi[Qi++]=Zi,Gi[Qi++]=$i,Gi[Qi++]=Yi,Yi=e;var r=Zi;e=$i;var i=32-st(r)-1;r&=~(1<<i),n+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Zi=1<<32-st(t)+i|n<<i|r,$i=o+e}else Zi=1<<o|n<<i|r,$i=e}function eo(e){null!==e.return&&(Xi(e,1),Ji(e,1,0))}function to(e){for(;e===qi;)qi=Hi[--Wi],Hi[Wi]=null,Ki=Hi[--Wi],Hi[Wi]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,$i=Gi[--Qi],Gi[Qi]=null,Zi=Gi[--Qi],Gi[Qi]=null}var no=null,ro=null,io=!1,oo=null;function so(e,t){var n=Pu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Zi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function uo(e){if(io){var t=ro;if(t){var n=t;if(!ao(e,t)){if(lo(e))throw Error(o(418));t=ui(n.nextSibling);var r=no;t&&ao(e,t)?so(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function co(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return co(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)so(e,t),t=ui(t.nextSibling)}if(co(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ui(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ui(e.nextSibling)}function po(){ro=no=null,io=!1}function go(e){null===oo?oo=[e]:oo.push(e)}var mo=w.ReactCurrentBatchConfig;function vo(e,t){if(e&&e.defaultProps){for(var n in t=U({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=ki(null),bo=null,wo=null,Eo=null;function So(){Eo=wo=bo=null}function Co(e){var t=yo.current;Li(yo),e._currentValue=t}function ko(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Lo(e,t){bo=e,Eo=wo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wa=!0),e.firstContext=null)}function _o(e){var t=e._currentValue;if(Eo!==e)if(e={context:e,memoizedValue:t,next:null},null===wo){if(null===bo)throw Error(o(308));wo=e,bo.dependencies={lanes:0,firstContext:e}}else wo=wo.next=e;return t}var xo=null;function To(e){null===xo?xo=[e]:xo.push(e)}function Io(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,To(t)):(n.next=i.next,i.next=n),t.interleaved=n,Mo(e,r)}function Mo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Do=!1;function Po(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ao(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function No(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Il)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Mo(e,n)}return null===(i=r.interleaved)?(t.next=t,To(r)):(t.next=i.next,i.next=t),r.interleaved=t,Mo(e,n)}function Ro(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Uo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zo(e,t,n,r){var i=e.updateQueue;Do=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,u=l.next;l.next=null,null===s?o=u:s.next=u,s=l;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==s&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(null!==o){var h=i.baseState;for(s=0,c=u=l=null,a=o;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(d=t,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=g.payload)?p.call(f,h,d):p)||void 0===d)break e;h=U({},h,d);break e;case 2:Do=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=f,l=h):c=c.next=f,s|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Ul|=s,e.lanes=s,e.memoizedState=h}}function Fo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Vo=(new r.Component).refs;function Bo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:U({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var jo={isMounted:function(e){return!!(e=e._reactInternals)&&je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tu(),i=nu(e),o=No(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Oo(e,o,i))&&(ru(t,e,i,r),Ro(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tu(),i=nu(e),o=No(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Oo(e,o,i))&&(ru(t,e,i,r),Ro(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tu(),r=nu(e),i=No(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Oo(e,i,r))&&(ru(t,e,r,n),Ro(t,e,r))}};function Ho(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function Wo(e,t,n){var r=!1,i=xi,o=t.contextType;return"object"===typeof o&&null!==o?o=_o(o):(i=Pi(t)?Mi:Ti.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Di(e,i):xi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=jo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function qo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&jo.enqueueReplaceState(t,t.state,null)}function Ko(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Vo,Po(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=_o(o):(o=Pi(t)?Mi:Ti.current,i.context=Di(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Bo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&jo.enqueueReplaceState(i,i.state,null),zo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Go(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;t===Vo&&(t=i.refs={}),null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Qo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yo(e){return(0,e._init)(e._payload)}function Zo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Nu(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=zu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var o=n.type;return o===C?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===P&&Yo(o)===t.type)?((r=i(t,n.props)).ref=Go(e,t,n),r.return=e,r):((r=Ou(n.type,n.key,n.props,null,e.mode,r)).ref=Go(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Ru(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=zu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Ou(t.type,t.key,t.props,null,e.mode,n)).ref=Go(e,null,t),n.return=e,n;case S:return(t=Fu(t,e.mode,n)).return=e,t;case P:return d(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Ru(t,e.mode,n,null)).return=e,t;Qo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?u(e,t,n,r):null;case S:return n.key===i?c(e,t,n,r):null;case P:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||O(n))return null!==i?null:h(e,t,n,r,null);Qo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||O(r))return h(t,e=e.get(n)||null,r,i,null);Qo(t,r)}return null}function g(i,o,a,l){for(var u=null,c=null,h=o,g=o=0,m=null;null!==h&&g<a.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var v=f(i,h,a[g],l);if(null===v){null===h&&(h=m);break}e&&h&&null===v.alternate&&t(i,h),o=s(v,o,g),null===c?u=v:c.sibling=v,c=v,h=m}if(g===a.length)return n(i,h),io&&Xi(i,g),u;if(null===h){for(;g<a.length;g++)null!==(h=d(i,a[g],l))&&(o=s(h,o,g),null===c?u=h:c.sibling=h,c=h);return io&&Xi(i,g),u}for(h=r(i,h);g<a.length;g++)null!==(m=p(h,i,g,a[g],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?g:m.key),o=s(m,o,g),null===c?u=m:c.sibling=m,c=m);return e&&h.forEach((function(e){return t(i,e)})),io&&Xi(i,g),u}function m(i,a,l,u){var c=O(l);if("function"!==typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var h=c=null,g=a,m=a=0,v=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=f(i,g,y.value,u);if(null===b){null===g&&(g=v);break}e&&g&&null===b.alternate&&t(i,g),a=s(b,a,m),null===h?c=b:h.sibling=b,h=b,g=v}if(y.done)return n(i,g),io&&Xi(i,m),c;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=d(i,y.value,u))&&(a=s(y,a,m),null===h?c=y:h.sibling=y,h=y);return io&&Xi(i,m),c}for(g=r(i,g);!y.done;m++,y=l.next())null!==(y=p(g,i,m,y.value,u))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),a=s(y,a,m),null===h?c=y:h.sibling=y,h=y);return e&&g.forEach((function(e){return t(i,e)})),io&&Xi(i,m),c}return function e(r,o,s,l){if("object"===typeof s&&null!==s&&s.type===C&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case E:e:{for(var u=s.key,c=o;null!==c;){if(c.key===u){if((u=s.type)===C){if(7===c.tag){n(r,c.sibling),(o=i(c,s.props.children)).return=r,r=o;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===P&&Yo(u)===c.type){n(r,c.sibling),(o=i(c,s.props)).ref=Go(r,c,s),o.return=r,r=o;break e}n(r,c);break}t(r,c),c=c.sibling}s.type===C?((o=Ru(s.props.children,r.mode,l,s.key)).return=r,r=o):((l=Ou(s.type,s.key,s.props,null,r.mode,l)).ref=Go(r,o,s),l.return=r,r=l)}return a(r);case S:e:{for(c=s.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Fu(s,r.mode,l)).return=r,r=o}return a(r);case P:return e(r,o,(c=s._init)(s._payload),l)}if(te(s))return g(r,o,s,l);if(O(s))return m(r,o,s,l);Qo(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=zu(s,r.mode,l)).return=r,r=o),a(r)):n(r,o)}}var $o=Zo(!0),Xo=Zo(!1),Jo={},es=ki(Jo),ts=ki(Jo),ns=ki(Jo);function rs(e){if(e===Jo)throw Error(o(174));return e}function is(e,t){switch(_i(ns,t),_i(ts,e),_i(es,Jo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Li(es),_i(es,t)}function os(){Li(es),Li(ts),Li(ns)}function ss(e){rs(ns.current);var t=rs(es.current),n=le(t,e.type);t!==n&&(_i(ts,e),_i(es,n))}function as(e){ts.current===e&&(Li(es),Li(ts))}var ls=ki(0);function us(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var cs=[];function hs(){for(var e=0;e<cs.length;e++)cs[e]._workInProgressVersionPrimary=null;cs.length=0}var ds=w.ReactCurrentDispatcher,fs=w.ReactCurrentBatchConfig,ps=0,gs=null,ms=null,vs=null,ys=!1,bs=!1,ws=0,Es=0;function Ss(){throw Error(o(321))}function Cs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function ks(e,t,n,r,i,s){if(ps=s,gs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ds.current=null===e||null===e.memoizedState?aa:la,e=n(r,i),bs){s=0;do{if(bs=!1,ws=0,25<=s)throw Error(o(301));s+=1,vs=ms=null,t.updateQueue=null,ds.current=ua,e=n(r,i)}while(bs)}if(ds.current=sa,t=null!==ms&&null!==ms.next,ps=0,vs=ms=gs=null,ys=!1,t)throw Error(o(300));return e}function Ls(){var e=0!==ws;return ws=0,e}function _s(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vs?gs.memoizedState=vs=e:vs=vs.next=e,vs}function xs(){if(null===ms){var e=gs.alternate;e=null!==e?e.memoizedState:null}else e=ms.next;var t=null===vs?gs.memoizedState:vs.next;if(null!==t)vs=t,ms=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ms=e).memoizedState,baseState:ms.baseState,baseQueue:ms.baseQueue,queue:ms.queue,next:null},null===vs?gs.memoizedState=vs=e:vs=vs.next=e}return vs}function Ts(e,t){return"function"===typeof t?t(e):t}function Is(e){var t=xs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ms,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=a=null,u=null,c=s;do{var h=c.lane;if((ps&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=d,a=r):u=u.next=d,gs.lanes|=h,Ul|=h}c=c.next}while(null!==c&&c!==s);null===u?a=r:u.next=l,ar(r,t.memoizedState)||(wa=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,gs.lanes|=s,Ul|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ms(e){var t=xs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ar(s,t.memoizedState)||(wa=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ds(){}function Ps(e,t){var n=gs,r=xs(),i=t(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,wa=!0),r=r.queue,Ws(Os.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==vs&&1&vs.memoizedState.tag){if(n.flags|=2048,Fs(9,Ns.bind(null,n,r,i,t),void 0,null),null===Ml)throw Error(o(349));0!==(30&ps)||As(n,t,i)}return i}function As(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=gs.updateQueue)?(t={lastEffect:null,stores:null},gs.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ns(e,t,n,r){t.value=n,t.getSnapshot=r,Rs(t)&&Us(e)}function Os(e,t,n){return n((function(){Rs(t)&&Us(e)}))}function Rs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Us(e){var t=Mo(e,1);null!==t&&ru(t,e,1,-1)}function zs(e){var t=_s();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,gs,e),[t.memoizedState,e]}function Fs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=gs.updateQueue)?(t={lastEffect:null,stores:null},gs.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vs(){return xs().memoizedState}function Bs(e,t,n,r){var i=_s();gs.flags|=e,i.memoizedState=Fs(1|t,n,void 0,void 0===r?null:r)}function js(e,t,n,r){var i=xs();r=void 0===r?null:r;var o=void 0;if(null!==ms){var s=ms.memoizedState;if(o=s.destroy,null!==r&&Cs(r,s.deps))return void(i.memoizedState=Fs(t,n,o,r))}gs.flags|=e,i.memoizedState=Fs(1|t,n,o,r)}function Hs(e,t){return Bs(8390656,8,e,t)}function Ws(e,t){return js(2048,8,e,t)}function qs(e,t){return js(4,2,e,t)}function Ks(e,t){return js(4,4,e,t)}function Gs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,js(4,4,Gs.bind(null,t,e),n)}function Ys(){}function Zs(e,t){var n=xs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Cs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $s(e,t){var n=xs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Cs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xs(e,t,n){return 0===(21&ps)?(e.baseState&&(e.baseState=!1,wa=!0),e.memoizedState=n):(ar(n,t)||(n=gt(),gs.lanes|=n,Ul|=n,e.baseState=!0),t)}function Js(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=fs.transition;fs.transition={};try{e(!1),t()}finally{bt=n,fs.transition=r}}function ea(){return xs().memoizedState}function ta(e,t,n){var r=nu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ra(e))ia(t,n);else if(null!==(n=Io(e,t,n,r))){ru(n,e,r,tu()),oa(n,t,r)}}function na(e,t,n){var r=nu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ra(e))ia(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,s)){var l=t.interleaved;return null===l?(i.next=i,To(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=Io(e,t,i,r))&&(ru(n,e,r,i=tu()),oa(n,t,r))}}function ra(e){var t=e.alternate;return e===gs||null!==t&&t===gs}function ia(e,t){bs=ys=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function oa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var sa={readContext:_o,useCallback:Ss,useContext:Ss,useEffect:Ss,useImperativeHandle:Ss,useInsertionEffect:Ss,useLayoutEffect:Ss,useMemo:Ss,useReducer:Ss,useRef:Ss,useState:Ss,useDebugValue:Ss,useDeferredValue:Ss,useTransition:Ss,useMutableSource:Ss,useSyncExternalStore:Ss,useId:Ss,unstable_isNewReconciler:!1},aa={readContext:_o,useCallback:function(e,t){return _s().memoizedState=[e,void 0===t?null:t],e},useContext:_o,useEffect:Hs,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bs(4194308,4,Gs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bs(4,2,e,t)},useMemo:function(e,t){var n=_s();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=_s();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ta.bind(null,gs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},_s().memoizedState=e},useState:zs,useDebugValue:Ys,useDeferredValue:function(e){return _s().memoizedState=e},useTransition:function(){var e=zs(!1),t=e[0];return e=Js.bind(null,e[1]),_s().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=gs,i=_s();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Ml)throw Error(o(349));0!==(30&ps)||As(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Hs(Os.bind(null,r,s,e),[e]),r.flags|=2048,Fs(9,Ns.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=_s(),t=Ml.identifierPrefix;if(io){var n=$i;t=":"+t+"R"+(n=(Zi&~(1<<32-st(Zi)-1)).toString(32)+n),0<(n=ws++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Es++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},la={readContext:_o,useCallback:Zs,useContext:_o,useEffect:Ws,useImperativeHandle:Qs,useInsertionEffect:qs,useLayoutEffect:Ks,useMemo:$s,useReducer:Is,useRef:Vs,useState:function(){return Is(Ts)},useDebugValue:Ys,useDeferredValue:function(e){return Xs(xs(),ms.memoizedState,e)},useTransition:function(){return[Is(Ts)[0],xs().memoizedState]},useMutableSource:Ds,useSyncExternalStore:Ps,useId:ea,unstable_isNewReconciler:!1},ua={readContext:_o,useCallback:Zs,useContext:_o,useEffect:Ws,useImperativeHandle:Qs,useInsertionEffect:qs,useLayoutEffect:Ks,useMemo:$s,useReducer:Ms,useRef:Vs,useState:function(){return Ms(Ts)},useDebugValue:Ys,useDeferredValue:function(e){var t=xs();return null===ms?t.memoizedState=e:Xs(t,ms.memoizedState,e)},useTransition:function(){return[Ms(Ts)[0],xs().memoizedState]},useMutableSource:Ds,useSyncExternalStore:Ps,useId:ea,unstable_isNewReconciler:!1};function ca(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ha(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=No(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,Kl=r),da(0,t)},n}function ga(e,t,n){(n=No(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){da(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=_u.bind(null,e,t,n),t.then(e,e))}function va(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=No(-1,1)).tag=2,Oo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ba=w.ReactCurrentOwner,wa=!1;function Ea(e,t,n,r){t.child=null===e?Xo(t,null,n,r):$o(t,e.child,n,r)}function Sa(e,t,n,r,i){n=n.render;var o=t.ref;return Lo(t,i),r=ks(e,t,n,r,o,i),n=Ls(),null===e||wa?(io&&n&&eo(t),t.flags|=1,Ea(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qa(e,t,i))}function Ca(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Au(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ou(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,ka(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return qa(e,t,i)}return t.flags|=1,(e=Nu(o,r)).ref=t.ref,e.return=t,t.child=e}function ka(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(wa=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,qa(e,t,i);0!==(131072&e.flags)&&(wa=!0)}}return xa(e,t,n,r,i)}function La(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_i(Nl,Al),Al|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_i(Nl,Al),Al|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,_i(Nl,Al),Al|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,_i(Nl,Al),Al|=r;return Ea(e,t,i,n),t.child}function _a(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xa(e,t,n,r,i){var o=Pi(n)?Mi:Ti.current;return o=Di(t,o),Lo(t,i),n=ks(e,t,n,r,o,i),r=Ls(),null===e||wa?(io&&r&&eo(t),t.flags|=1,Ea(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qa(e,t,i))}function Ta(e,t,n,r,i){if(Pi(n)){var o=!0;Ri(t)}else o=!1;if(Lo(t,i),null===t.stateNode)Wa(e,t),Wo(t,n,r),Ko(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;"object"===typeof u&&null!==u?u=_o(u):u=Di(t,u=Pi(n)?Mi:Ti.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof s.getSnapshotBeforeUpdate;h||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==u)&&qo(t,s,r,u),Do=!1;var d=t.memoizedState;s.state=d,zo(t,r,s,i),l=t.memoizedState,a!==r||d!==l||Ii.current||Do?("function"===typeof c&&(Bo(t,n,c,r),l=t.memoizedState),(a=Do||Ho(t,n,a,r,d,l,u))?(h||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Ao(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:vo(t.type,a),s.props=u,h=t.pendingProps,d=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=_o(l):l=Di(t,l=Pi(n)?Mi:Ti.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==h||d!==l)&&qo(t,s,r,l),Do=!1,d=t.memoizedState,s.state=d,zo(t,r,s,i);var p=t.memoizedState;a!==h||d!==p||Ii.current||Do?("function"===typeof f&&(Bo(t,n,f,r),p=t.memoizedState),(u=Do||Ho(t,n,u,r,d,p,l)||!1)?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=u):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ia(e,t,n,r,o,i)}function Ia(e,t,n,r,i,o){_a(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Ui(t,n,!1),qa(e,t,o);r=t.stateNode,ba.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=$o(t,e.child,null,o),t.child=$o(t,null,a,o)):Ea(e,t,a,o),t.memoizedState=r.state,i&&Ui(t,n,!0),t.child}function Ma(e){var t=e.stateNode;t.pendingContext?Ni(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ni(0,t.context,!1),is(e,t.containerInfo)}function Da(e,t,n,r,i){return po(),go(i),t.flags|=256,Ea(e,t,n,r),t.child}var Pa,Aa,Na,Oa,Ra={dehydrated:null,treeContext:null,retryLane:0};function Ua(e){return{baseLanes:e,cachePool:null,transitions:null}}function za(e,t,n){var r,i=t.pendingProps,s=ls.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),_i(ls,1&s),null===e)return uo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Uu(l,i,0,null),e=Ru(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ua(n),t.memoizedState=Ra,e):Fa(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,Va(e,t,a,r=ha(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Uu({mode:"visible",children:r.children},i,0,null),(s=Ru(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&$o(t,e.child,null,a),t.child.memoizedState=Ua(a),t.memoizedState=Ra,s);if(0===(1&t.mode))return Va(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Va(e,t,a,r=ha(s=Error(o(419)),r,void 0))}if(l=0!==(a&e.childLanes),wa||l){if(null!==(r=Ml)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Mo(e,i),ru(r,e,i,-1))}return mu(),Va(e,t,a,r=ha(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tu.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ro=ui(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Gi[Qi++]=Zi,Gi[Qi++]=$i,Gi[Qi++]=Yi,Zi=e.id,$i=e.overflow,Yi=t),t=Fa(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,s,n);if(a){a=i.fallback,l=t.mode,r=(s=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Nu(s,u)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Nu(r,a):(a=Ru(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Ua(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ra,i}return e=(a=e.child).sibling,i=Nu(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fa(e,t){return(t=Uu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Va(e,t,n,r){return null!==r&&go(r),$o(t,e.child,null,n),(e=Fa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ba(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ko(e.return,t,n)}function ja(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Ha(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ea(e,t,r.children,n),0!==(2&(r=ls.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ba(e,n,t);else if(19===e.tag)Ba(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_i(ls,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===us(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ja(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===us(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ja(t,!0,n,null,o);break;case"together":ja(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ul|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Nu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Nu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ka(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ga(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qa(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ga(t),null;case 1:case 17:return Pi(t.type)&&Ai(),Ga(t),null;case 3:return r=t.stateNode,os(),Li(Ii),Li(Ti),hs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(au(oo),oo=null))),Aa(e,t),Ga(t),null;case 5:as(t);var i=rs(ns.current);if(n=t.type,null!==e&&null!=t.stateNode)Na(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ga(t),null}if(e=rs(es.current),ho(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[di]=t,r[fi]=s,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)Fr(Or[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":Z(r,s),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Fr("invalid",r);break;case"textarea":ie(r,s),Fr("invalid",r)}for(var l in ye(n,s),i=null,s)if(s.hasOwnProperty(l)){var u=s[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,u,e),i=["children",""+u]):a.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":K(r),J(r,s,!0);break;case"textarea":K(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,Pa(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Fr(Or[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":Z(e,r),i=Y(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=U({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(s in ye(n,i),u=i)if(u.hasOwnProperty(s)){var c=u[s];"style"===s?me(e,c):"dangerouslySetInnerHTML"===s?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===s?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=c&&"onScroll"===s&&Fr("scroll",e):null!=c&&b(e,s,c,l))}switch(n){case"input":K(e),J(e,r,!1);break;case"textarea":K(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ga(t),null;case 6:if(e&&null!=t.stateNode)Oa(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=rs(ns.current),rs(es.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ga(t),null;case 13:if(Li(ls),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,s=!1;else if(s=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[di]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ga(t),s=!1}else null!==oo&&(au(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ls.current)?0===Ol&&(Ol=3):mu())),null!==t.updateQueue&&(t.flags|=4),Ga(t),null);case 4:return os(),Aa(e,t),null===e&&jr(t.stateNode.containerInfo),Ga(t),null;case 10:return Co(t.type._context),Ga(t),null;case 19:if(Li(ls),null===(s=t.memoizedState))return Ga(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Ka(s,!1);else{if(0!==Ol||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=us(e))){for(t.flags|=128,Ka(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _i(ls,1&ls.current|2),t.child}e=e.sibling}null!==s.tail&&$e()>Hl&&(t.flags|=128,r=!0,Ka(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=us(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ka(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!io)return Ga(t),null}else 2*$e()-s.renderingStartTime>Hl&&1073741824!==n&&(t.flags|=128,r=!0,Ka(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=$e(),t.sibling=null,n=ls.current,_i(ls,r?1&n|2:1&n),t):(Ga(t),null);case 22:case 23:return du(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Al)&&(Ga(t),6&t.subtreeFlags&&(t.flags|=8192)):Ga(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ya(e,t){switch(to(t),t.tag){case 1:return Pi(t.type)&&Ai(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return os(),Li(Ii),Li(Ti),hs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return as(t),null;case 13:if(Li(ls),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Li(ls),null;case 4:return os(),null;case 10:return Co(t.type._context),null;case 22:case 23:return du(),null;default:return null}}Pa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Aa=function(){},Na=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,rs(es.current);var o,s=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),s=[];break;case"select":i=U({},i,{value:void 0}),r=U({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(s=s||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(s=s||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Fr("scroll",e),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}},Oa=function(e,t,n,r){n!==r&&(t.flags|=4)};var Za=!1,$a=!1,Xa="function"===typeof WeakSet?WeakSet:Set,Ja=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Lu(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){Lu(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&tl(t,n,o)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[gi],delete t[mi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var hl=null,dl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:$a||el(n,t);case 6:var r=hl,i=dl;hl=null,fl(e,t,n),dl=i,null!==(hl=r)&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),jt(e)):li(hl,n.stateNode));break;case 4:r=hl,i=dl,hl=n.stateNode.containerInfo,dl=!0,fl(e,t,n),hl=r,dl=i;break;case 0:case 11:case 14:case 15:if(!$a&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&tl(n,t,s),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!$a&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Lu(n,t,a)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?($a=(r=$a)||null!==n.memoizedState,fl(e,t,n),$a=r):fl(e,t,n);break;default:fl(e,t,n)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xa),t.forEach((function(t){var r=Iu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,dl=!1;break e;case 3:case 4:hl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===hl)throw Error(o(160));pl(s,a,i),hl=null,dl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){Lu(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(m){Lu(e,e.return,m)}try{rl(5,e,e.return)}catch(m){Lu(e,e.return,m)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(m){Lu(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===s.type&&null!=s.name&&$(i,s),be(l,a);var c=be(l,s);for(a=0;a<u.length;a+=2){var h=u[a],d=u[a+1];"style"===h?me(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):b(i,h,d,c)}switch(l){case"input":X(i,s);break;case"textarea":oe(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(i,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[fi]=s}catch(m){Lu(e,e.return,m)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){Lu(e,e.return,m)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{jt(t.containerInfo)}catch(m){Lu(e,e.return,m)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(jl=$e())),4&r&&gl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?($a=(c=$a)||h,ml(t,e),$a=c):ml(t,e),yl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!h&&0!==(1&e.mode))for(Ja=e,h=e.child;null!==h;){for(d=Ja=h;null!==Ja;){switch(p=(f=Ja).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Lu(r,n,m)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){Sl(d);continue}}null!==p?(p.return=f,Ja=p):Sl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,c?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=d.stateNode,a=void 0!==(u=d.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=ge("display",a))}catch(m){Lu(e,e.return,m)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){Lu(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ml(t,e),yl(e),4&r&&gl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),cl(e,ll(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;ul(e,ll(e),s);break;default:throw Error(o(161))}}catch(a){Lu(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Ja=e,wl(e,t,n)}function wl(e,t,n){for(var r=0!==(1&e.mode);null!==Ja;){var i=Ja,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Za;if(!s){var a=i.alternate,l=null!==a&&null!==a.memoizedState||$a;a=Za;var u=$a;if(Za=s,($a=l)&&!u)for(Ja=i;null!==Ja;)l=(s=Ja).child,22===s.tag&&null!==s.memoizedState?Cl(i):null!==l?(l.return=s,Ja=l):Cl(i);for(;null!==o;)Ja=o,wl(o,t,n),o=o.sibling;Ja=i,Za=a,$a=u}El(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Ja=o):El(e)}}function El(e){for(;null!==Ja;){var t=Ja;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$a||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$a)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:vo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Fo(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fo(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&jt(d)}}}break;default:throw Error(o(163))}$a||512&t.flags&&ol(t)}catch(f){Lu(t,t.return,f)}}if(t===e){Ja=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ja=n;break}Ja=t.return}}function Sl(e){for(;null!==Ja;){var t=Ja;if(t===e){Ja=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ja=n;break}Ja=t.return}}function Cl(e){for(;null!==Ja;){var t=Ja;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){Lu(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Lu(t,i,l)}}var o=t.return;try{ol(t)}catch(l){Lu(t,o,l)}break;case 5:var s=t.return;try{ol(t)}catch(l){Lu(t,s,l)}}}catch(l){Lu(t,t.return,l)}if(t===e){Ja=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Ja=a;break}Ja=t.return}}var kl,Ll=Math.ceil,_l=w.ReactCurrentDispatcher,xl=w.ReactCurrentOwner,Tl=w.ReactCurrentBatchConfig,Il=0,Ml=null,Dl=null,Pl=0,Al=0,Nl=ki(0),Ol=0,Rl=null,Ul=0,zl=0,Fl=0,Vl=null,Bl=null,jl=0,Hl=1/0,Wl=null,ql=!1,Kl=null,Gl=null,Ql=!1,Yl=null,Zl=0,$l=0,Xl=null,Jl=-1,eu=0;function tu(){return 0!==(6&Il)?$e():-1!==Jl?Jl:Jl=$e()}function nu(e){return 0===(1&e.mode)?1:0!==(2&Il)&&0!==Pl?Pl&-Pl:null!==mo.transition?(0===eu&&(eu=gt()),eu):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Zt(e.type)}function ru(e,t,n,r){if(50<$l)throw $l=0,Xl=null,Error(o(185));vt(e,n,r),0!==(2&Il)&&e===Ml||(e===Ml&&(0===(2&Il)&&(zl|=n),4===Ol&&lu(e,Pl)),iu(e,r),1===n&&0===Il&&0===(1&t.mode)&&(Hl=$e()+500,Fi&&ji()))}function iu(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=ft(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=dt(e,e===Ml?Pl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Fi=!0,Bi(e)}(uu.bind(null,e)):Bi(uu.bind(null,e)),si((function(){0===(6&Il)&&ji()})),n=null;else{switch(wt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Mu(n,ou.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ou(e,t){if(Jl=-1,eu=0,0!==(6&Il))throw Error(o(327));var n=e.callbackNode;if(Cu()&&e.callbackNode!==n)return null;var r=dt(e,e===Ml?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vu(e,r);else{t=r;var i=Il;Il|=2;var s=gu();for(Ml===e&&Pl===t||(Wl=null,Hl=$e()+500,fu(e,t));;)try{bu();break}catch(l){pu(e,l)}So(),_l.current=s,Il=i,null!==Dl?t=0:(Ml=null,Pl=0,t=Ol)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=su(e,i))),1===t)throw n=Rl,fu(e,0),lu(e,r),iu(e,$e()),n;if(6===t)lu(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ar(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vu(e,r))&&(0!==(s=pt(e))&&(r=s,t=su(e,s))),1===t))throw n=Rl,fu(e,0),lu(e,r),iu(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Su(e,Bl,Wl);break;case 3:if(lu(e,r),(130023424&r)===r&&10<(t=jl+500-$e())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Su.bind(null,e,Bl,Wl),t);break}Su(e,Bl,Wl);break;case 4:if(lu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ll(r/1960))-r)){e.timeoutHandle=ri(Su.bind(null,e,Bl,Wl),r);break}Su(e,Bl,Wl);break;default:throw Error(o(329))}}}return iu(e,$e()),e.callbackNode===n?ou.bind(null,e):null}function su(e,t){var n=Vl;return e.current.memoizedState.isDehydrated&&(fu(e,t).flags|=256),2!==(e=vu(e,t))&&(t=Bl,Bl=n,null!==t&&au(t)),e}function au(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function lu(e,t){for(t&=~Fl,t&=~zl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function uu(e){if(0!==(6&Il))throw Error(o(327));Cu();var t=dt(e,0);if(0===(1&t))return iu(e,$e()),null;var n=vu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=su(e,r))}if(1===n)throw n=Rl,fu(e,0),lu(e,t),iu(e,$e()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Su(e,Bl,Wl),iu(e,$e()),null}function cu(e,t){var n=Il;Il|=1;try{return e(t)}finally{0===(Il=n)&&(Hl=$e()+500,Fi&&ji())}}function hu(e){null!==Yl&&0===Yl.tag&&0===(6&Il)&&Cu();var t=Il;Il|=1;var n=Tl.transition,r=bt;try{if(Tl.transition=null,bt=1,e)return e()}finally{bt=r,Tl.transition=n,0===(6&(Il=t))&&ji()}}function du(){Al=Nl.current,Li(Nl)}function fu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Dl)for(n=Dl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ai();break;case 3:os(),Li(Ii),Li(Ti),hs();break;case 5:as(r);break;case 4:os();break;case 13:case 19:Li(ls);break;case 10:Co(r.type._context);break;case 22:case 23:du()}n=n.return}if(Ml=e,Dl=e=Nu(e.current,null),Pl=Al=t,Ol=0,Rl=null,Fl=zl=Ul=0,Bl=Vl=null,null!==xo){for(t=0;t<xo.length;t++)if(null!==(r=(n=xo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}xo=null}return e}function pu(e,t){for(;;){var n=Dl;try{if(So(),ds.current=sa,ys){for(var r=gs.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ys=!1}if(ps=0,vs=ms=gs=null,bs=!1,ws=0,xl.current=null,null===n||null===n.return){Ol=1,Rl=t,Dl=null;break}e:{var s=e,a=n.return,l=n,u=t;if(t=Pl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=va(a);if(null!==p){p.flags&=-257,ya(p,a,l,0,t),1&p.mode&&ma(s,c,t),u=c;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(u),t.updateQueue=m}else g.add(u);break e}if(0===(1&t)){ma(s,c,t),mu();break e}u=Error(o(426))}else if(io&&1&l.mode){var v=va(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ya(v,a,l,0,t),go(ca(u,l));break e}}s=u=ca(u,l),4!==Ol&&(Ol=2),null===Vl?Vl=[s]:Vl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Uo(s,pa(0,u,t));break e;case 1:l=u;var y=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gl||!Gl.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,Uo(s,ga(s,l,t));break e}}s=s.return}while(null!==s)}Eu(n)}catch(w){t=w,Dl===n&&null!==n&&(Dl=n=n.return);continue}break}}function gu(){var e=_l.current;return _l.current=sa,null===e?sa:e}function mu(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===Ml||0===(268435455&Ul)&&0===(268435455&zl)||lu(Ml,Pl)}function vu(e,t){var n=Il;Il|=2;var r=gu();for(Ml===e&&Pl===t||(Wl=null,fu(e,t));;)try{yu();break}catch(i){pu(e,i)}if(So(),Il=n,_l.current=r,null!==Dl)throw Error(o(261));return Ml=null,Pl=0,Ol}function yu(){for(;null!==Dl;)wu(Dl)}function bu(){for(;null!==Dl&&!Ye();)wu(Dl)}function wu(e){var t=kl(e.alternate,e,Al);e.memoizedProps=e.pendingProps,null===t?Eu(e):Dl=t,xl.current=null}function Eu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qa(n,t,Al)))return void(Dl=n)}else{if(null!==(n=Ya(n,t)))return n.flags&=32767,void(Dl=n);if(null===e)return Ol=6,void(Dl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Dl=t);Dl=t=e}while(null!==t);0===Ol&&(Ol=5)}function Su(e,t,n){var r=bt,i=Tl.transition;try{Tl.transition=null,bt=1,function(e,t,n,r){do{Cu()}while(null!==Yl);if(0!==(6&Il))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===Ml&&(Dl=Ml=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,Mu(tt,(function(){return Cu(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Tl.transition,Tl.transition=null;var a=bt;bt=1;var l=Il;Il|=4,xl.current=null,function(e,t){if(ei=Wt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(E){n=null;break e}var a=0,l=-1,u=-1,c=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==s||0!==r&&3!==d.nodeType||(u=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++c===i&&(l=a),f===s&&++h===r&&(u=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Ja=t;null!==Ja;)if(e=(t=Ja).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ja=e;else for(;null!==Ja;){t=Ja;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:vo(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(E){Lu(t,t.return,E)}if(null!==(e=t.sibling)){e.return=t.return,Ja=e;break}Ja=t.return}g=nl,nl=!1}(e,n),vl(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,bl(n,e,i),Ze(),Il=l,bt=a,Tl.transition=s}else e.current=n;if(Ql&&(Ql=!1,Yl=e,Zl=i),s=e.pendingLanes,0===s&&(Gl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),iu(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ql)throw ql=!1,e=Kl,Kl=null,e;0!==(1&Zl)&&0!==e.tag&&Cu(),s=e.pendingLanes,0!==(1&s)?e===Xl?$l++:($l=0,Xl=e):$l=0,ji()}(e,t,n,r)}finally{Tl.transition=i,bt=r}return null}function Cu(){if(null!==Yl){var e=wt(Zl),t=Tl.transition,n=bt;try{if(Tl.transition=null,bt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,Zl=0,0!==(6&Il))throw Error(o(331));var i=Il;for(Il|=4,Ja=e.current;null!==Ja;){var s=Ja,a=s.child;if(0!==(16&Ja.flags)){var l=s.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Ja=c;null!==Ja;){var h=Ja;switch(h.tag){case 0:case 11:case 15:rl(8,h,s)}var d=h.child;if(null!==d)d.return=h,Ja=d;else for(;null!==Ja;){var f=(h=Ja).sibling,p=h.return;if(sl(h),h===c){Ja=null;break}if(null!==f){f.return=p,Ja=f;break}Ja=p}}}var g=s.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}Ja=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Ja=a;else e:for(;null!==Ja;){if(0!==(2048&(s=Ja).flags))switch(s.tag){case 0:case 11:case 15:rl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Ja=y;break e}Ja=s.return}}var b=e.current;for(Ja=b;null!==Ja;){var w=(a=Ja).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Ja=w;else e:for(a=b;null!==Ja;){if(0!==(2048&(l=Ja).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(S){Lu(l,l.return,S)}if(l===a){Ja=null;break e}var E=l.sibling;if(null!==E){E.return=l.return,Ja=E;break e}Ja=l.return}}if(Il=i,ji(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{bt=n,Tl.transition=t}}return!1}function ku(e,t,n){e=Oo(e,t=pa(0,t=ca(n,t),1),1),t=tu(),null!==e&&(vt(e,1,t),iu(e,t))}function Lu(e,t,n){if(3===e.tag)ku(e,e,n);else for(;null!==t;){if(3===t.tag){ku(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Oo(t,e=ga(t,e=ca(n,e),1),1),e=tu(),null!==t&&(vt(t,1,e),iu(t,e));break}}t=t.return}}function _u(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tu(),e.pingedLanes|=e.suspendedLanes&n,Ml===e&&(Pl&n)===n&&(4===Ol||3===Ol&&(130023424&Pl)===Pl&&500>$e()-jl?fu(e,0):Fl|=n),iu(e,t)}function xu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=tu();null!==(e=Mo(e,t))&&(vt(e,t,n),iu(e,n))}function Tu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),xu(e,n)}function Iu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),xu(e,n)}function Mu(e,t){return Ge(e,t)}function Du(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pu(e,t,n,r){return new Du(e,t,n,r)}function Au(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Nu(e,t){var n=e.alternate;return null===n?((n=Pu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ou(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)Au(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case C:return Ru(n.children,i,s,t);case k:a=8,i|=8;break;case L:return(e=Pu(12,n,t,2|i)).elementType=L,e.lanes=s,e;case I:return(e=Pu(13,n,t,i)).elementType=I,e.lanes=s,e;case M:return(e=Pu(19,n,t,i)).elementType=M,e.lanes=s,e;case A:return Uu(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:a=10;break e;case x:a=9;break e;case T:a=11;break e;case D:a=14;break e;case P:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Pu(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Ru(e,t,n,r){return(e=Pu(7,e,r,t)).lanes=n,e}function Uu(e,t,n,r){return(e=Pu(22,e,r,t)).elementType=A,e.lanes=n,e.stateNode={isHidden:!1},e}function zu(e,t,n){return(e=Pu(6,e,null,t)).lanes=n,e}function Fu(e,t,n){return(t=Pu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bu(e,t,n,r,i,o,s,a,l){return e=new Vu(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Pu(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Po(o),e}function ju(e){if(!e)return xi;e:{if(je(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Oi(e,n,t)}return t}function Hu(e,t,n,r,i,o,s,a,l){return(e=Bu(n,r,!0,e,0,o,0,a,l)).context=ju(null),n=e.current,(o=No(r=tu(),i=nu(n))).callback=void 0!==t&&null!==t?t:null,Oo(n,o,i),e.current.lanes=i,vt(e,i,r),iu(e,r),e}function Wu(e,t,n,r){var i=t.current,o=tu(),s=nu(i);return n=ju(n),null===t.context?t.context=n:t.pendingContext=n,(t=No(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Oo(i,t,s))&&(ru(e,i,s,o),Ro(e,i,s)),s}function qu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Ku(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gu(e,t){Ku(e,t),(e=e.alternate)&&Ku(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ii.current)wa=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wa=!1,function(e,t,n){switch(t.tag){case 3:Ma(t),po();break;case 5:ss(t);break;case 1:Pi(t.type)&&Ri(t);break;case 4:is(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;_i(yo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_i(ls,1&ls.current),t.flags|=128,null):0!==(n&t.child.childLanes)?za(e,t,n):(_i(ls,1&ls.current),null!==(e=qa(e,t,n))?e.sibling:null);_i(ls,1&ls.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ha(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),_i(ls,ls.current),r)break;return null;case 22:case 23:return t.lanes=0,La(e,t,n)}return qa(e,t,n)}(e,t,n);wa=0!==(131072&e.flags)}else wa=!1,io&&0!==(1048576&t.flags)&&Ji(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wa(e,t),e=t.pendingProps;var i=Di(t,Ti.current);Lo(t,n),i=ks(null,t,r,e,i,n);var s=Ls();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(s=!0,Ri(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Po(t),i.updater=jo,t.stateNode=i,i._reactInternals=t,Ko(t,r,e,n),t=Ia(null,t,r,!0,s,n)):(t.tag=0,io&&s&&eo(t),Ea(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wa(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Au(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===D)return 14}return 2}(r),e=vo(r,e),i){case 0:t=xa(null,t,r,e,n);break e;case 1:t=Ta(null,t,r,e,n);break e;case 11:t=Sa(null,t,r,e,n);break e;case 14:t=Ca(null,t,r,vo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,xa(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ta(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 3:e:{if(Ma(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,Ao(e,t),zo(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Da(e,t,r,n,i=ca(Error(o(423)),t));break e}if(r!==i){t=Da(e,t,r,n,i=ca(Error(o(424)),t));break e}for(ro=ui(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Xo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=qa(e,t,n);break e}Ea(e,t,r,n)}t=t.child}return t;case 5:return ss(t),null===e&&uo(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==s&&ni(r,s)&&(t.flags|=32),_a(e,t),Ea(e,t,a,n),t.child;case 6:return null===e&&uo(t),null;case 13:return za(e,t,n);case 4:return is(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$o(t,null,r,n):Ea(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Sa(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 7:return Ea(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ea(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,_i(yo,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===i.children&&!Ii.current){t=qa(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===s.tag){(u=No(-1,n&-n)).tag=2;var c=s.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),ko(s.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),ko(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}Ea(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Lo(t,n),r=r(i=_o(i)),t.flags|=1,Ea(e,t,r,n),t.child;case 14:return i=vo(r=t.type,t.pendingProps),Ca(e,t,r,i=vo(r.type,i),n);case 15:return ka(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vo(r,i),Wa(e,t),t.tag=1,Pi(r)?(e=!0,Ri(t)):e=!1,Lo(t,n),Wo(t,r,i),Ko(t,r,i,n),Ia(null,t,r,!0,e,n);case 19:return Ha(e,t,n);case 22:return La(e,t,n)}throw Error(o(156,t.tag))};var Qu="function"===typeof reportError?reportError:function(e){console.error(e)};function Yu(e){this._internalRoot=e}function Zu(e){this._internalRoot=e}function $u(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ju(){}function ec(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=qu(s);a.call(e)}}Wu(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=qu(s);o.call(e)}}var s=Hu(t,r,e,0,null,!1,0,"",Ju);return e._reactRootContainer=s,e[pi]=s.current,jr(8===e.nodeType?e.parentNode:e),hu(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=qu(l);a.call(e)}}var l=Bu(e,0,!1,null,0,!1,0,"",Ju);return e._reactRootContainer=l,e[pi]=l.current,jr(8===e.nodeType?e.parentNode:e),hu((function(){Wu(t,l,n,r)})),l}(n,t,e,i,r);return qu(s)}Zu.prototype.render=Yu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Wu(e,t,null,null)},Zu.prototype.unmount=Yu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hu((function(){Wu(null,e,null,null)})),t[pi]=null}},Zu.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<At.length&&0!==t&&t<At[n].priority;n++);At.splice(n,0,e),0===n&&Ut(e)}},Et=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),iu(t,$e()),0===(6&Il)&&(Hl=$e()+500,ji()))}break;case 13:hu((function(){var t=Mo(e,1);if(null!==t){var n=tu();ru(t,e,1,n)}})),Gu(e,1)}},St=function(e){if(13===e.tag){var t=Mo(e,134217728);if(null!==t)ru(t,e,134217728,tu());Gu(e,134217728)}},Ct=function(e){if(13===e.tag){var t=nu(e),n=Mo(e,t);if(null!==n)ru(n,e,t,tu());Gu(e,t)}},kt=function(){return bt},Lt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ei(r);if(!i)throw Error(o(90));G(r),X(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=cu,Ie=hu;var tc={usingClientEntryPoint:!1,Events:[bi,wi,Ei,_e,xe,cu]},nc={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),ot=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$u(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$u(e))throw Error(o(299));var n=!1,r="",i=Qu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bu(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,jr(8===e.nodeType?e.parentNode:e),new Yu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return hu(e)},t.hydrate=function(e,t,n){if(!Xu(t))throw Error(o(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$u(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Qu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Hu(t,null,e,1,null!=n?n:null,i,0,s,a),e[pi]=t.current,jr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Zu(t)},t.render=function(e,t,n){if(!Xu(t))throw Error(o(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xu(e))throw Error(o(40));return!!e._reactRootContainer&&(hu((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xu(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:(e,t,n)=>{var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:(e,t,n)=>{var r=n(791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,o={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:o,_owner:a.current}}t.Fragment=o,t.jsx=u,t.jsxs=u},117:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,g(w,v.prototype),w.isPureReactComponent=!0;var E=Array.isArray,S=Object.prototype.hasOwnProperty,C={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function L(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)S.call(t,i)&&!k.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:C.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var x=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===o?"."+T(l,0):o,E(s)?(i="",null!=e&&(i=e.replace(x,"$&/")+"/"),I(s,t,i,"",(function(e){return e}))):null!=s&&(_(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(x,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",E(e))for(var u=0;u<e.length;u++){var c=o+T(a=e[u],u);l+=I(a,t,i,c,s)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(a=e.next()).done;)l+=I(a=a.value,t,i,c=o+T(a,u++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function M(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},A={transition:null},N={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:A,ReactCurrentOwner:C};t.Children={map:M,forEach:function(e,t,n){M(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return M(e,(function(){t++})),t},toArray:function(e){return M(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=b,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=C.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)S.call(t,u)&&!k.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=L,t.createFactory=function(e){var t=L.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=A.transition;A.transition={};try{e()}finally{A.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},791:(e,t,n)=>{e.exports=n(117)},184:(e,t,n)=>{e.exports=n(374)},813:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],u=a+1,c=e[u];if(0>o(l,n))u<i&&0>o(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[a]=n,r=a);else{if(!(u<i&&0>o(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],h=1,d=null,f=3,p=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function E(e){if(m=!1,w(e),!g)if(null!==r(u))g=!0,A(S);else{var t=r(c);null!==t&&N(E,t.startTime-e)}}function S(e,n){g=!1,m&&(m=!1,y(_),_=-1),p=!0;var o=f;try{for(w(n),d=r(u);null!==d&&(!(d.expirationTime>n)||e&&!I());){var s=d.callback;if("function"===typeof s){d.callback=null,f=d.priorityLevel;var a=s(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(u)&&i(u),w(n)}else i(u);d=r(u)}if(null!==d)var l=!0;else{var h=r(c);null!==h&&N(E,h.startTime-n),l=!1}return l}finally{d=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var C,k=!1,L=null,_=-1,x=5,T=-1;function I(){return!(t.unstable_now()-T<x)}function M(){if(null!==L){var e=t.unstable_now();T=e;var n=!0;try{n=L(!0,e)}finally{n?C():(k=!1,L=null)}}else k=!1}if("function"===typeof b)C=function(){b(M)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,P=D.port2;D.port1.onmessage=M,C=function(){P.postMessage(null)}}else C=function(){v(M,0)};function A(e){L=e,k||(k=!0,C())}function N(e,n){_=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,A(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(c,e),null===r(u)&&e===r(c)&&(m?(y(_),_=-1):m=!0,N(E,o-s))):(e.sortIndex=a,n(u,e),g||p||(g=!0,A(S))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},296:(e,t,n)=>{e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".e1392cc2.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="viso_test:";n.l=(r,i,o,s)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==o)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var h=u[c];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+o){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+o),a.src=r),e[r]=[i];var d=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/viso_test/",(()=>{var e={179:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=o);var s=n.p+n.u(t),a=new Error;n.l(s,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,o,s=r[0],a=r[1],l=r[2],u=0;if(s.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);u<s.length;u++)o=s[u],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkviso_test=self.webpackChunkviso_test||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{var e=n(791),t=n(250),r=n(184),i=n(164),o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)};function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)};function l(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function u(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(t){o(t)}}function a(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))}function c(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function h(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var d=function(e,t,n,r,i,o,s,a){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,s,a],c=0;(l=new Error(t.replace(/%s/g,(function(){return u[c++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}},f=h(d),p=(0,e.createContext)(null);function g(e,t,n,r){var i,o,s={};return i=e,o=function(e,i){var o=n[i];o!==t[i]&&(s[i]=o,e(r,o))},Object.keys(i).forEach((function(e){return o(i[e],e)})),s}function m(e,t,n){var r,i,o,s=(r=n,i=function(n,r,i){return"function"===typeof e[i]&&n.push(google.maps.event.addListener(t,r,e[i])),n},o=[],Object.keys(r).reduce((function(e,t){return i(e,r[t],t)}),o));return s}function v(e){google.maps.event.removeListener(e)}function y(e){void 0===e&&(e=[]),e.forEach(v)}function b(e){var t=e.updaterMap,n=e.eventMap,r=e.prevProps,i=e.nextProps,o=e.instance,s=m(i,o,n);return g(t,r,i,o),s}var w={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},E={extraMapTypes:function(e,t){t.forEach((function(t,n){e.mapTypes.set(String(n),t)}))},center:function(e,t){e.setCenter(t)},clickableIcons:function(e,t){e.setClickableIcons(t)},heading:function(e,t){e.setHeading(t)},mapTypeId:function(e,t){e.setMapTypeId(t)},options:function(e,t){e.setOptions(t)},streetView:function(e,t){e.setStreetView(t)},tilt:function(e,t){e.setTilt(t)},zoom:function(e,t){e.setZoom(t)}};(0,e.memo)((function(t){var n=t.children,i=t.options,o=t.id,s=t.mapContainerStyle,a=t.mapContainerClassName,l=t.center,u=t.onClick,c=t.onDblClick,h=t.onDrag,d=t.onDragEnd,f=t.onDragStart,g=t.onMouseMove,m=t.onMouseOut,v=t.onMouseOver,y=t.onMouseDown,b=t.onMouseUp,w=t.onRightClick,E=t.onCenterChanged,S=t.onLoad,C=t.onUnmount,k=(0,e.useState)(null),L=k[0],_=k[1],x=(0,e.useRef)(null),T=(0,e.useState)(null),I=T[0],M=T[1],D=(0,e.useState)(null),P=D[0],A=D[1],N=(0,e.useState)(null),O=N[0],R=N[1],U=(0,e.useState)(null),z=U[0],F=U[1],V=(0,e.useState)(null),B=V[0],j=V[1],H=(0,e.useState)(null),W=H[0],q=H[1],K=(0,e.useState)(null),G=K[0],Q=K[1],Y=(0,e.useState)(null),Z=Y[0],$=Y[1],X=(0,e.useState)(null),J=X[0],ee=X[1],te=(0,e.useState)(null),ne=te[0],re=te[1],ie=(0,e.useState)(null),oe=ie[0],se=ie[1],ae=(0,e.useState)(null),le=ae[0],ue=ae[1];return(0,e.useEffect)((function(){i&&null!==L&&L.setOptions(i)}),[L,i]),(0,e.useEffect)((function(){null!==L&&"undefined"!==typeof l&&L.setCenter(l)}),[L,l]),(0,e.useEffect)((function(){L&&c&&(null!==P&&google.maps.event.removeListener(P),A(google.maps.event.addListener(L,"dblclick",c)))}),[c]),(0,e.useEffect)((function(){L&&d&&(null!==O&&google.maps.event.removeListener(O),R(google.maps.event.addListener(L,"dragend",d)))}),[d]),(0,e.useEffect)((function(){L&&f&&(null!==z&&google.maps.event.removeListener(z),F(google.maps.event.addListener(L,"dragstart",f)))}),[f]),(0,e.useEffect)((function(){L&&y&&(null!==B&&google.maps.event.removeListener(B),j(google.maps.event.addListener(L,"mousedown",y)))}),[y]),(0,e.useEffect)((function(){L&&g&&(null!==W&&google.maps.event.removeListener(W),q(google.maps.event.addListener(L,"mousemove",g)))}),[g]),(0,e.useEffect)((function(){L&&m&&(null!==G&&google.maps.event.removeListener(G),Q(google.maps.event.addListener(L,"mouseout",m)))}),[m]),(0,e.useEffect)((function(){L&&v&&(null!==Z&&google.maps.event.removeListener(Z),$(google.maps.event.addListener(L,"mouseover",v)))}),[v]),(0,e.useEffect)((function(){L&&b&&(null!==J&&google.maps.event.removeListener(J),ee(google.maps.event.addListener(L,"mouseup",b)))}),[b]),(0,e.useEffect)((function(){L&&w&&(null!==ne&&google.maps.event.removeListener(ne),re(google.maps.event.addListener(L,"rightclick",w)))}),[w]),(0,e.useEffect)((function(){L&&u&&(null!==oe&&google.maps.event.removeListener(oe),se(google.maps.event.addListener(L,"click",u)))}),[u]),(0,e.useEffect)((function(){L&&h&&(null!==le&&google.maps.event.removeListener(le),ue(google.maps.event.addListener(L,"drag",h)))}),[h]),(0,e.useEffect)((function(){L&&E&&(null!==I&&google.maps.event.removeListener(I),M(google.maps.event.addListener(L,"center_changed",E)))}),[u]),(0,e.useEffect)((function(){var e=null===x.current?null:new google.maps.Map(x.current,i);return _(e),null!==e&&S&&S(e),function(){null!==e&&C&&C(e)}}),[]),(0,r.jsx)("div",{id:o,ref:x,style:s,className:a,children:(0,r.jsx)(p.Provider,{value:L,children:null!==L?n:(0,r.jsx)(r.Fragment,{})})})}));var S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={map:null},t.registeredEvents=[],t.mapRef=null,t.getInstance=function(){return null===t.mapRef?null:new google.maps.Map(t.mapRef,t.props.options)},t.panTo=function(e){var n=t.getInstance();n&&n.panTo(e)},t.setMapCallback=function(){null!==t.state.map&&t.props.onLoad&&t.props.onLoad(t.state.map)},t.getRef=function(e){t.mapRef=e},t}return s(t,e),t.prototype.componentDidMount=function(){var e=this.getInstance();this.registeredEvents=b({updaterMap:E,eventMap:w,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{map:e}}),this.setMapCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.map&&(y(this.registeredEvents),this.registeredEvents=b({updaterMap:E,eventMap:w,prevProps:e,nextProps:this.props,instance:this.state.map}))},t.prototype.componentWillUnmount=function(){null!==this.state.map&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),y(this.registeredEvents))},t.prototype.render=function(){return(0,r.jsx)("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:(0,r.jsx)(p.Provider,{value:this.state.map,children:null!==this.state.map?this.props.children:(0,r.jsx)(r.Fragment,{})})})},t}(e.PureComponent),C="undefined"!==typeof document;function k(e){var t=e.url,n=e.id,r=e.nonce;return C?new Promise((function(e,i){var o=document.getElementById(n),s=window;if(o){var a=o.getAttribute("data-state");if(o.src===t&&"error"!==a){if("ready"===a)return e(n);var l=s.initMap,u=o.onerror;return s.initMap=function(){l&&l(),e(n)},void(o.onerror=function(e){u&&u(e),i(e)})}o.remove()}var c=document.createElement("script");c.type="text/javascript",c.src=t,c.id=n,c.async=!0,c.nonce=r||"",c.onerror=function(e){c.setAttribute("data-state","error"),i(e)},s.initMap=function(){c.setAttribute("data-state","ready"),e(n)},document.head.appendChild(c)})).catch((function(e){throw console.error("injectScript error: ",e),e})):Promise.reject(new Error("document is undefined"))}function L(e){var t=e.href;return!(!t||0!==t.indexOf("https://fonts.googleapis.com/css?family=Roboto")&&0!==t.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text"))||("style"===e.tagName.toLowerCase()&&e.styleSheet&&e.styleSheet.cssText&&0===e.styleSheet.cssText.replace("\r\n","").indexOf(".gm-style")?(e.styleSheet.cssText="",!0):"style"===e.tagName.toLowerCase()&&e.innerHTML&&0===e.innerHTML.replace("\r\n","").indexOf(".gm-style")?(e.innerHTML="",!0):"style"===e.tagName.toLowerCase()&&!e.styleSheet&&!e.innerHTML)}function _(){var e=document.getElementsByTagName("head")[0];if(e){var t=e.insertBefore.bind(e);e.insertBefore=function(n,r){return L(n)||Reflect.apply(t,e,[n,r]),n};var n=e.appendChild.bind(e);e.appendChild=function(t){return L(t)||Reflect.apply(n,e,[t]),t}}}function x(e){var t=e.googleMapsApiKey,n=e.googleMapsClientId,r=e.version,i=void 0===r?"weekly":r,o=e.language,s=e.region,a=e.libraries,l=e.channel,u=e.mapIds,c=e.authReferrerPolicy,h=[];return f(t&&n||!(t&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),t?h.push("key=".concat(t)):n&&h.push("client=".concat(n)),i&&h.push("v=".concat(i)),o&&h.push("language=".concat(o)),s&&h.push("region=".concat(s)),a&&a.length&&h.push("libraries=".concat(a.sort().join(","))),l&&h.push("channel=".concat(l)),u&&u.length&&h.push("map_ids=".concat(u.join(","))),c&&h.push("auth_referrer_policy=".concat(c)),h.push("callback=initMap"),"https://maps.googleapis.com/maps/api/js?".concat(h.join("&"))}var T=!1;function I(){return(0,r.jsx)("div",{children:"Loading..."})}var M,D={id:"script-loader",version:"weekly"},P=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.check=(0,e.createRef)(),n.state={loaded:!1},n.cleanupCallback=function(){delete window.google.maps,n.injectScript()},n.isCleaningUp=function(){return u(n,void 0,void 0,(function(){function e(e){if(T){if(C)var t=window.setInterval((function(){T||(window.clearInterval(t),e())}),1)}else e()}return c(this,(function(t){return[2,new Promise(e)]}))}))},n.cleanup=function(){T=!0;var e=document.getElementById(n.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter((function(e){return"string"===typeof e.src&&e.src.includes("maps.googleapis")})).forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)})),Array.prototype.slice.call(document.getElementsByTagName("link")).filter((function(e){return"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"===e.href})).forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)})),Array.prototype.slice.call(document.getElementsByTagName("style")).filter((function(e){return void 0!==e.innerText&&e.innerText.length>0&&e.innerText.includes(".gm-")})).forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))},n.injectScript=function(){n.props.preventGoogleFontsLoading&&_(),f(!!n.props.id,'LoadScript requires "id" prop to be a string: %s',n.props.id),k({id:n.props.id,nonce:n.props.nonce,url:x(n.props)}).then((function(){n.props.onLoad&&n.props.onLoad(),n.setState((function(){return{loaded:!0}}))})).catch((function(e){n.props.onError&&n.props.onError(e),console.error("\n          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (".concat(n.props.googleMapsApiKey||"-",") or Client ID (").concat(n.props.googleMapsClientId||"-",") to <LoadScript />\n          Otherwise it is a Network issue.\n        "))}))},n}return s(n,t),n.prototype.componentDidMount=function(){if(C){if(window.google&&window.google.maps&&!T)return void console.error("google api is already presented");this.isCleaningUp().then(this.injectScript).catch((function(e){console.error("Error at injecting script after cleaning up: ",e)}))}},n.prototype.componentDidUpdate=function(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),C&&e.language!==this.props.language&&(this.cleanup(),this.setState((function(){return{loaded:!1}}),this.cleanupCallback))},n.prototype.componentWillUnmount=function(){var e=this;if(C){this.cleanup();window.setTimeout((function(){e.check.current||(delete window.google,T=!1)}),1),this.props.onUnmount&&this.props.onUnmount()}},n.prototype.render=function(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{ref:this.check}),this.state.loaded?this.props.children:this.props.loadingElement||(0,r.jsx)(I,{})]})},n.defaultProps=D,n}(e.PureComponent);var A=(0,r.jsx)(I,{});(0,e.memo)((function(t){var n=t.loadingElement,r=t.onLoad,i=t.onError,o=t.onUnmount,s=t.children,a=function(t){var n=t.id,r=void 0===n?D.id:n,i=t.version,o=void 0===i?D.version:i,s=t.nonce,a=t.googleMapsApiKey,l=t.googleMapsClientId,u=t.language,c=t.region,h=t.libraries,d=t.preventGoogleFontsLoading,p=t.channel,g=t.mapIds,m=t.authReferrerPolicy,v=(0,e.useRef)(!1),y=(0,e.useState)(!1),b=y[0],w=y[1],E=(0,e.useState)(void 0),S=E[0],L=E[1];(0,e.useEffect)((function(){return v.current=!0,function(){v.current=!1}}),[]),(0,e.useEffect)((function(){C&&d&&_()}),[d]),(0,e.useEffect)((function(){b&&f(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")}),[b]);var T=x({version:o,googleMapsApiKey:a,googleMapsClientId:l,language:u,region:c,libraries:h,channel:p,mapIds:g,authReferrerPolicy:m});(0,e.useEffect)((function(){function e(){v.current&&(w(!0),M=T)}C&&(window.google&&window.google.maps&&M===T?e():k({id:r,url:T,nonce:s}).then(e).catch((function(e){v.current&&L(e),console.warn("\n        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (".concat(a||"-",") or Client ID (").concat(l||"-",")\n        Otherwise it is a Network issue.\n      ")),console.error(e)})))}),[r,T,s]);var I=(0,e.useRef)();return(0,e.useEffect)((function(){I.current&&h!==I.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),I.current=h}),[h]),{isLoaded:b,loadError:S,url:T}}(l(t,["loadingElement","onLoad","onError","onUnmount","children"])),u=a.isLoaded,c=a.loadError;return(0,e.useEffect)((function(){u&&"function"===typeof r&&r()}),[u,r]),(0,e.useEffect)((function(){c&&"function"===typeof i&&i(c)}),[c,i]),(0,e.useEffect)((function(){return function(){o&&o()}}),[o]),u?s:n||A}));var N;!function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"}(N||(N={}));var O={},R={options:function(e,t){e.setOptions(t)}};(0,e.memo)((function(t){var n=t.options,r=t.onLoad,i=t.onUnmount,o=(0,e.useContext)(p),s=(0,e.useState)(null),l=s[0],u=s[1];return(0,e.useEffect)((function(){null!==l&&l.setMap(o)}),[o]),(0,e.useEffect)((function(){n&&null!==l&&l.setOptions(n)}),[l,n]),(0,e.useEffect)((function(){var e=new google.maps.TrafficLayer(a(a({},n||{}),{map:o}));return u(e),r&&r(e),function(){null!==l&&(i&&i(l),l.setMap(null))}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={trafficLayer:null},t.setTrafficLayerCallback=function(){null!==t.state.trafficLayer&&t.props.onLoad&&t.props.onLoad(t.state.trafficLayer)},t.registeredEvents=[],t}s(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.TrafficLayer(a(a({},this.props.options||{}),{map:this.context}));this.registeredEvents=b({updaterMap:R,eventMap:O,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{trafficLayer:e}}),this.setTrafficLayerCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.trafficLayer&&(y(this.registeredEvents),this.registeredEvents=b({updaterMap:R,eventMap:O,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))},t.prototype.componentWillUnmount=function(){null!==this.state.trafficLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),y(this.registeredEvents),this.state.trafficLayer.setMap(null))},t.prototype.render=function(){return null},t.contextType=p}(e.PureComponent);(0,e.memo)((function(t){var n=t.onLoad,r=t.onUnmount,i=(0,e.useContext)(p),o=(0,e.useState)(null),s=o[0],a=o[1];return(0,e.useEffect)((function(){null!==s&&s.setMap(i)}),[i]),(0,e.useEffect)((function(){var e=new google.maps.BicyclingLayer;return a(e),e.setMap(i),n&&n(e),function(){null!==e&&(r&&r(e),e.setMap(null))}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={bicyclingLayer:null},t.setBicyclingLayerCallback=function(){null!==t.state.bicyclingLayer&&(t.state.bicyclingLayer.setMap(t.context),t.props.onLoad&&t.props.onLoad(t.state.bicyclingLayer))},t}s(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.BicyclingLayer;this.setState((function(){return{bicyclingLayer:e}}),this.setBicyclingLayerCallback)},t.prototype.componentWillUnmount=function(){null!==this.state.bicyclingLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))},t.prototype.render=function(){return null},t.contextType=p}(e.PureComponent);(0,e.memo)((function(t){var n=t.onLoad,r=t.onUnmount,i=(0,e.useContext)(p),o=(0,e.useState)(null),s=o[0],a=o[1];return(0,e.useEffect)((function(){null!==s&&s.setMap(i)}),[i]),(0,e.useEffect)((function(){var e=new google.maps.TransitLayer;return a(e),e.setMap(i),n&&n(e),function(){null!==s&&(r&&r(s),s.setMap(null))}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={transitLayer:null},t.setTransitLayerCallback=function(){null!==t.state.transitLayer&&(t.state.transitLayer.setMap(t.context),t.props.onLoad&&t.props.onLoad(t.state.transitLayer))},t}s(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.TransitLayer;this.setState((function(){return{transitLayer:e}}),this.setTransitLayerCallback)},t.prototype.componentWillUnmount=function(){null!==this.state.transitLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))},t.prototype.render=function(){return null},t.contextType=p}(e.PureComponent);var U={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},z={drawingMode:function(e,t){e.setDrawingMode(t)},options:function(e,t){e.setOptions(t)}};(0,e.memo)((function(t){var n=t.options,r=t.drawingMode,i=t.onCircleComplete,o=t.onMarkerComplete,s=t.onOverlayComplete,l=t.onPolygonComplete,u=t.onPolylineComplete,c=t.onRectangleComplete,h=t.onLoad,d=t.onUnmount,g=(0,e.useContext)(p),m=(0,e.useState)(null),v=m[0],y=m[1],b=(0,e.useState)(null),w=b[0],E=b[1],S=(0,e.useState)(null),C=S[0],k=S[1],L=(0,e.useState)(null),_=L[0],x=L[1],T=(0,e.useState)(null),I=T[0],M=T[1],D=(0,e.useState)(null),P=D[0],A=D[1],N=(0,e.useState)(null),O=N[0],R=N[1];return(0,e.useEffect)((function(){null!==v&&v.setMap(g)}),[g]),(0,e.useEffect)((function(){n&&null!==v&&v.setOptions(n)}),[v,n]),(0,e.useEffect)((function(){r&&null!==v&&v.setDrawingMode(r)}),[v,r]),(0,e.useEffect)((function(){v&&i&&(null!==w&&google.maps.event.removeListener(w),E(google.maps.event.addListener(v,"circlecomplete",i)))}),[v,i]),(0,e.useEffect)((function(){v&&o&&(null!==C&&google.maps.event.removeListener(C),k(google.maps.event.addListener(v,"markercomplete",o)))}),[v,o]),(0,e.useEffect)((function(){v&&s&&(null!==_&&google.maps.event.removeListener(_),x(google.maps.event.addListener(v,"overlaycomplete",s)))}),[v,s]),(0,e.useEffect)((function(){v&&l&&(null!==I&&google.maps.event.removeListener(I),M(google.maps.event.addListener(v,"polygoncomplete",l)))}),[v,l]),(0,e.useEffect)((function(){v&&u&&(null!==P&&google.maps.event.removeListener(P),A(google.maps.event.addListener(v,"polylinecomplete",u)))}),[v,u]),(0,e.useEffect)((function(){v&&c&&(null!==O&&google.maps.event.removeListener(O),R(google.maps.event.addListener(v,"rectanglecomplete",c)))}),[v,c]),(0,e.useEffect)((function(){f(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var e=new google.maps.drawing.DrawingManager(a(a({},n||{}),{map:g}));return r&&e.setDrawingMode(r),i&&E(google.maps.event.addListener(e,"circlecomplete",i)),o&&k(google.maps.event.addListener(e,"markercomplete",o)),s&&x(google.maps.event.addListener(e,"overlaycomplete",s)),l&&M(google.maps.event.addListener(e,"polygoncomplete",l)),u&&A(google.maps.event.addListener(e,"polylinecomplete",u)),c&&R(google.maps.event.addListener(e,"rectanglecomplete",c)),y(e),h&&h(e),function(){null!==v&&(w&&google.maps.event.removeListener(w),C&&google.maps.event.removeListener(C),_&&google.maps.event.removeListener(_),I&&google.maps.event.removeListener(I),P&&google.maps.event.removeListener(P),O&&google.maps.event.removeListener(O),d&&d(v),v.setMap(null))}}),[]),null})),function(e){function t(t){var n=e.call(this,t)||this;return n.registeredEvents=[],n.state={drawingManager:null},n.setDrawingManagerCallback=function(){null!==n.state.drawingManager&&n.props.onLoad&&n.props.onLoad(n.state.drawingManager)},f(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing),n}s(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.drawing.DrawingManager(a(a({},this.props.options||{}),{map:this.context}));this.registeredEvents=b({updaterMap:z,eventMap:U,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{drawingManager:e}}),this.setDrawingManagerCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.drawingManager&&(y(this.registeredEvents),this.registeredEvents=b({updaterMap:z,eventMap:U,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))},t.prototype.componentWillUnmount=function(){null!==this.state.drawingManager&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),y(this.registeredEvents),this.state.drawingManager.setMap(null))},t.prototype.render=function(){return null},t.contextType=p}(e.PureComponent);var F={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},V={animation:function(e,t){e.setAnimation(t)},clickable:function(e,t){e.setClickable(t)},cursor:function(e,t){e.setCursor(t)},draggable:function(e,t){e.setDraggable(t)},icon:function(e,t){e.setIcon(t)},label:function(e,t){e.setLabel(t)},map:function(e,t){e.setMap(t)},opacity:function(e,t){e.setOpacity(t)},options:function(e,t){e.setOptions(t)},position:function(e,t){e.setPosition(t)},shape:function(e,t){e.setShape(t)},title:function(e,t){e.setTitle(t)},visible:function(e,t){e.setVisible(t)},zIndex:function(e,t){e.setZIndex(t)}},B={};(0,e.memo)((function(t){var n=t.position,i=t.options,o=t.clusterer,s=t.noClustererRedraw,l=t.children,u=t.draggable,c=t.visible,h=t.animation,d=t.clickable,f=t.cursor,g=t.icon,m=t.label,v=t.opacity,y=t.shape,b=t.title,w=t.zIndex,E=t.onClick,S=t.onDblClick,C=t.onDrag,k=t.onDragEnd,L=t.onDragStart,_=t.onMouseOut,x=t.onMouseOver,T=t.onMouseUp,I=t.onMouseDown,M=t.onRightClick,D=t.onClickableChanged,P=t.onCursorChanged,A=t.onAnimationChanged,N=t.onDraggableChanged,O=t.onFlatChanged,R=t.onIconChanged,U=t.onPositionChanged,z=t.onShapeChanged,F=t.onTitleChanged,V=t.onVisibleChanged,j=t.onZindexChanged,H=t.onLoad,W=t.onUnmount,q=(0,e.useContext)(p),K=(0,e.useState)(null),G=K[0],Q=K[1],Y=(0,e.useState)(null),Z=Y[0],$=Y[1],X=(0,e.useState)(null),J=X[0],ee=X[1],te=(0,e.useState)(null),ne=te[0],re=te[1],ie=(0,e.useState)(null),oe=ie[0],se=ie[1],ae=(0,e.useState)(null),le=ae[0],ue=ae[1],ce=(0,e.useState)(null),he=ce[0],de=ce[1],fe=(0,e.useState)(null),pe=fe[0],ge=fe[1],me=(0,e.useState)(null),ve=me[0],ye=me[1],be=(0,e.useState)(null),we=be[0],Ee=be[1],Se=(0,e.useState)(null),Ce=Se[0],ke=Se[1],Le=(0,e.useState)(null),_e=Le[0],xe=Le[1],Te=(0,e.useState)(null),Ie=Te[0],Me=Te[1],De=(0,e.useState)(null),Pe=De[0],Ae=De[1],Ne=(0,e.useState)(null),Oe=Ne[0],Re=Ne[1],Ue=(0,e.useState)(null),ze=Ue[0],Fe=Ue[1],Ve=(0,e.useState)(null),Be=Ve[0],je=Ve[1],He=(0,e.useState)(null),We=He[0],qe=He[1],Ke=(0,e.useState)(null),Ge=Ke[0],Qe=Ke[1],Ye=(0,e.useState)(null),Ze=Ye[0],$e=Ye[1],Xe=(0,e.useState)(null),Je=Xe[0],et=Xe[1],tt=(0,e.useState)(null),nt=tt[0],rt=tt[1];(0,e.useEffect)((function(){null!==G&&G.setMap(q)}),[q]),(0,e.useEffect)((function(){"undefined"!==typeof i&&null!==G&&G.setOptions(i)}),[G,i]),(0,e.useEffect)((function(){"undefined"!==typeof u&&null!==G&&G.setDraggable(u)}),[G,u]),(0,e.useEffect)((function(){n&&null!==G&&G.setPosition(n)}),[G,n]),(0,e.useEffect)((function(){"undefined"!==typeof c&&null!==G&&G.setVisible(c)}),[G,c]),(0,e.useEffect)((function(){null===G||void 0===G||G.setAnimation(h)}),[G,h]),(0,e.useEffect)((function(){G&&S&&(null!==Z&&google.maps.event.removeListener(Z),$(google.maps.event.addListener(G,"dblclick",S)))}),[S]),(0,e.useEffect)((function(){G&&k&&(null!==J&&google.maps.event.removeListener(J),ee(google.maps.event.addListener(G,"dragend",k)))}),[k]),(0,e.useEffect)((function(){G&&L&&(null!==ne&&google.maps.event.removeListener(ne),re(google.maps.event.addListener(G,"dragstart",L)))}),[L]),(0,e.useEffect)((function(){G&&I&&(null!==oe&&google.maps.event.removeListener(oe),se(google.maps.event.addListener(G,"mousedown",I)))}),[I]),(0,e.useEffect)((function(){G&&_&&(null!==le&&google.maps.event.removeListener(le),ue(google.maps.event.addListener(G,"mouseout",_)))}),[_]),(0,e.useEffect)((function(){G&&x&&(null!==he&&google.maps.event.removeListener(he),de(google.maps.event.addListener(G,"mouseover",x)))}),[x]),(0,e.useEffect)((function(){G&&T&&(null!==pe&&google.maps.event.removeListener(pe),ge(google.maps.event.addListener(G,"mouseup",T)))}),[T]),(0,e.useEffect)((function(){G&&M&&(null!==ve&&google.maps.event.removeListener(ve),ye(google.maps.event.addListener(G,"rightclick",M)))}),[M]),(0,e.useEffect)((function(){G&&E&&(null!==we&&google.maps.event.removeListener(we),Ee(google.maps.event.addListener(G,"click",E)))}),[E]),(0,e.useEffect)((function(){G&&C&&(null!==Ce&&google.maps.event.removeListener(Ce),ke(google.maps.event.addListener(G,"drag",C)))}),[C]),(0,e.useEffect)((function(){G&&D&&(null!==_e&&google.maps.event.removeListener(_e),xe(google.maps.event.addListener(G,"clickable_changed",D)))}),[D]),(0,e.useEffect)((function(){G&&P&&(null!==Ie&&google.maps.event.removeListener(Ie),Me(google.maps.event.addListener(G,"cursor_changed",P)))}),[P]),(0,e.useEffect)((function(){G&&A&&(null!==Pe&&google.maps.event.removeListener(Pe),Ae(google.maps.event.addListener(G,"animation_changed",A)))}),[A]),(0,e.useEffect)((function(){G&&N&&(null!==Oe&&google.maps.event.removeListener(Oe),Re(google.maps.event.addListener(G,"draggable_changed",N)))}),[N]),(0,e.useEffect)((function(){G&&O&&(null!==ze&&google.maps.event.removeListener(ze),Fe(google.maps.event.addListener(G,"flat_changed",O)))}),[O]),(0,e.useEffect)((function(){G&&R&&(null!==Be&&google.maps.event.removeListener(Be),je(google.maps.event.addListener(G,"icon_changed",R)))}),[R]),(0,e.useEffect)((function(){G&&U&&(null!==We&&google.maps.event.removeListener(We),qe(google.maps.event.addListener(G,"position_changed",U)))}),[U]),(0,e.useEffect)((function(){G&&z&&(null!==Ge&&google.maps.event.removeListener(Ge),Qe(google.maps.event.addListener(G,"shape_changed",z)))}),[z]),(0,e.useEffect)((function(){G&&F&&(null!==Ze&&google.maps.event.removeListener(Ze),$e(google.maps.event.addListener(G,"title_changed",F)))}),[F]),(0,e.useEffect)((function(){G&&V&&(null!==Je&&google.maps.event.removeListener(Je),et(google.maps.event.addListener(G,"visible_changed",V)))}),[V]),(0,e.useEffect)((function(){G&&j&&(null!==nt&&google.maps.event.removeListener(nt),rt(google.maps.event.addListener(G,"zindex_changed",j)))}),[j]),(0,e.useEffect)((function(){var e=a(a(a({},i||B),o?B:{map:q}),{position:n}),t=new google.maps.Marker(e);return o?o.addMarker(t,!!s):t.setMap(q),n&&t.setPosition(n),"undefined"!==typeof c&&t.setVisible(c),"undefined"!==typeof u&&t.setDraggable(u),"undefined"!==typeof d&&t.setClickable(d),"string"===typeof f&&t.setCursor(f),g&&t.setIcon(g),"undefined"!==typeof m&&t.setLabel(m),"undefined"!==typeof v&&t.setOpacity(v),y&&t.setShape(y),"string"===typeof b&&t.setTitle(b),"number"===typeof w&&t.setZIndex(w),S&&$(google.maps.event.addListener(t,"dblclick",S)),k&&ee(google.maps.event.addListener(t,"dragend",k)),L&&re(google.maps.event.addListener(t,"dragstart",L)),I&&se(google.maps.event.addListener(t,"mousedown",I)),_&&ue(google.maps.event.addListener(t,"mouseout",_)),x&&de(google.maps.event.addListener(t,"mouseover",x)),T&&ge(google.maps.event.addListener(t,"mouseup",T)),M&&ye(google.maps.event.addListener(t,"rightclick",M)),E&&Ee(google.maps.event.addListener(t,"click",E)),C&&ke(google.maps.event.addListener(t,"drag",C)),D&&xe(google.maps.event.addListener(t,"clickable_changed",D)),P&&Me(google.maps.event.addListener(t,"cursor_changed",P)),A&&Ae(google.maps.event.addListener(t,"animation_changed",A)),N&&Re(google.maps.event.addListener(t,"draggable_changed",N)),O&&Fe(google.maps.event.addListener(t,"flat_changed",O)),R&&je(google.maps.event.addListener(t,"icon_changed",R)),U&&qe(google.maps.event.addListener(t,"position_changed",U)),z&&Qe(google.maps.event.addListener(t,"shape_changed",z)),F&&$e(google.maps.event.addListener(t,"title_changed",F)),V&&et(google.maps.event.addListener(t,"visible_changed",V)),j&&rt(google.maps.event.addListener(t,"zindex_changed",j)),Q(t),H&&H(t),function(){null!==Z&&google.maps.event.removeListener(Z),null!==J&&google.maps.event.removeListener(J),null!==ne&&google.maps.event.removeListener(ne),null!==oe&&google.maps.event.removeListener(oe),null!==le&&google.maps.event.removeListener(le),null!==he&&google.maps.event.removeListener(he),null!==pe&&google.maps.event.removeListener(pe),null!==ve&&google.maps.event.removeListener(ve),null!==we&&google.maps.event.removeListener(we),null!==_e&&google.maps.event.removeListener(_e),null!==Ie&&google.maps.event.removeListener(Ie),null!==Pe&&google.maps.event.removeListener(Pe),null!==Oe&&google.maps.event.removeListener(Oe),null!==ze&&google.maps.event.removeListener(ze),null!==Be&&google.maps.event.removeListener(Be),null!==We&&google.maps.event.removeListener(We),null!==Ze&&google.maps.event.removeListener(Ze),null!==Je&&google.maps.event.removeListener(Je),null!==nt&&google.maps.event.removeListener(nt),W&&W(t),o?o.removeMarker(t,!!s):t&&t.setMap(null)}}),[]);var it=(0,e.useMemo)((function(){return l?e.Children.map(l,(function(t){if(!(0,e.isValidElement)(t))return t;var n=t;return(0,e.cloneElement)(n,{anchor:G})})):null}),[l,G]);return(0,r.jsx)(r.Fragment,{children:it})||null}));var j=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.registeredEvents=[],e}return s(n,t),n.prototype.componentDidMount=function(){var e=a(a(a({},this.props.options||B),this.props.clusterer?B:{map:this.context}),{position:this.props.position});this.marker=new google.maps.Marker(e),this.props.clusterer?this.props.clusterer.addMarker(this.marker,!!this.props.noClustererRedraw):this.marker.setMap(this.context),this.registeredEvents=b({updaterMap:V,eventMap:F,prevProps:{},nextProps:this.props,instance:this.marker}),this.props.onLoad&&this.props.onLoad(this.marker)},n.prototype.componentDidUpdate=function(e){this.marker&&(y(this.registeredEvents),this.registeredEvents=b({updaterMap:V,eventMap:F,prevProps:e,nextProps:this.props,instance:this.marker}))},n.prototype.componentWillUnmount=function(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),y(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))},n.prototype.render=function(){var t=this,n=null;return this.props.children&&(n=e.Children.map(this.props.children,(function(n){if(!(0,e.isValidElement)(n))return n;var r=n;return(0,e.cloneElement)(r,{anchor:t.marker})}))),n||null},n.contextType=p,n}(e.PureComponent),H=function(){function e(t,n){t.getClusterer().extend(e,google.maps.OverlayView),this.cluster=t,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(t.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return e.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},e.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},e.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var t=this.cluster.getClusterer();if(google.maps.event.trigger(t,"click",this.cluster),google.maps.event.trigger(t,"clusterclick",this.cluster),t.getZoomOnClick()){var n=t.getMaxZoom(),r=this.cluster.getBounds(),i=t.getMap();null!==i&&"fitBounds"in i&&i.fitBounds(r),this.timeOut=window.setTimeout((function(){var e=t.getMap();if(null!==e){"fitBounds"in e&&e.fitBounds(r);var i=e.getZoom()||0;null!==n&&i>n&&e.setZoom(n+1)}}),100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},e.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},e.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},e.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),null===(e=this.getPanes())||void 0===e||e.overlayMouseTarget.appendChild(this.div);var t=this.getMap();null!==t&&(this.boundsChangedListener=google.maps.event.addListener(t,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),null!==this.boundsChangedListener&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),null!==this.timeOut&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},e.prototype.draw=function(){if(this.visible&&null!==this.div&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=null!==e?"".concat(e.y,"px"):"0",this.div.style.left=null!==e?"".concat(e.x,"px"):"0"}},e.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},e.prototype.show=function(){var e,t,n,r,i,o;if(this.div&&this.center){var s=null===this.sums||"undefined"===typeof this.sums.title||""===this.sums.title?this.cluster.getClusterer().getTitle():this.sums.title,a=this.backgroundPosition.split(" "),l=parseInt((null===(e=a[0])||void 0===e?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),u=parseInt((null===(t=a[1])||void 0===t?void 0:t.replace(/^\s+|\s+$/g,""))||"0",10),c=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(null!==c?"".concat(c.y,"px"):"0","; left: ").concat(null!==c?"".concat(c.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var h=document.createElement("img");h.alt=s,h.src=this.url,h.width=this.width,h.height=this.height,h.setAttribute("style","position: absolute; top: ".concat(u,"px; left: ").concat(l,"px")),this.cluster.getClusterer().enableRetinaIcons||(h.style.clip="rect(-".concat(u,"px, -").concat(l+this.width,"px, -").concat(u+this.height,", -").concat(l,")"));var d=document.createElement("div");d.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),(null===(n=this.sums)||void 0===n?void 0:n.text)&&(d.innerText="".concat(null===(r=this.sums)||void 0===r?void 0:r.text)),(null===(i=this.sums)||void 0===i?void 0:i.html)&&(d.innerHTML="".concat(null===(o=this.sums)||void 0===o?void 0:o.html)),this.div.innerHTML="",this.div.appendChild(h),this.div.appendChild(d),this.div.title=s,this.div.style.display=""}this.visible=!0},e.prototype.useStyle=function(e){this.sums=e;var t=this.cluster.getClusterer().getStyles(),n=t[Math.min(t.length-1,Math.max(0,e.index-1))];n&&(this.url=n.url,this.height=n.height,this.width=n.width,n.className&&(this.className="".concat(this.clusterClassName," ").concat(n.className)),this.anchorText=n.anchorText||[0,0],this.anchorIcon=n.anchorIcon||[this.height/2,this.width/2],this.textColor=n.textColor||"black",this.textSize=n.textSize||11,this.textDecoration=n.textDecoration||"none",this.fontWeight=n.fontWeight||"bold",this.fontStyle=n.fontStyle||"normal",this.fontFamily=n.fontFamily||"Arial,sans-serif",this.backgroundPosition=n.backgroundPosition||"0 0")},e.prototype.setCenter=function(e){this.center=e},e.prototype.getPosFromLatLng=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return null!==t&&(t.x-=this.anchorIcon[1],t.y-=this.anchorIcon[0]),t},e}(),W=function(){function e(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new H(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return e.prototype.getSize=function(){return this.markers.length},e.prototype.getMarkers=function(){return this.markers},e.prototype.getCenter=function(){return this.center},e.prototype.getMap=function(){return this.map},e.prototype.getClusterer=function(){return this.markerClusterer},e.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),t=0,n=this.getMarkers();t<n.length;t++){var r=n[t].getPosition();r&&e.extend(r)}return e},e.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},e.prototype.addMarker=function(e){var t,n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter&&(n=e.getPosition())){var r=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(r-1)+n.lat())/r,(this.center.lng()*(r-1)+n.lng())/r),this.calculateBounds()}}else(n=e.getPosition())&&(this.center=n,this.calculateBounds());e.isAdded=!0,this.markers.push(e);var i=this.markers.length,o=this.markerClusterer.getMaxZoom(),s=null===(t=this.map)||void 0===t?void 0:t.getZoom();if(null!==o&&"undefined"!==typeof s&&s>o)e.getMap()!==this.map&&e.setMap(this.map);else if(i<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(i===this.minClusterSize)for(var a=0,l=this.markers;a<l.length;a++){l[a].setMap(null)}else e.setMap(null);return!0},e.prototype.isMarkerInClusterBounds=function(e){if(null!==this.bounds){var t=e.getPosition();if(t)return this.bounds.contains(t)}return!1},e.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},e.prototype.updateIcon=function(){var e,t=this.markers.length,n=this.markerClusterer.getMaxZoom(),r=null===(e=this.map)||void 0===e?void 0:e.getZoom();null!==n&&"undefined"!==typeof r&&r>n||t<this.minClusterSize?this.clusterIcon.hide():(this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show())},e.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var t=0;t<this.markers.length;t++)if(e===this.markers[t])return!0;return!1},e}();function q(e,t){var n=e.length,r=n.toString().length,i=Math.min(r,t);return{text:n.toString(),index:i,title:""}}var K=[53,56,66,78,90],G=function(){function e(t,n,r){void 0===n&&(n=[]),void 0===r&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(e,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,void 0!==r.zoomOnClick&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,void 0!==r.averageCenter&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,void 0!==r.ignoreHidden&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,void 0!==r.enableRetinaIcons&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||"https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",this.imageExtension=r.imageExtension||"png",this.imageSizes=r.imageSizes||K,this.calculator=r.calculator||q,this.batchSize=r.batchSize||2e3,this.batchSizeIE=r.batchSizeIE||500,this.clusterClass=r.clusterClass||"cluster",-1!==navigator.userAgent.toLowerCase().indexOf("msie")&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(t)}return e.prototype.onZoomChanged=function(){var e,t;this.resetViewport(!1),(null===(e=this.getMap())||void 0===e?void 0:e.getZoom())!==(this.get("minZoom")||0)&&(null===(t=this.getMap())||void 0===t?void 0:t.getZoom())!==this.get("maxZoom")||google.maps.event.trigger(this,"idle")},e.prototype.onIdle=function(){this.redraw()},e.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),null!==e&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},e.prototype.onRemove=function(){for(var e=0,t=this.markers;e<t.length;e++){var n=t[e];n.getMap()!==this.activeMap&&n.setMap(this.activeMap)}for(var r=0,i=this.clusters;r<i.length;r++){i[r].remove()}this.clusters=[];for(var o=0,s=this.listeners;o<s.length;o++){var a=s[o];google.maps.event.removeListener(a)}this.listeners=[],this.activeMap=null,this.ready=!1},e.prototype.draw=function(){},e.prototype.getMap=function(){return null},e.prototype.getPanes=function(){return null},e.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},e.prototype.setMap=function(){},e.prototype.addListener=function(){return{remove:function(){}}},e.prototype.bindTo=function(){},e.prototype.get=function(){},e.prototype.notify=function(){},e.prototype.set=function(){},e.prototype.setValues=function(){},e.prototype.unbind=function(){},e.prototype.unbindAll=function(){},e.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},e.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),t=new google.maps.LatLngBounds,n=0,r=e;n<r.length;n++){var i=r[n].getPosition();i&&t.extend(i)}var o=this.getMap();null!==o&&"fitBounds"in o&&o.fitBounds(t)},e.prototype.getGridSize=function(){return this.gridSize},e.prototype.setGridSize=function(e){this.gridSize=e},e.prototype.getMinimumClusterSize=function(){return this.minClusterSize},e.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},e.prototype.getMaxZoom=function(){return this.maxZoom},e.prototype.setMaxZoom=function(e){this.maxZoom=e},e.prototype.getStyles=function(){return this.styles},e.prototype.setStyles=function(e){this.styles=e},e.prototype.getTitle=function(){return this.title},e.prototype.setTitle=function(e){this.title=e},e.prototype.getZoomOnClick=function(){return this.zoomOnClick},e.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},e.prototype.getAverageCenter=function(){return this.averageCenter},e.prototype.setAverageCenter=function(e){this.averageCenter=e},e.prototype.getIgnoreHidden=function(){return this.ignoreHidden},e.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},e.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},e.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},e.prototype.getImageExtension=function(){return this.imageExtension},e.prototype.setImageExtension=function(e){this.imageExtension=e},e.prototype.getImagePath=function(){return this.imagePath},e.prototype.setImagePath=function(e){this.imagePath=e},e.prototype.getImageSizes=function(){return this.imageSizes},e.prototype.setImageSizes=function(e){this.imageSizes=e},e.prototype.getCalculator=function(){return this.calculator},e.prototype.setCalculator=function(e){this.calculator=e},e.prototype.getBatchSizeIE=function(){return this.batchSizeIE},e.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},e.prototype.getClusterClass=function(){return this.clusterClass},e.prototype.setClusterClass=function(e){this.clusterClass=e},e.prototype.getMarkers=function(){return this.markers},e.prototype.getTotalMarkers=function(){return this.markers.length},e.prototype.getClusters=function(){return this.clusters},e.prototype.getTotalClusters=function(){return this.clusters.length},e.prototype.addMarker=function(e,t){this.pushMarkerTo(e),t||this.redraw()},e.prototype.addMarkers=function(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=e[n];r&&this.pushMarkerTo(r)}t||this.redraw()},e.prototype.pushMarkerTo=function(e){var t=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",(function(){t.ready&&(e.isAdded=!1,t.repaint())})),e.isAdded=!1,this.markers.push(e)},e.prototype.removeMarker_=function(e){var t=-1;if(this.markers.indexOf)t=this.markers.indexOf(e);else for(var n=0;n<this.markers.length;n++)if(e===this.markers[n]){t=n;break}return-1!==t&&(e.setMap(null),this.markers.splice(t,1),!0)},e.prototype.removeMarker=function(e,t){var n=this.removeMarker_(e);return!t&&n&&this.repaint(),n},e.prototype.removeMarkers=function(e,t){for(var n=!1,r=0,i=e;r<i.length;r++){var o=i[r];n=n||this.removeMarker_(o)}return!t&&n&&this.repaint(),n},e.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},e.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout((function(){for(var t=0,n=e;t<n.length;t++){n[t].remove()}}),0)},e.prototype.getExtendedBounds=function(e){var t=this.getProjection(),n=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));null!==n&&(n.x+=this.gridSize,n.y-=this.gridSize);var r=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(null!==r&&(r.x-=this.gridSize,r.y+=this.gridSize),null!==n){var i=t.fromDivPixelToLatLng(n);null!==i&&e.extend(i)}if(null!==r){var o=t.fromDivPixelToLatLng(r);null!==o&&e.extend(o)}return e},e.prototype.redraw=function(){this.createClusters(0)},e.prototype.resetViewport=function(e){for(var t=0,n=this.clusters;t<n.length;t++){n[t].remove()}this.clusters=[];for(var r=0,i=this.markers;r<i.length;r++){var o=i[r];o.isAdded=!1,e&&o.setMap(null)}},e.prototype.distanceBetweenPoints=function(e,t){var n=(t.lat()-e.lat())*Math.PI/180,r=(t.lng()-e.lng())*Math.PI/180,i=Math.sin(n/2)*Math.sin(n/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(r/2)*Math.sin(r/2);return 2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i))*6371},e.prototype.isMarkerInBounds=function(e,t){var n=e.getPosition();return!!n&&t.contains(n)},e.prototype.addToClosestCluster=function(e){for(var t,n=4e4,r=null,i=0,o=this.clusters;i<o.length;i++){var s=(t=o[i]).getCenter(),a=e.getPosition();if(s&&a){var l=this.distanceBetweenPoints(s,a);l<n&&(n=l,r=t)}}r&&r.isMarkerInClusterBounds(e)?r.addMarker(e):((t=new W(this)).addMarker(e),this.clusters.push(t))},e.prototype.createClusters=function(e){var t=this;if(this.ready){0===e&&(google.maps.event.trigger(this,"clusteringbegin",this),null!==this.timerRefStatic&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var n=this.getMap(),r=(null!==n&&"getBounds"in n?n.getBounds():null),i=((null===n||void 0===n?void 0:n.getZoom())||0)>3?new google.maps.LatLngBounds(null===r||void 0===r?void 0:r.getSouthWest(),null===r||void 0===r?void 0:r.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),o=this.getExtendedBounds(i),s=Math.min(e+this.batchSize,this.markers.length),a=e;a<s;a++){var l=this.markers[a];l&&!l.isAdded&&this.isMarkerInBounds(l,o)&&(!this.ignoreHidden||this.ignoreHidden&&l.getVisible())&&this.addToClosestCluster(l)}if(s<this.markers.length)this.timerRefStatic=window.setTimeout((function(){t.createClusters(s)}),0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var u=0,c=this.clusters;u<c.length;u++){c[u].updateIcon()}}}},e.prototype.extend=function(e,t){return function(e){for(var t in e.prototype){var n=t;this.prototype[n]=e.prototype[n]}return this}.apply(e,[t])},e}(),Q={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},Y={averageCenter:function(e,t){e.setAverageCenter(t)},batchSizeIE:function(e,t){e.setBatchSizeIE(t)},calculator:function(e,t){e.setCalculator(t)},clusterClass:function(e,t){e.setClusterClass(t)},enableRetinaIcons:function(e,t){e.setEnableRetinaIcons(t)},gridSize:function(e,t){e.setGridSize(t)},ignoreHidden:function(e,t){e.setIgnoreHidden(t)},imageExtension:function(e,t){e.setImageExtension(t)},imagePath:function(e,t){e.setImagePath(t)},imageSizes:function(e,t){e.setImageSizes(t)},maxZoom:function(e,t){e.setMaxZoom(t)},minimumClusterSize:function(e,t){e.setMinimumClusterSize(t)},styles:function(e,t){e.setStyles(t)},title:function(e,t){e.setTitle(t)},zoomOnClick:function(e,t){e.setZoomOnClick(t)}},Z={};(0,e.memo)((function(t){var n=t.children,r=t.options,i=t.averageCenter,o=t.batchSizeIE,s=t.calculator,l=t.clusterClass,u=t.enableRetinaIcons,c=t.gridSize,h=t.ignoreHidden,d=t.imageExtension,f=t.imagePath,g=t.imageSizes,m=t.maxZoom,v=t.minimumClusterSize,y=t.styles,b=t.title,w=t.zoomOnClick,E=t.onClick,S=t.onClusteringBegin,C=t.onClusteringEnd,k=t.onMouseOver,L=t.onMouseOut,_=t.onLoad,x=t.onUnmount,T=(0,e.useState)(null),I=T[0],M=T[1],D=(0,e.useContext)(p),P=(0,e.useState)(null),A=P[0],N=P[1],O=(0,e.useState)(null),R=O[0],U=O[1],z=(0,e.useState)(null),F=z[0],V=z[1],B=(0,e.useState)(null),j=B[0],H=B[1],W=(0,e.useState)(null),q=W[0],K=W[1];return(0,e.useEffect)((function(){I&&L&&(null!==j&&google.maps.event.removeListener(j),H(google.maps.event.addListener(I,Q.onMouseOut,L)))}),[L]),(0,e.useEffect)((function(){I&&k&&(null!==q&&google.maps.event.removeListener(q),K(google.maps.event.addListener(I,Q.onMouseOver,k)))}),[k]),(0,e.useEffect)((function(){I&&E&&(null!==A&&google.maps.event.removeListener(A),N(google.maps.event.addListener(I,Q.onClick,E)))}),[E]),(0,e.useEffect)((function(){I&&S&&(null!==R&&google.maps.event.removeListener(R),U(google.maps.event.addListener(I,Q.onClusteringBegin,S)))}),[S]),(0,e.useEffect)((function(){I&&C&&(null!==F&&google.maps.event.removeListener(F),U(google.maps.event.addListener(I,Q.onClusteringEnd,C)))}),[C]),(0,e.useEffect)((function(){"undefined"!==typeof i&&null!==I&&Y.averageCenter(I,i)}),[I,i]),(0,e.useEffect)((function(){"undefined"!==typeof o&&null!==I&&Y.batchSizeIE(I,o)}),[I,o]),(0,e.useEffect)((function(){"undefined"!==typeof s&&null!==I&&Y.calculator(I,s)}),[I,s]),(0,e.useEffect)((function(){"undefined"!==typeof l&&null!==I&&Y.clusterClass(I,l)}),[I,l]),(0,e.useEffect)((function(){"undefined"!==typeof u&&null!==I&&Y.enableRetinaIcons(I,u)}),[I,u]),(0,e.useEffect)((function(){"undefined"!==typeof c&&null!==I&&Y.gridSize(I,c)}),[I,c]),(0,e.useEffect)((function(){"undefined"!==typeof h&&null!==I&&Y.ignoreHidden(I,h)}),[I,h]),(0,e.useEffect)((function(){"undefined"!==typeof d&&null!==I&&Y.imageExtension(I,d)}),[I,d]),(0,e.useEffect)((function(){"undefined"!==typeof f&&null!==I&&Y.imagePath(I,f)}),[I,f]),(0,e.useEffect)((function(){"undefined"!==typeof g&&null!==I&&Y.imageSizes(I,g)}),[I,g]),(0,e.useEffect)((function(){"undefined"!==typeof m&&null!==I&&Y.maxZoom(I,m)}),[I,m]),(0,e.useEffect)((function(){"undefined"!==typeof v&&null!==I&&Y.minimumClusterSize(I,v)}),[I,v]),(0,e.useEffect)((function(){"undefined"!==typeof y&&null!==I&&Y.styles(I,y)}),[I,y]),(0,e.useEffect)((function(){"undefined"!==typeof b&&null!==I&&Y.title(I,b)}),[I,b]),(0,e.useEffect)((function(){"undefined"!==typeof w&&null!==I&&Y.zoomOnClick(I,w)}),[I,w]),(0,e.useEffect)((function(){if(D){var e=a({},r||Z),t=new G(D,[],e);return i&&Y.averageCenter(t,i),o&&Y.batchSizeIE(t,o),s&&Y.calculator(t,s),l&&Y.clusterClass(t,l),u&&Y.enableRetinaIcons(t,u),c&&Y.gridSize(t,c),h&&Y.ignoreHidden(t,h),d&&Y.imageExtension(t,d),f&&Y.imagePath(t,f),g&&Y.imageSizes(t,g),m&&Y.maxZoom(t,m),v&&Y.minimumClusterSize(t,v),y&&Y.styles(t,y),b&&Y.title(t,b),w&&Y.zoomOnClick(t,w),L&&H(google.maps.event.addListener(t,Q.onMouseOut,L)),k&&K(google.maps.event.addListener(t,Q.onMouseOver,k)),E&&N(google.maps.event.addListener(t,Q.onClick,E)),S&&U(google.maps.event.addListener(t,Q.onClusteringBegin,S)),C&&V(google.maps.event.addListener(t,Q.onClusteringEnd,C)),M(t),_&&_(t),function(){null!==j&&google.maps.event.removeListener(j),null!==q&&google.maps.event.removeListener(q),null!==A&&google.maps.event.removeListener(A),null!==R&&google.maps.event.removeListener(R),null!==F&&google.maps.event.removeListener(F),x&&x(t)}}}),[]),null!==I&&n(I)||null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={markerClusterer:null},t.setClustererCallback=function(){null!==t.state.markerClusterer&&t.props.onLoad&&t.props.onLoad(t.state.markerClusterer)},t}s(t,e),t.prototype.componentDidMount=function(){if(this.context){var e=new G(this.context,[],this.props.options);this.registeredEvents=b({updaterMap:Y,eventMap:Q,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{markerClusterer:e}}),this.setClustererCallback)}},t.prototype.componentDidUpdate=function(e){this.state.markerClusterer&&(y(this.registeredEvents),this.registeredEvents=b({updaterMap:Y,eventMap:Q,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))},t.prototype.componentWillUnmount=function(){null!==this.state.markerClusterer&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),y(this.registeredEvents),this.state.markerClusterer.setMap(null))},t.prototype.render=function(){return null!==this.state.markerClusterer?this.props.children(this.state.markerClusterer):null},t.contextType=p}(e.PureComponent);function $(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}var X=function(){function e(t){void 0===t&&(t={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(e,google.maps.OverlayView),this.content=t.content||"",this.disableAutoPan=t.disableAutoPan||!1,this.maxWidth=t.maxWidth||0,this.pixelOffset=t.pixelOffset||new google.maps.Size(0,0),this.position=t.position||new google.maps.LatLng(0,0),this.zIndex=t.zIndex||null,this.boxClass=t.boxClass||"infoBox",this.boxStyle=t.boxStyle||{},this.closeBoxMargin=t.closeBoxMargin||"2px",this.closeBoxURL=t.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",""===t.closeBoxURL&&(this.closeBoxURL=""),this.infoBoxClearance=t.infoBoxClearance||new google.maps.Size(1,1),"undefined"===typeof t.visible&&("undefined"===typeof t.isHidden?t.visible=!0:t.visible=!t.isHidden),this.isHidden=!t.visible,this.alignBottom=t.alignBottom||!1,this.pane=t.pane||"floatPane",this.enableEventPropagation=t.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return e.prototype.createInfoBoxDiv=function(){var e=this;if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),"string"===typeof this.content?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var t=this.getPanes();if(null!==t&&t[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(0!==this.maxWidth&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var n=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-n.left-n.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var r=0,i=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"];r<i.length;r++){var o=i[r];this.eventListeners.push(google.maps.event.addListener(this.div,o,$))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",(function(){e.div&&(e.div.style.cursor="default")})))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",(function(t){t.returnValue=!1,t.preventDefault&&t.preventDefault(),e.enableEventPropagation||$(t)})),google.maps.event.trigger(this,"domready")}},e.prototype.getCloseBoxImg=function(){var e="";return""!==this.closeBoxURL&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},e.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&""!==this.closeBoxURL?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},e.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},e.prototype.getCloseClickHandler=function(){return this.closeClickHandler},e.prototype.panBox=function(e){if(this.div&&!e){var t=this.getMap();if(t instanceof google.maps.Map){var n=0,r=0,i=t.getBounds();i&&!i.contains(this.position)&&t.setCenter(this.position);var o=t.getDiv(),s=o.offsetWidth,a=o.offsetHeight,l=this.pixelOffset.width,u=this.pixelOffset.height,c=this.div.offsetWidth,h=this.div.offsetHeight,d=this.infoBoxClearance.width,f=this.infoBoxClearance.height,p=this.getProjection().fromLatLngToContainerPixel(this.position);null!==p&&(p.x<-l+d?n=p.x+l-d:p.x+c+l+d>s&&(n=p.x+c+l+d-s),this.alignBottom?p.y<-u+f+h?r=p.y+u-f-h:p.y+u+f>a&&(r=p.y+u+f-a):p.y<-u+f?r=p.y+u-f:p.y+h+u+f>a&&(r=p.y+h+u+f-a)),0===n&&0===r||t.panBy(n,r)}}},e.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this.div.style[t]=e[t]);if(this.div.style.webkitTransform="translateZ(0)","undefined"!==typeof this.div.style.opacity&&""!==this.div.style.opacity){var n=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*n+')"',this.div.style.filter="alpha(opacity="+100*n+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",null!==this.zIndex&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},e.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var t=this.div.ownerDocument,n=t&&t.defaultView?t.defaultView.getComputedStyle(this.div,""):null;n&&(e.top=parseInt(n.borderTopWidth||"",10)||0,e.bottom=parseInt(n.borderBottomWidth||"",10)||0,e.left=parseInt(n.borderLeftWidth||"",10)||0,e.right=parseInt(n.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var r=this.div.currentStyle;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}return e},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},e.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection().fromLatLngToDivPixel(this.position);null!==e&&(this.div.style.left=e.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(e.y+this.pixelOffset.height)+"px":this.div.style.top=e.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},e.prototype.setOptions=function(e){void 0===e&&(e={}),"undefined"!==typeof e.boxClass&&(this.boxClass=e.boxClass,this.setBoxStyle()),"undefined"!==typeof e.boxStyle&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),"undefined"!==typeof e.content&&this.setContent(e.content),"undefined"!==typeof e.disableAutoPan&&(this.disableAutoPan=e.disableAutoPan),"undefined"!==typeof e.maxWidth&&(this.maxWidth=e.maxWidth),"undefined"!==typeof e.pixelOffset&&(this.pixelOffset=e.pixelOffset),"undefined"!==typeof e.alignBottom&&(this.alignBottom=e.alignBottom),"undefined"!==typeof e.position&&this.setPosition(e.position),"undefined"!==typeof e.zIndex&&this.setZIndex(e.zIndex),"undefined"!==typeof e.closeBoxMargin&&(this.closeBoxMargin=e.closeBoxMargin),"undefined"!==typeof e.closeBoxURL&&(this.closeBoxURL=e.closeBoxURL),"undefined"!==typeof e.infoBoxClearance&&(this.infoBoxClearance=e.infoBoxClearance),"undefined"!==typeof e.isHidden&&(this.isHidden=e.isHidden),"undefined"!==typeof e.visible&&(this.isHidden=!e.visible),"undefined"!==typeof e.enableEventPropagation&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},e.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),"string"===typeof e?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px","string"===typeof e?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},e.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},e.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},e.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},e.prototype.getContent=function(){return this.content},e.prototype.getPosition=function(){return this.position},e.prototype.getZIndex=function(){return this.zIndex},e.prototype.getVisible=function(){var e=this.getMap();return"undefined"!==typeof e&&null!==e&&!this.isHidden},e.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},e.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},e.prototype.open=function(e,t){var n=this;t&&(this.position=t.getPosition(),this.moveListener=google.maps.event.addListener(t,"position_changed",(function(){var e=t.getPosition();n.setPosition(e)})),this.mapListener=google.maps.event.addListener(t,"map_changed",(function(){n.setMap(t.map)}))),this.setMap(e),this.div&&this.panBox()},e.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,t=this.eventListeners;e<t.length;e++){var n=t[e];google.maps.event.removeListener(n)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},e.prototype.extend=function(e,t){return function(e){for(var t in e.prototype)Object.prototype.hasOwnProperty.call(this,t)||(this.prototype[t]=e.prototype[t]);return this}.apply(e,[t])},e}(),J={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},ee={options:function(e,t){e.setOptions(t)},position:function(e,t){t instanceof google.maps.LatLng?e.setPosition(t):e.setPosition(new google.maps.LatLng(t.lat,t.lng))},visible:function(e,t){e.setVisible(t)},zIndex:function(e,t){e.setZIndex(t)}},te={};(0,e.memo)((function(t){var n=t.children,r=t.anchor,o=t.options,s=t.position,u=t.zIndex,c=t.onCloseClick,h=t.onDomReady,d=t.onContentChanged,g=t.onPositionChanged,m=t.onZindexChanged,v=t.onLoad,y=t.onUnmount,b=(0,e.useContext)(p),w=(0,e.useState)(null),E=w[0],S=w[1],C=(0,e.useState)(null),k=C[0],L=C[1],_=(0,e.useState)(null),x=_[0],T=_[1],I=(0,e.useState)(null),M=I[0],D=I[1],P=(0,e.useState)(null),A=P[0],N=P[1],O=(0,e.useState)(null),R=O[0],U=O[1],z=(0,e.useRef)(null);return(0,e.useEffect)((function(){b&&null!==E&&(E.close(),r?E.open(b,r):E.getPosition()&&E.open(b))}),[b,E,r]),(0,e.useEffect)((function(){o&&null!==E&&E.setOptions(o)}),[E,o]),(0,e.useEffect)((function(){if(s&&null!==E){var e=s instanceof google.maps.LatLng?s:new google.maps.LatLng(s.lat,s.lng);E.setPosition(e)}}),[s]),(0,e.useEffect)((function(){"number"===typeof u&&null!==E&&E.setZIndex(u)}),[u]),(0,e.useEffect)((function(){E&&c&&(null!==k&&google.maps.event.removeListener(k),L(google.maps.event.addListener(E,"closeclick",c)))}),[c]),(0,e.useEffect)((function(){E&&h&&(null!==x&&google.maps.event.removeListener(x),T(google.maps.event.addListener(E,"domready",h)))}),[h]),(0,e.useEffect)((function(){E&&d&&(null!==M&&google.maps.event.removeListener(M),D(google.maps.event.addListener(E,"content_changed",d)))}),[d]),(0,e.useEffect)((function(){E&&g&&(null!==A&&google.maps.event.removeListener(A),N(google.maps.event.addListener(E,"position_changed",g)))}),[g]),(0,e.useEffect)((function(){E&&m&&(null!==R&&google.maps.event.removeListener(R),U(google.maps.event.addListener(E,"zindex_changed",m)))}),[m]),(0,e.useEffect)((function(){if(b){var e=o||te,t=e.position,n=l(e,["position"]),i=void 0;!t||t instanceof google.maps.LatLng||(i=new google.maps.LatLng(t.lat,t.lng));var s=new X(a(a({},n),i?{position:i}:{}));z.current=document.createElement("div"),S(s),c&&L(google.maps.event.addListener(s,"closeclick",c)),h&&T(google.maps.event.addListener(s,"domready",h)),d&&D(google.maps.event.addListener(s,"content_changed",d)),g&&N(google.maps.event.addListener(s,"position_changed",g)),m&&U(google.maps.event.addListener(s,"zindex_changed",m)),s.setContent(z.current),r?s.open(b,r):s.getPosition()?s.open(b):f(!1,"You must provide either an anchor or a position prop for <InfoBox>."),v&&v(s)}return function(){null!==E&&(k&&google.maps.event.removeListener(k),M&&google.maps.event.removeListener(M),x&&google.maps.event.removeListener(x),A&&google.maps.event.removeListener(A),R&&google.maps.event.removeListener(R),y&&y(E),E.close())}}),[]),z.current?(0,i.createPortal)(e.Children.only(n),z.current):null})),function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.registeredEvents=[],e.containerElement=null,e.state={infoBox:null},e.open=function(t,n){n?null!==e.context&&t.open(e.context,n):t.getPosition()?null!==e.context&&t.open(e.context):f(!1,"You must provide either an anchor or a position prop for <InfoBox>.")},e.setInfoBoxCallback=function(){null!==e.state.infoBox&&null!==e.containerElement&&(e.state.infoBox.setContent(e.containerElement),e.open(e.state.infoBox,e.props.anchor),e.props.onLoad&&e.props.onLoad(e.state.infoBox))},e}s(n,t),n.prototype.componentDidMount=function(){var e,t=this.props.options||{},n=t.position,r=l(t,["position"]);!n||n instanceof google.maps.LatLng||(e=new google.maps.LatLng(n.lat,n.lng));var i=new X(a(a({},r),e?{position:e}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=b({updaterMap:ee,eventMap:J,prevProps:{},nextProps:this.props,instance:i}),this.setState({infoBox:i},this.setInfoBoxCallback)},n.prototype.componentDidUpdate=function(e){var t=this.state.infoBox;null!==t&&(y(this.registeredEvents),this.registeredEvents=b({updaterMap:ee,eventMap:J,prevProps:e,nextProps:this.props,instance:t}))},n.prototype.componentWillUnmount=function(){var e=this.props.onUnmount,t=this.state.infoBox;null!==t&&(e&&e(t),y(this.registeredEvents),t.close())},n.prototype.render=function(){return this.containerElement?(0,i.createPortal)(e.Children.only(this.props.children),this.containerElement):null},n.contextType=p}(e.PureComponent);var ne=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!==i--;){var s=o[i];if(!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n},re=h(ne);const ie=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class oe{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[t,n]=new Uint8Array(e,0,2);if(219!==t)throw new Error("Data does not appear to be in a KDBush format.");const r=n>>4;if(1!==r)throw new Error("Got v".concat(r," data when expected v").concat(1,"."));const i=ie[15&n];if(!i)throw new Error("Unrecognized array type.");const[o]=new Uint16Array(e,2,1),[s]=new Uint32Array(e,4,1);return new oe(s,o,i,e)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Float64Array,r=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+t,2),65535),this.ArrayType=n,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;const i=ie.indexOf(this.ArrayType),o=2*e*this.ArrayType.BYTES_PER_ELEMENT,s=e*this.IndexArrayType.BYTES_PER_ELEMENT,a=(8-s%8)%8;if(i<0)throw new Error("Unexpected typed array class: ".concat(n,"."));r&&r instanceof ArrayBuffer?(this.data=r,this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+s+a,2*e),this._pos=2*e,this._finished=!0):(this.data=new ArrayBuffer(8+o+s+a),this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+s+a,2*e),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+i]),new Uint16Array(this.data,2,1)[0]=t,new Uint32Array(this.data,4,1)[0]=e)}add(e,t){const n=this._pos>>1;return this.ids[n]=n,this.coords[this._pos++]=e,this.coords[this._pos++]=t,n}finish(){const e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return se(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,t,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:i,coords:o,nodeSize:s}=this,a=[0,i.length-1,0],l=[];for(;a.length;){const u=a.pop()||0,c=a.pop()||0,h=a.pop()||0;if(c-h<=s){for(let s=h;s<=c;s++){const a=o[2*s],u=o[2*s+1];a>=e&&a<=n&&u>=t&&u<=r&&l.push(i[s])}continue}const d=h+c>>1,f=o[2*d],p=o[2*d+1];f>=e&&f<=n&&p>=t&&p<=r&&l.push(i[d]),(0===u?e<=f:t<=p)&&(a.push(h),a.push(d-1),a.push(1-u)),(0===u?n>=f:r>=p)&&(a.push(d+1),a.push(c),a.push(1-u))}return l}within(e,t,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:r,coords:i,nodeSize:o}=this,s=[0,r.length-1,0],a=[],l=n*n;for(;s.length;){const u=s.pop()||0,c=s.pop()||0,h=s.pop()||0;if(c-h<=o){for(let n=h;n<=c;n++)ce(i[2*n],i[2*n+1],e,t)<=l&&a.push(r[n]);continue}const d=h+c>>1,f=i[2*d],p=i[2*d+1];ce(f,p,e,t)<=l&&a.push(r[d]),(0===u?e-n<=f:t-n<=p)&&(s.push(h),s.push(d-1),s.push(1-u)),(0===u?e+n>=f:t+n>=p)&&(s.push(d+1),s.push(c),s.push(1-u))}return a}}function se(e,t,n,r,i,o){if(i-r<=n)return;const s=r+i>>1;ae(e,t,s,r,i,o),se(e,t,n,r,s-1,1-o),se(e,t,n,s+1,i,1-o)}function ae(e,t,n,r,i,o){for(;i>r;){if(i-r>600){const s=i-r+1,a=n-r+1,l=Math.log(s),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(s-u)/s)*(a-s/2<0?-1:1);ae(e,t,n,Math.max(r,Math.floor(n-a*u/s+c)),Math.min(i,Math.floor(n+(s-a)*u/s+c)),o)}const s=t[2*n+o];let a=r,l=i;for(le(e,t,r,n),t[2*i+o]>s&&le(e,t,r,i);a<l;){for(le(e,t,a,l),a++,l--;t[2*a+o]<s;)a++;for(;t[2*l+o]>s;)l--}t[2*r+o]===s?le(e,t,r,l):(l++,le(e,t,l,i)),l<=n&&(r=l+1),n<=l&&(i=l-1)}}function le(e,t,n,r){ue(e,n,r),ue(t,2*n,2*r),ue(t,2*n+1,2*r+1)}function ue(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function ce(e,t,n,r){const i=e-n,o=t-r;return i*i+o*o}const he={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},de=Math.fround||(fe=new Float32Array(1),e=>(fe[0]=+e,fe[0]));var fe;const pe=3,ge=5,me=6;class ve{constructor(e){this.options=Object.assign(Object.create(he),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){const{log:t,minZoom:n,maxZoom:r}=this.options;t&&console.time("total time");const i="prepare ".concat(e.length," points");t&&console.time(i),this.points=e;const o=[];for(let a=0;a<e.length;a++){const t=e[a];if(!t.geometry)continue;const[n,r]=t.geometry.coordinates,i=de(we(n)),s=de(Ee(r));o.push(i,s,1/0,a,-1,1),this.options.reduce&&o.push(0)}let s=this.trees[r+1]=this._createTree(o);t&&console.timeEnd(i);for(let a=r;a>=n;a--){const e=+Date.now();s=this.trees[a]=this._createTree(this._cluster(s,a)),t&&console.log("z%d: %d clusters in %dms",a,s.numItems,+Date.now()-e)}return t&&console.timeEnd("total time"),this}getClusters(e,t){let n=((e[0]+180)%360+360)%360-180;const r=Math.max(-90,Math.min(90,e[1]));let i=180===e[2]?180:((e[2]+180)%360+360)%360-180;const o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,i=180;else if(n>i){const e=this.getClusters([n,r,180,o],t),s=this.getClusters([-180,r,i,o],t);return e.concat(s)}const s=this.trees[this._limitZoom(t)],a=s.range(we(n),Ee(o),we(i),Ee(r)),l=s.data,u=[];for(const c of a){const e=this.stride*c;u.push(l[e+ge]>1?ye(l,e,this.clusterProps):this.points[l[e+pe]])}return u}getChildren(e){const t=this._getOriginId(e),n=this._getOriginZoom(e),r="No cluster with the specified id.",i=this.trees[n];if(!i)throw new Error(r);const o=i.data;if(t*this.stride>=o.length)throw new Error(r);const s=this.options.radius/(this.options.extent*Math.pow(2,n-1)),a=o[t*this.stride],l=o[t*this.stride+1],u=i.within(a,l,s),c=[];for(const h of u){const t=h*this.stride;o[t+4]===e&&c.push(o[t+ge]>1?ye(o,t,this.clusterProps):this.points[o[t+pe]])}if(0===c.length)throw new Error(r);return c}getLeaves(e,t,n){t=t||10,n=n||0;const r=[];return this._appendLeaves(r,e,t,n,0),r}getTile(e,t,n){const r=this.trees[this._limitZoom(e)],i=Math.pow(2,e),{extent:o,radius:s}=this.options,a=s/o,l=(n-a)/i,u=(n+1+a)/i,c={features:[]};return this._addTileFeatures(r.range((t-a)/i,l,(t+1+a)/i,u),r.data,t,n,i,c),0===t&&this._addTileFeatures(r.range(1-a/i,l,1,u),r.data,i,n,i,c),t===i-1&&this._addTileFeatures(r.range(0,l,a/i,u),r.data,-1,n,i,c),c.features.length?c:null}getClusterExpansionZoom(e){let t=this._getOriginZoom(e)-1;for(;t<=this.options.maxZoom;){const n=this.getChildren(e);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t}_appendLeaves(e,t,n,r,i){const o=this.getChildren(t);for(const s of o){const t=s.properties;if(t&&t.cluster?i+t.point_count<=r?i+=t.point_count:i=this._appendLeaves(e,t.cluster_id,n,r,i):i<r?i++:e.push(s),e.length===n)break}return i}_createTree(e){const t=new oe(e.length/this.stride|0,this.options.nodeSize,Float32Array);for(let n=0;n<e.length;n+=this.stride)t.add(e[n],e[n+1]);return t.finish(),t.data=e,t}_addTileFeatures(e,t,n,r,i,o){for(const s of e){const e=s*this.stride,a=t[e+ge]>1;let l,u,c;if(a)l=be(t,e,this.clusterProps),u=t[e],c=t[e+1];else{const n=this.points[t[e+pe]];l=n.properties;const[r,i]=n.geometry.coordinates;u=we(r),c=Ee(i)}const h={type:1,geometry:[[Math.round(this.options.extent*(u*i-n)),Math.round(this.options.extent*(c*i-r))]],tags:l};let d;d=a||this.options.generateId?t[e+pe]:this.points[t[e+pe]].id,void 0!==d&&(h.id=d),o.features.push(h)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){const{radius:n,extent:r,reduce:i,minPoints:o}=this.options,s=n/(r*Math.pow(2,t)),a=e.data,l=[],u=this.stride;for(let c=0;c<a.length;c+=u){if(a[c+2]<=t)continue;a[c+2]=t;const n=a[c],r=a[c+1],h=e.within(a[c],a[c+1],s),d=a[c+ge];let f=d;for(const e of h){const n=e*u;a[n+2]>t&&(f+=a[n+ge])}if(f>d&&f>=o){let e,o=n*d,s=r*d,p=-1;const g=((c/u|0)<<5)+(t+1)+this.points.length;for(const n of h){const r=n*u;if(a[r+2]<=t)continue;a[r+2]=t;const l=a[r+ge];o+=a[r]*l,s+=a[r+1]*l,a[r+4]=g,i&&(e||(e=this._map(a,c,!0),p=this.clusterProps.length,this.clusterProps.push(e)),i(e,this._map(a,r)))}a[c+4]=g,l.push(o/f,s/f,1/0,g,-1,f),i&&l.push(p)}else{for(let e=0;e<u;e++)l.push(a[c+e]);if(f>1)for(const e of h){const n=e*u;if(!(a[n+2]<=t)){a[n+2]=t;for(let e=0;e<u;e++)l.push(a[n+e])}}}}return l}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t,n){if(e[t+ge]>1){const r=this.clusterProps[e[t+me]];return n?Object.assign({},r):r}const r=this.points[e[t+pe]].properties,i=this.options.map(r);return n&&i===r?Object.assign({},i):i}}function ye(e,t,n){return{type:"Feature",id:e[t+pe],properties:be(e,t,n),geometry:{type:"Point",coordinates:[Se(e[t]),Ce(e[t+1])]}}}function be(e,t,n){const r=e[t+ge],i=r>=1e4?"".concat(Math.round(r/1e3),"k"):r>=1e3?"".concat(Math.round(r/100)/10,"k"):r,o=e[t+me],s=-1===o?{}:Object.assign({},n[o]);return Object.assign(s,{cluster:!0,cluster_id:e[t+pe],point_count:r,point_count_abbreviated:i})}function we(e){return e/360+.5}function Ee(e){const t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function Se(e){return 360*(e-.5)}function Ce(e){const t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function ke(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}class Le{static isAdvancedMarkerAvailable(e){return google.maps.marker&&!0===e.getMapCapabilities().isAdvancedMarkersAvailable}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,t){this.isAdvancedMarker(e)?e.map=t:e.setMap(t)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return!!this.isAdvancedMarker(e)||e.getVisible()}}class _e{constructor(e){let{markers:t,position:n}=e;this.markers=t,n&&(n instanceof google.maps.LatLng?this._position=n:this._position=new google.maps.LatLng(n))}get bounds(){if(0===this.markers.length&&!this._position)return;const e=new google.maps.LatLngBounds(this._position,this._position);for(const t of this.markers)e.extend(Le.getPosition(t));return e}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter((e=>Le.getVisible(e))).length}push(e){this.markers.push(e)}delete(){this.marker&&(Le.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class xe{constructor(e){let{maxZoom:t=16}=e;this.maxZoom=t}noop(e){let{markers:t}=e;return Te(t)}}const Te=e=>e.map((e=>new _e({position:Le.getPosition(e),markers:[e]})));class Ie extends xe{constructor(e){var{maxZoom:t,radius:n=60}=e,r=ke(e,["maxZoom","radius"]);super({maxZoom:t}),this.state={zoom:-1},this.superCluster=new ve(Object.assign({maxZoom:this.maxZoom,radius:n},r))}calculate(e){let t=!1;const n={zoom:e.map.getZoom()};if(!re(e.markers,this.markers)){t=!0,this.markers=[...e.markers];const n=this.markers.map((e=>{const t=Le.getPosition(e);return{type:"Feature",geometry:{type:"Point",coordinates:[t.lng(),t.lat()]},properties:{marker:e}}}));this.superCluster.load(n)}return t||(this.state.zoom<=this.maxZoom||n.zoom<=this.maxZoom)&&(t=!re(this.state,n)),this.state=n,t&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:t}}cluster(e){let{map:t}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(t.getZoom())).map((e=>this.transformCluster(e)))}transformCluster(e){let{geometry:{coordinates:[t,n]},properties:r}=e;if(r.cluster)return new _e({markers:this.superCluster.getLeaves(r.cluster_id,1/0).map((e=>e.properties.marker)),position:{lat:n,lng:t}});const i=r.marker;return new _e({markers:[i],position:Le.getPosition(i)})}}class Me{constructor(e,t){this.markers={sum:e.length};const n=t.map((e=>e.count)),r=n.reduce(((e,t)=>e+t),0);this.clusters={count:t.length,markers:{mean:r/t.length,sum:r,min:Math.min(...n),max:Math.max(...n)}}}}class De{render(e,t,n){let{count:r,position:i}=e;const o=r>Math.max(10,t.clusters.markers.mean)?"#ff0000":"#0000ff",s='<svg fill="'.concat(o,'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">\n<circle cx="120" cy="120" opacity=".6" r="70" />\n<circle cx="120" cy="120" opacity=".3" r="90" />\n<circle cx="120" cy="120" opacity=".2" r="110" />\n<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">').concat(r,"</text>\n</svg>"),a="Cluster of ".concat(r," markers"),l=Number(google.maps.Marker.MAX_ZINDEX)+r;if(Le.isAdvancedMarkerAvailable(n)){const e=document.createElement("div");e.innerHTML=s;const t=e.firstElementChild;t.setAttribute("transform","translate(0 25)");const r={map:n,position:i,zIndex:l,title:a,content:t};return new google.maps.marker.AdvancedMarkerElement(r)}const u={position:i,zIndex:l,title:a,icon:{url:"data:image/svg+xml;base64,".concat(btoa(s)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(u)}}class Pe{constructor(){!function(e,t){for(let n in t.prototype)e.prototype[n]=t.prototype[n]}(Pe,google.maps.OverlayView)}}var Ae;!function(e){e.CLUSTERING_BEGIN="clusteringbegin",e.CLUSTERING_END="clusteringend",e.CLUSTER_CLICK="click"}(Ae||(Ae={}));const Ne=(e,t,n)=>{n.fitBounds(t.bounds)};class Oe extends Pe{constructor(e){let{map:t,markers:n=[],algorithmOptions:r={},algorithm:i=new Ie(r),renderer:o=new De,onClusterClick:s=Ne}=e;super(),this.markers=[...n],this.clusters=[],this.algorithm=i,this.renderer=o,this.onClusterClick=s,t&&this.setMap(t)}addMarker(e,t){this.markers.includes(e)||(this.markers.push(e),t||this.render())}addMarkers(e,t){e.forEach((e=>{this.addMarker(e,!0)})),t||this.render()}removeMarker(e,t){const n=this.markers.indexOf(e);return-1!==n&&(Le.setMap(e,null),this.markers.splice(n,1),t||this.render(),!0)}removeMarkers(e,t){let n=!1;return e.forEach((e=>{n=this.removeMarker(e,!0)||n})),n&&!t&&this.render(),n}clearMarkers(e){this.markers.length=0,e||this.render()}render(){const e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,Ae.CLUSTERING_BEGIN,this);const{clusters:t,changed:n}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(n||void 0==n){const e=new Set;for(const r of t)1==r.markers.length&&e.add(r.markers[0]);const n=[];for(const t of this.clusters)null!=t.marker&&(1==t.markers.length?e.has(t.marker)||Le.setMap(t.marker,null):n.push(t.marker));this.clusters=t,this.renderClusters(),requestAnimationFrame((()=>n.forEach((e=>Le.setMap(e,null)))))}google.maps.event.trigger(this,Ae.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach((e=>Le.setMap(e,null))),this.clusters.forEach((e=>e.delete())),this.clusters=[]}renderClusters(){const e=new Me(this.markers,this.clusters),t=this.getMap();this.clusters.forEach((n=>{1===n.markers.length?n.marker=n.markers[0]:(n.marker=this.renderer.render(n,e,t),n.markers.forEach((e=>Le.setMap(e,null))),this.onClusterClick&&n.marker.addListener("click",(e=>{google.maps.event.trigger(this,Ae.CLUSTER_CLICK,n),this.onClusterClick(e,n,t)}))),Le.setMap(n.marker,t)}))}}function Re(t){var n=function(){f(!!e.useContext,"useGoogleMap is React hook and requires React version 16.8+");var t=(0,e.useContext)(p);return f(!!t,"useGoogleMap needs a GoogleMap available up in the tree"),t}(),r=(0,e.useState)(null),i=r[0],o=r[1];return(0,e.useEffect)((function(){if(n&&null===i){var e=new Oe(a(a({},t),{map:n}));o(e)}}),[n]),i}(0,e.memo)((function(e){var t=e.children,n=Re(e.options);return null!==n?t(n):null}));var Ue={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},ze={options:function(e,t){e.setOptions(t)},position:function(e,t){e.setPosition(t)},zIndex:function(e,t){e.setZIndex(t)}};(0,e.memo)((function(t){var n=t.children,r=t.anchor,o=t.options,s=t.position,l=t.zIndex,u=t.onCloseClick,c=t.onDomReady,h=t.onContentChanged,d=t.onPositionChanged,g=t.onZindexChanged,m=t.onLoad,v=t.onUnmount,y=(0,e.useContext)(p),b=(0,e.useState)(null),w=b[0],E=b[1],S=(0,e.useState)(null),C=S[0],k=S[1],L=(0,e.useState)(null),_=L[0],x=L[1],T=(0,e.useState)(null),I=T[0],M=T[1],D=(0,e.useState)(null),P=D[0],A=D[1],N=(0,e.useState)(null),O=N[0],R=N[1],U=(0,e.useRef)(null);return(0,e.useEffect)((function(){null!==w&&(w.close(),r?w.open(y,r):w.getPosition()&&w.open(y))}),[y,w,r]),(0,e.useEffect)((function(){o&&null!==w&&w.setOptions(o)}),[w,o]),(0,e.useEffect)((function(){s&&null!==w&&w.setPosition(s)}),[s]),(0,e.useEffect)((function(){"number"===typeof l&&null!==w&&w.setZIndex(l)}),[l]),(0,e.useEffect)((function(){w&&u&&(null!==C&&google.maps.event.removeListener(C),k(google.maps.event.addListener(w,"closeclick",u)))}),[u]),(0,e.useEffect)((function(){w&&c&&(null!==_&&google.maps.event.removeListener(_),x(google.maps.event.addListener(w,"domready",c)))}),[c]),(0,e.useEffect)((function(){w&&h&&(null!==I&&google.maps.event.removeListener(I),M(google.maps.event.addListener(w,"content_changed",h)))}),[h]),(0,e.useEffect)((function(){w&&d&&(null!==P&&google.maps.event.removeListener(P),A(google.maps.event.addListener(w,"position_changed",d)))}),[d]),(0,e.useEffect)((function(){w&&g&&(null!==O&&google.maps.event.removeListener(O),R(google.maps.event.addListener(w,"zindex_changed",g)))}),[g]),(0,e.useEffect)((function(){var e=new google.maps.InfoWindow(a({},o||{}));return E(e),U.current=document.createElement("div"),u&&k(google.maps.event.addListener(e,"closeclick",u)),c&&x(google.maps.event.addListener(e,"domready",c)),h&&M(google.maps.event.addListener(e,"content_changed",h)),d&&A(google.maps.event.addListener(e,"position_changed",d)),g&&R(google.maps.event.addListener(e,"zindex_changed",g)),e.setContent(U.current),s&&e.setPosition(s),l&&e.setZIndex(l),r?e.open(y,r):e.getPosition()?e.open(y):f(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),m&&m(e),function(){C&&google.maps.event.removeListener(C),I&&google.maps.event.removeListener(I),_&&google.maps.event.removeListener(_),P&&google.maps.event.removeListener(P),O&&google.maps.event.removeListener(O),v&&v(e),e.close()}}),[]),U.current?(0,i.createPortal)(e.Children.only(n),U.current):null}));var Fe=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.registeredEvents=[],e.containerElement=null,e.state={infoWindow:null},e.open=function(t,n){n?t.open(e.context,n):t.getPosition()?t.open(e.context):f(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")},e.setInfoWindowCallback=function(){null!==e.state.infoWindow&&null!==e.containerElement&&(e.state.infoWindow.setContent(e.containerElement),e.open(e.state.infoWindow,e.props.anchor),e.props.onLoad&&e.props.onLoad(e.state.infoWindow))},e}return s(n,t),n.prototype.componentDidMount=function(){var e=new google.maps.InfoWindow(a({},this.props.options||{}));this.containerElement=document.createElement("div"),this.registeredEvents=b({updaterMap:ze,eventMap:Ue,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{infoWindow:e}}),this.setInfoWindowCallback)},n.prototype.componentDidUpdate=function(e){null!==this.state.infoWindow&&(y(this.registeredEvents),this.registeredEvents=b({updaterMap:ze,eventMap:Ue,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))},n.prototype.componentWillUnmount=function(){null!==this.state.infoWindow&&(y(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())},n.prototype.render=function(){return this.containerElement?(0,i.createPortal)(e.Children.only(this.props.children),this.containerElement):null},n.contextType=p,n}(e.PureComponent),Ve={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Be={draggable:function(e,t){e.setDraggable(t)},editable:function(e,t){e.setEditable(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},path:function(e,t){e.setPath(t)},visible:function(e,t){e.setVisible(t)}},je={};(0,e.memo)((function(t){var n=t.options,r=t.draggable,i=t.editable,o=t.visible,s=t.path,l=t.onDblClick,u=t.onDragEnd,c=t.onDragStart,h=t.onMouseDown,d=t.onMouseMove,f=t.onMouseOut,g=t.onMouseOver,m=t.onMouseUp,v=t.onRightClick,y=t.onClick,b=t.onDrag,w=t.onLoad,E=t.onUnmount,S=(0,e.useContext)(p),C=(0,e.useState)(null),k=C[0],L=C[1],_=(0,e.useState)(null),x=_[0],T=_[1],I=(0,e.useState)(null),M=I[0],D=I[1],P=(0,e.useState)(null),A=P[0],N=P[1],O=(0,e.useState)(null),R=O[0],U=O[1],z=(0,e.useState)(null),F=z[0],V=z[1],B=(0,e.useState)(null),j=B[0],H=B[1],W=(0,e.useState)(null),q=W[0],K=W[1],G=(0,e.useState)(null),Q=G[0],Y=G[1],Z=(0,e.useState)(null),$=Z[0],X=Z[1],J=(0,e.useState)(null),ee=J[0],te=J[1],ne=(0,e.useState)(null),re=ne[0],ie=ne[1];return(0,e.useEffect)((function(){null!==k&&k.setMap(S)}),[S]),(0,e.useEffect)((function(){"undefined"!==typeof n&&null!==k&&k.setOptions(n)}),[k,n]),(0,e.useEffect)((function(){"undefined"!==typeof r&&null!==k&&k.setDraggable(r)}),[k,r]),(0,e.useEffect)((function(){"undefined"!==typeof i&&null!==k&&k.setEditable(i)}),[k,i]),(0,e.useEffect)((function(){"undefined"!==typeof o&&null!==k&&k.setVisible(o)}),[k,o]),(0,e.useEffect)((function(){"undefined"!==typeof s&&null!==k&&k.setPath(s)}),[k,s]),(0,e.useEffect)((function(){k&&l&&(null!==x&&google.maps.event.removeListener(x),T(google.maps.event.addListener(k,"dblclick",l)))}),[l]),(0,e.useEffect)((function(){k&&u&&(null!==M&&google.maps.event.removeListener(M),D(google.maps.event.addListener(k,"dragend",u)))}),[u]),(0,e.useEffect)((function(){k&&c&&(null!==A&&google.maps.event.removeListener(A),N(google.maps.event.addListener(k,"dragstart",c)))}),[c]),(0,e.useEffect)((function(){k&&h&&(null!==R&&google.maps.event.removeListener(R),U(google.maps.event.addListener(k,"mousedown",h)))}),[h]),(0,e.useEffect)((function(){k&&d&&(null!==F&&google.maps.event.removeListener(F),V(google.maps.event.addListener(k,"mousemove",d)))}),[d]),(0,e.useEffect)((function(){k&&f&&(null!==j&&google.maps.event.removeListener(j),H(google.maps.event.addListener(k,"mouseout",f)))}),[f]),(0,e.useEffect)((function(){k&&g&&(null!==q&&google.maps.event.removeListener(q),K(google.maps.event.addListener(k,"mouseover",g)))}),[g]),(0,e.useEffect)((function(){k&&m&&(null!==Q&&google.maps.event.removeListener(Q),Y(google.maps.event.addListener(k,"mouseup",m)))}),[m]),(0,e.useEffect)((function(){k&&v&&(null!==$&&google.maps.event.removeListener($),X(google.maps.event.addListener(k,"rightclick",v)))}),[v]),(0,e.useEffect)((function(){k&&y&&(null!==ee&&google.maps.event.removeListener(ee),te(google.maps.event.addListener(k,"click",y)))}),[y]),(0,e.useEffect)((function(){k&&b&&(null!==re&&google.maps.event.removeListener(re),ie(google.maps.event.addListener(k,"drag",b)))}),[b]),(0,e.useEffect)((function(){var e=new google.maps.Polyline(a(a({},n||je),{map:S}));return s&&e.setPath(s),"undefined"!==typeof o&&e.setVisible(o),"undefined"!==typeof i&&e.setEditable(i),"undefined"!==typeof r&&e.setDraggable(r),l&&T(google.maps.event.addListener(e,"dblclick",l)),u&&D(google.maps.event.addListener(e,"dragend",u)),c&&N(google.maps.event.addListener(e,"dragstart",c)),h&&U(google.maps.event.addListener(e,"mousedown",h)),d&&V(google.maps.event.addListener(e,"mousemove",d)),f&&H(google.maps.event.addListener(e,"mouseout",f)),g&&K(google.maps.event.addListener(e,"mouseover",g)),m&&Y(google.maps.event.addListener(e,"mouseup",m)),v&&X(google.maps.event.addListener(e,"rightclick",v)),y&&te(google.maps.event.addListener(e,"click",y)),b&&ie(google.maps.event.addListener(e,"drag",b)),L(e),w&&w(e),function(){null!==x&&google.maps.event.removeListener(x),null!==M&&google.maps.event.removeListener(M),null!==A&&google.maps.event.removeListener(A),null!==R&&google.maps.event.removeListener(R),null!==F&&google.maps.event.removeListener(F),null!==j&&google.maps.event.removeListener(j),null!==q&&google.maps.event.removeListener(q),null!==Q&&google.maps.event.removeListener(Q),null!==$&&google.maps.event.removeListener($),null!==ee&&google.maps.event.removeListener(ee),E&&E(e),e.setMap(null)}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={polyline:null},t.setPolylineCallback=function(){null!==t.state.polyline&&t.props.onLoad&&t.props.onLoad(t.state.polyline)},t}s(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.Polyline(a(a({},this.props.options||{}),{map:this.context}));this.registeredEvents=b({updaterMap:Be,eventMap:Ve,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{polyline:e}}),this.setPolylineCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.polyline&&(y(this.registeredEvents),this.registeredEvents=b({updaterMap:Be,eventMap:Ve,prevProps:e,nextProps:this.props,instance:this.state.polyline}))},t.prototype.componentWillUnmount=function(){null!==this.state.polyline&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),y(this.registeredEvents),this.state.polyline.setMap(null))},t.prototype.render=function(){return null},t.contextType=p}(e.PureComponent);var He={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},We={draggable:function(e,t){e.setDraggable(t)},editable:function(e,t){e.setEditable(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},path:function(e,t){e.setPath(t)},paths:function(e,t){e.setPaths(t)},visible:function(e,t){e.setVisible(t)}};(0,e.memo)((function(t){var n=t.options,r=t.draggable,i=t.editable,o=t.visible,s=t.path,l=t.paths,u=t.onDblClick,c=t.onDragEnd,h=t.onDragStart,d=t.onMouseDown,f=t.onMouseMove,g=t.onMouseOut,m=t.onMouseOver,v=t.onMouseUp,y=t.onRightClick,b=t.onClick,w=t.onDrag,E=t.onLoad,S=t.onUnmount,C=(0,e.useContext)(p),k=(0,e.useState)(null),L=k[0],_=k[1],x=(0,e.useState)(null),T=x[0],I=x[1],M=(0,e.useState)(null),D=M[0],P=M[1],A=(0,e.useState)(null),N=A[0],O=A[1],R=(0,e.useState)(null),U=R[0],z=R[1],F=(0,e.useState)(null),V=F[0],B=F[1],j=(0,e.useState)(null),H=j[0],W=j[1],q=(0,e.useState)(null),K=q[0],G=q[1],Q=(0,e.useState)(null),Y=Q[0],Z=Q[1],$=(0,e.useState)(null),X=$[0],J=$[1],ee=(0,e.useState)(null),te=ee[0],ne=ee[1],re=(0,e.useState)(null),ie=re[0],oe=re[1];return(0,e.useEffect)((function(){null!==L&&L.setMap(C)}),[C]),(0,e.useEffect)((function(){"undefined"!==typeof n&&null!==L&&L.setOptions(n)}),[L,n]),(0,e.useEffect)((function(){"undefined"!==typeof r&&null!==L&&L.setDraggable(r)}),[L,r]),(0,e.useEffect)((function(){"undefined"!==typeof i&&null!==L&&L.setEditable(i)}),[L,i]),(0,e.useEffect)((function(){"undefined"!==typeof o&&null!==L&&L.setVisible(o)}),[L,o]),(0,e.useEffect)((function(){"undefined"!==typeof s&&null!==L&&L.setPath(s)}),[L,s]),(0,e.useEffect)((function(){"undefined"!==typeof l&&null!==L&&L.setPaths(l)}),[L,l]),(0,e.useEffect)((function(){L&&u&&(null!==T&&google.maps.event.removeListener(T),I(google.maps.event.addListener(L,"dblclick",u)))}),[u]),(0,e.useEffect)((function(){L&&c&&(null!==D&&google.maps.event.removeListener(D),P(google.maps.event.addListener(L,"dragend",c)))}),[c]),(0,e.useEffect)((function(){L&&h&&(null!==N&&google.maps.event.removeListener(N),O(google.maps.event.addListener(L,"dragstart",h)))}),[h]),(0,e.useEffect)((function(){L&&d&&(null!==U&&google.maps.event.removeListener(U),z(google.maps.event.addListener(L,"mousedown",d)))}),[d]),(0,e.useEffect)((function(){L&&f&&(null!==V&&google.maps.event.removeListener(V),B(google.maps.event.addListener(L,"mousemove",f)))}),[f]),(0,e.useEffect)((function(){L&&g&&(null!==H&&google.maps.event.removeListener(H),W(google.maps.event.addListener(L,"mouseout",g)))}),[g]),(0,e.useEffect)((function(){L&&m&&(null!==K&&google.maps.event.removeListener(K),G(google.maps.event.addListener(L,"mouseover",m)))}),[m]),(0,e.useEffect)((function(){L&&v&&(null!==Y&&google.maps.event.removeListener(Y),Z(google.maps.event.addListener(L,"mouseup",v)))}),[v]),(0,e.useEffect)((function(){L&&y&&(null!==X&&google.maps.event.removeListener(X),J(google.maps.event.addListener(L,"rightclick",y)))}),[y]),(0,e.useEffect)((function(){L&&b&&(null!==te&&google.maps.event.removeListener(te),ne(google.maps.event.addListener(L,"click",b)))}),[b]),(0,e.useEffect)((function(){L&&w&&(null!==ie&&google.maps.event.removeListener(ie),oe(google.maps.event.addListener(L,"drag",w)))}),[w]),(0,e.useEffect)((function(){var e=new google.maps.Polygon(a(a({},n||{}),{map:C}));return s&&e.setPath(s),l&&e.setPaths(l),"undefined"!==typeof o&&e.setVisible(o),"undefined"!==typeof i&&e.setEditable(i),"undefined"!==typeof r&&e.setDraggable(r),u&&I(google.maps.event.addListener(e,"dblclick",u)),c&&P(google.maps.event.addListener(e,"dragend",c)),h&&O(google.maps.event.addListener(e,"dragstart",h)),d&&z(google.maps.event.addListener(e,"mousedown",d)),f&&B(google.maps.event.addListener(e,"mousemove",f)),g&&W(google.maps.event.addListener(e,"mouseout",g)),m&&G(google.maps.event.addListener(e,"mouseover",m)),v&&Z(google.maps.event.addListener(e,"mouseup",v)),y&&J(google.maps.event.addListener(e,"rightclick",y)),b&&ne(google.maps.event.addListener(e,"click",b)),w&&oe(google.maps.event.addListener(e,"drag",w)),_(e),E&&E(e),function(){null!==T&&google.maps.event.removeListener(T),null!==D&&google.maps.event.removeListener(D),null!==N&&google.maps.event.removeListener(N),null!==U&&google.maps.event.removeListener(U),null!==V&&google.maps.event.removeListener(V),null!==H&&google.maps.event.removeListener(H),null!==K&&google.maps.event.removeListener(K),null!==Y&&google.maps.event.removeListener(Y),null!==X&&google.maps.event.removeListener(X),null!==te&&google.maps.event.removeListener(te),S&&S(e),e.setMap(null)}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={polygon:null},t.setPolygonCallback=function(){null!==t.state.polygon&&t.props.onLoad&&t.props.onLoad(t.state.polygon)},t}s(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.Polygon(a(a({},this.props.options||{}),{map:this.context}));this.registeredEvents=b({updaterMap:We,eventMap:He,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{polygon:e}}),this.setPolygonCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.polygon&&(y(this.registeredEvents),this.registeredEvents=b({updaterMap:We,eventMap:He,prevProps:e,nextProps:this.props,instance:this.state.polygon}))},t.prototype.componentWillUnmount=function(){null!==this.state.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.state.polygon),y(this.registeredEvents),this.state.polygon&&this.state.polygon.setMap(null))},t.prototype.render=function(){return null},t.contextType=p}(e.PureComponent);var qe={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Ke={bounds:function(e,t){e.setBounds(t)},draggable:function(e,t){e.setDraggable(t)},editable:function(e,t){e.setEditable(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},visible:function(e,t){e.setVisible(t)}};(0,e.memo)((function(t){var n=t.options,r=t.bounds,i=t.draggable,o=t.editable,s=t.visible,l=t.onDblClick,u=t.onDragEnd,c=t.onDragStart,h=t.onMouseDown,d=t.onMouseMove,f=t.onMouseOut,g=t.onMouseOver,m=t.onMouseUp,v=t.onRightClick,y=t.onClick,b=t.onDrag,w=t.onBoundsChanged,E=t.onLoad,S=t.onUnmount,C=(0,e.useContext)(p),k=(0,e.useState)(null),L=k[0],_=k[1],x=(0,e.useState)(null),T=x[0],I=x[1],M=(0,e.useState)(null),D=M[0],P=M[1],A=(0,e.useState)(null),N=A[0],O=A[1],R=(0,e.useState)(null),U=R[0],z=R[1],F=(0,e.useState)(null),V=F[0],B=F[1],j=(0,e.useState)(null),H=j[0],W=j[1],q=(0,e.useState)(null),K=q[0],G=q[1],Q=(0,e.useState)(null),Y=Q[0],Z=Q[1],$=(0,e.useState)(null),X=$[0],J=$[1],ee=(0,e.useState)(null),te=ee[0],ne=ee[1],re=(0,e.useState)(null),ie=re[0],oe=re[1],se=(0,e.useState)(null),ae=se[0],le=se[1];return(0,e.useEffect)((function(){null!==L&&L.setMap(C)}),[C]),(0,e.useEffect)((function(){"undefined"!==typeof n&&null!==L&&L.setOptions(n)}),[L,n]),(0,e.useEffect)((function(){"undefined"!==typeof i&&null!==L&&L.setDraggable(i)}),[L,i]),(0,e.useEffect)((function(){"undefined"!==typeof o&&null!==L&&L.setEditable(o)}),[L,o]),(0,e.useEffect)((function(){"undefined"!==typeof s&&null!==L&&L.setVisible(s)}),[L,s]),(0,e.useEffect)((function(){"undefined"!==typeof r&&null!==L&&L.setBounds(r)}),[L,r]),(0,e.useEffect)((function(){L&&l&&(null!==T&&google.maps.event.removeListener(T),I(google.maps.event.addListener(L,"dblclick",l)))}),[l]),(0,e.useEffect)((function(){L&&u&&(null!==D&&google.maps.event.removeListener(D),P(google.maps.event.addListener(L,"dragend",u)))}),[u]),(0,e.useEffect)((function(){L&&c&&(null!==N&&google.maps.event.removeListener(N),O(google.maps.event.addListener(L,"dragstart",c)))}),[c]),(0,e.useEffect)((function(){L&&h&&(null!==U&&google.maps.event.removeListener(U),z(google.maps.event.addListener(L,"mousedown",h)))}),[h]),(0,e.useEffect)((function(){L&&d&&(null!==V&&google.maps.event.removeListener(V),B(google.maps.event.addListener(L,"mousemove",d)))}),[d]),(0,e.useEffect)((function(){L&&f&&(null!==H&&google.maps.event.removeListener(H),W(google.maps.event.addListener(L,"mouseout",f)))}),[f]),(0,e.useEffect)((function(){L&&g&&(null!==K&&google.maps.event.removeListener(K),G(google.maps.event.addListener(L,"mouseover",g)))}),[g]),(0,e.useEffect)((function(){L&&m&&(null!==Y&&google.maps.event.removeListener(Y),Z(google.maps.event.addListener(L,"mouseup",m)))}),[m]),(0,e.useEffect)((function(){L&&v&&(null!==X&&google.maps.event.removeListener(X),J(google.maps.event.addListener(L,"rightclick",v)))}),[v]),(0,e.useEffect)((function(){L&&y&&(null!==te&&google.maps.event.removeListener(te),ne(google.maps.event.addListener(L,"click",y)))}),[y]),(0,e.useEffect)((function(){L&&b&&(null!==ie&&google.maps.event.removeListener(ie),oe(google.maps.event.addListener(L,"drag",b)))}),[b]),(0,e.useEffect)((function(){L&&w&&(null!==ae&&google.maps.event.removeListener(ae),le(google.maps.event.addListener(L,"bounds_changed",w)))}),[w]),(0,e.useEffect)((function(){var e=new google.maps.Rectangle(a(a({},n||{}),{map:C}));return"undefined"!==typeof s&&e.setVisible(s),"undefined"!==typeof o&&e.setEditable(o),"undefined"!==typeof i&&e.setDraggable(i),"undefined"!==typeof r&&e.setBounds(r),l&&I(google.maps.event.addListener(e,"dblclick",l)),u&&P(google.maps.event.addListener(e,"dragend",u)),c&&O(google.maps.event.addListener(e,"dragstart",c)),h&&z(google.maps.event.addListener(e,"mousedown",h)),d&&B(google.maps.event.addListener(e,"mousemove",d)),f&&W(google.maps.event.addListener(e,"mouseout",f)),g&&G(google.maps.event.addListener(e,"mouseover",g)),m&&Z(google.maps.event.addListener(e,"mouseup",m)),v&&J(google.maps.event.addListener(e,"rightclick",v)),y&&ne(google.maps.event.addListener(e,"click",y)),b&&oe(google.maps.event.addListener(e,"drag",b)),w&&le(google.maps.event.addListener(e,"bounds_changed",w)),_(e),E&&E(e),function(){null!==T&&google.maps.event.removeListener(T),null!==D&&google.maps.event.removeListener(D),null!==N&&google.maps.event.removeListener(N),null!==U&&google.maps.event.removeListener(U),null!==V&&google.maps.event.removeListener(V),null!==H&&google.maps.event.removeListener(H),null!==K&&google.maps.event.removeListener(K),null!==Y&&google.maps.event.removeListener(Y),null!==X&&google.maps.event.removeListener(X),null!==te&&google.maps.event.removeListener(te),null!==ie&&google.maps.event.removeListener(ie),null!==ae&&google.maps.event.removeListener(ae),S&&S(e),e.setMap(null)}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={rectangle:null},t.setRectangleCallback=function(){null!==t.state.rectangle&&t.props.onLoad&&t.props.onLoad(t.state.rectangle)},t}s(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.Rectangle(a(a({},this.props.options||{}),{map:this.context}));this.registeredEvents=b({updaterMap:Ke,eventMap:qe,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{rectangle:e}}),this.setRectangleCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.rectangle&&(y(this.registeredEvents),this.registeredEvents=b({updaterMap:Ke,eventMap:qe,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))},t.prototype.componentWillUnmount=function(){null!==this.state.rectangle&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),y(this.registeredEvents),this.state.rectangle.setMap(null))},t.prototype.render=function(){return null},t.contextType=p}(e.PureComponent);var Ge={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Qe={center:function(e,t){e.setCenter(t)},draggable:function(e,t){e.setDraggable(t)},editable:function(e,t){e.setEditable(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},radius:function(e,t){e.setRadius(t)},visible:function(e,t){e.setVisible(t)}},Ye={};(0,e.memo)((function(t){var n=t.options,r=t.center,i=t.radius,o=t.draggable,s=t.editable,l=t.visible,u=t.onDblClick,c=t.onDragEnd,h=t.onDragStart,d=t.onMouseDown,f=t.onMouseMove,g=t.onMouseOut,m=t.onMouseOver,v=t.onMouseUp,y=t.onRightClick,b=t.onClick,w=t.onDrag,E=t.onCenterChanged,S=t.onRadiusChanged,C=t.onLoad,k=t.onUnmount,L=(0,e.useContext)(p),_=(0,e.useState)(null),x=_[0],T=_[1],I=(0,e.useState)(null),M=I[0],D=I[1],P=(0,e.useState)(null),A=P[0],N=P[1],O=(0,e.useState)(null),R=O[0],U=O[1],z=(0,e.useState)(null),F=z[0],V=z[1],B=(0,e.useState)(null),j=B[0],H=B[1],W=(0,e.useState)(null),q=W[0],K=W[1],G=(0,e.useState)(null),Q=G[0],Y=G[1],Z=(0,e.useState)(null),$=Z[0],X=Z[1],J=(0,e.useState)(null),ee=J[0],te=J[1],ne=(0,e.useState)(null),re=ne[0],ie=ne[1],oe=(0,e.useState)(null),se=oe[0],ae=oe[1],le=(0,e.useState)(null),ue=le[0],ce=le[1],he=(0,e.useState)(null),de=he[0],fe=he[1];return(0,e.useEffect)((function(){null!==x&&x.setMap(L)}),[L]),(0,e.useEffect)((function(){"undefined"!==typeof n&&null!==x&&x.setOptions(n)}),[x,n]),(0,e.useEffect)((function(){"undefined"!==typeof o&&null!==x&&x.setDraggable(o)}),[x,o]),(0,e.useEffect)((function(){"undefined"!==typeof s&&null!==x&&x.setEditable(s)}),[x,s]),(0,e.useEffect)((function(){"undefined"!==typeof l&&null!==x&&x.setVisible(l)}),[x,l]),(0,e.useEffect)((function(){"number"===typeof i&&null!==x&&x.setRadius(i)}),[x,i]),(0,e.useEffect)((function(){"undefined"!==typeof r&&null!==x&&x.setCenter(r)}),[x,r]),(0,e.useEffect)((function(){x&&u&&(null!==M&&google.maps.event.removeListener(M),D(google.maps.event.addListener(x,"dblclick",u)))}),[u]),(0,e.useEffect)((function(){x&&c&&(null!==A&&google.maps.event.removeListener(A),N(google.maps.event.addListener(x,"dragend",c)))}),[c]),(0,e.useEffect)((function(){x&&h&&(null!==R&&google.maps.event.removeListener(R),U(google.maps.event.addListener(x,"dragstart",h)))}),[h]),(0,e.useEffect)((function(){x&&d&&(null!==F&&google.maps.event.removeListener(F),V(google.maps.event.addListener(x,"mousedown",d)))}),[d]),(0,e.useEffect)((function(){x&&f&&(null!==j&&google.maps.event.removeListener(j),H(google.maps.event.addListener(x,"mousemove",f)))}),[f]),(0,e.useEffect)((function(){x&&g&&(null!==q&&google.maps.event.removeListener(q),K(google.maps.event.addListener(x,"mouseout",g)))}),[g]),(0,e.useEffect)((function(){x&&m&&(null!==Q&&google.maps.event.removeListener(Q),Y(google.maps.event.addListener(x,"mouseover",m)))}),[m]),(0,e.useEffect)((function(){x&&v&&(null!==$&&google.maps.event.removeListener($),X(google.maps.event.addListener(x,"mouseup",v)))}),[v]),(0,e.useEffect)((function(){x&&y&&(null!==ee&&google.maps.event.removeListener(ee),te(google.maps.event.addListener(x,"rightclick",y)))}),[y]),(0,e.useEffect)((function(){x&&b&&(null!==re&&google.maps.event.removeListener(re),ie(google.maps.event.addListener(x,"click",b)))}),[b]),(0,e.useEffect)((function(){x&&w&&(null!==se&&google.maps.event.removeListener(se),ae(google.maps.event.addListener(x,"drag",w)))}),[w]),(0,e.useEffect)((function(){x&&E&&(null!==ue&&google.maps.event.removeListener(ue),ce(google.maps.event.addListener(x,"center_changed",E)))}),[b]),(0,e.useEffect)((function(){x&&S&&(null!==de&&google.maps.event.removeListener(de),fe(google.maps.event.addListener(x,"radius_changed",S)))}),[S]),(0,e.useEffect)((function(){var e=new google.maps.Circle(a(a({},n||Ye),{map:L}));return"number"===typeof i&&e.setRadius(i),"undefined"!==typeof r&&e.setCenter(r),"number"===typeof i&&e.setRadius(i),"undefined"!==typeof l&&e.setVisible(l),"undefined"!==typeof s&&e.setEditable(s),"undefined"!==typeof o&&e.setDraggable(o),u&&D(google.maps.event.addListener(e,"dblclick",u)),c&&N(google.maps.event.addListener(e,"dragend",c)),h&&U(google.maps.event.addListener(e,"dragstart",h)),d&&V(google.maps.event.addListener(e,"mousedown",d)),f&&H(google.maps.event.addListener(e,"mousemove",f)),g&&K(google.maps.event.addListener(e,"mouseout",g)),m&&Y(google.maps.event.addListener(e,"mouseover",m)),v&&X(google.maps.event.addListener(e,"mouseup",v)),y&&te(google.maps.event.addListener(e,"rightclick",y)),b&&ie(google.maps.event.addListener(e,"click",b)),w&&ae(google.maps.event.addListener(e,"drag",w)),E&&ce(google.maps.event.addListener(e,"center_changed",E)),S&&fe(google.maps.event.addListener(e,"radius_changed",S)),T(e),C&&C(e),function(){null!==M&&google.maps.event.removeListener(M),null!==A&&google.maps.event.removeListener(A),null!==R&&google.maps.event.removeListener(R),null!==F&&google.maps.event.removeListener(F),null!==j&&google.maps.event.removeListener(j),null!==q&&google.maps.event.removeListener(q),null!==Q&&google.maps.event.removeListener(Q),null!==$&&google.maps.event.removeListener($),null!==ee&&google.maps.event.removeListener(ee),null!==re&&google.maps.event.removeListener(re),null!==ue&&google.maps.event.removeListener(ue),null!==de&&google.maps.event.removeListener(de),k&&k(e),e.setMap(null)}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={circle:null},t.setCircleCallback=function(){null!==t.state.circle&&t.props.onLoad&&t.props.onLoad(t.state.circle)},t}s(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.Circle(a(a({},this.props.options||{}),{map:this.context}));this.registeredEvents=b({updaterMap:Qe,eventMap:Ge,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{circle:e}}),this.setCircleCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.circle&&(y(this.registeredEvents),this.registeredEvents=b({updaterMap:Qe,eventMap:Ge,prevProps:e,nextProps:this.props,instance:this.state.circle}))},t.prototype.componentWillUnmount=function(){var e;null!==this.state.circle&&(this.props.onUnmount&&this.props.onUnmount(this.state.circle),y(this.registeredEvents),null===(e=this.state.circle)||void 0===e||e.setMap(null))},t.prototype.render=function(){return null},t.contextType=p}(e.PureComponent);var Ze={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},$e={add:function(e,t){e.add(t)},addgeojson:function(e,t,n){e.addGeoJson(t,n)},contains:function(e,t){e.contains(t)},foreach:function(e,t){e.forEach(t)},loadgeojson:function(e,t,n,r){e.loadGeoJson(t,n,r)},overridestyle:function(e,t,n){e.overrideStyle(t,n)},remove:function(e,t){e.remove(t)},revertstyle:function(e,t){e.revertStyle(t)},controlposition:function(e,t){e.setControlPosition(t)},controls:function(e,t){e.setControls(t)},drawingmode:function(e,t){e.setDrawingMode(t)},map:function(e,t){e.setMap(t)},style:function(e,t){e.setStyle(t)},togeojson:function(e,t){e.toGeoJson(t)}};(0,e.memo)((function(t){var n=t.options,r=t.onClick,i=t.onDblClick,o=t.onMouseDown,s=t.onMouseMove,l=t.onMouseOut,u=t.onMouseOver,c=t.onMouseUp,h=t.onRightClick,d=t.onAddFeature,f=t.onRemoveFeature,g=t.onRemoveProperty,m=t.onSetGeometry,v=t.onSetProperty,y=t.onLoad,b=t.onUnmount,w=(0,e.useContext)(p),E=(0,e.useState)(null),S=E[0],C=E[1],k=(0,e.useState)(null),L=k[0],_=k[1],x=(0,e.useState)(null),T=x[0],I=x[1],M=(0,e.useState)(null),D=M[0],P=M[1],A=(0,e.useState)(null),N=A[0],O=A[1],R=(0,e.useState)(null),U=R[0],z=R[1],F=(0,e.useState)(null),V=F[0],B=F[1],j=(0,e.useState)(null),H=j[0],W=j[1],q=(0,e.useState)(null),K=q[0],G=q[1],Q=(0,e.useState)(null),Y=Q[0],Z=Q[1],$=(0,e.useState)(null),X=$[0],J=$[1],ee=(0,e.useState)(null),te=ee[0],ne=ee[1],re=(0,e.useState)(null),ie=re[0],oe=re[1],se=(0,e.useState)(null),ae=se[0],le=se[1];return(0,e.useEffect)((function(){null!==S&&S.setMap(w)}),[w]),(0,e.useEffect)((function(){S&&i&&(null!==L&&google.maps.event.removeListener(L),_(google.maps.event.addListener(S,"dblclick",i)))}),[i]),(0,e.useEffect)((function(){S&&o&&(null!==T&&google.maps.event.removeListener(T),I(google.maps.event.addListener(S,"mousedown",o)))}),[o]),(0,e.useEffect)((function(){S&&s&&(null!==D&&google.maps.event.removeListener(D),P(google.maps.event.addListener(S,"mousemove",s)))}),[s]),(0,e.useEffect)((function(){S&&l&&(null!==N&&google.maps.event.removeListener(N),O(google.maps.event.addListener(S,"mouseout",l)))}),[l]),(0,e.useEffect)((function(){S&&u&&(null!==U&&google.maps.event.removeListener(U),z(google.maps.event.addListener(S,"mouseover",u)))}),[u]),(0,e.useEffect)((function(){S&&c&&(null!==V&&google.maps.event.removeListener(V),B(google.maps.event.addListener(S,"mouseup",c)))}),[c]),(0,e.useEffect)((function(){S&&h&&(null!==H&&google.maps.event.removeListener(H),W(google.maps.event.addListener(S,"rightclick",h)))}),[h]),(0,e.useEffect)((function(){S&&r&&(null!==K&&google.maps.event.removeListener(K),G(google.maps.event.addListener(S,"click",r)))}),[r]),(0,e.useEffect)((function(){S&&d&&(null!==Y&&google.maps.event.removeListener(Y),Z(google.maps.event.addListener(S,"addfeature",d)))}),[d]),(0,e.useEffect)((function(){S&&f&&(null!==X&&google.maps.event.removeListener(X),J(google.maps.event.addListener(S,"removefeature",f)))}),[f]),(0,e.useEffect)((function(){S&&g&&(null!==te&&google.maps.event.removeListener(te),ne(google.maps.event.addListener(S,"removeproperty",g)))}),[g]),(0,e.useEffect)((function(){S&&m&&(null!==ie&&google.maps.event.removeListener(ie),oe(google.maps.event.addListener(S,"setgeometry",m)))}),[m]),(0,e.useEffect)((function(){S&&v&&(null!==ae&&google.maps.event.removeListener(ae),le(google.maps.event.addListener(S,"setproperty",v)))}),[v]),(0,e.useEffect)((function(){if(null!==w){var e=new google.maps.Data(a(a({},n||{}),{map:w}));i&&_(google.maps.event.addListener(e,"dblclick",i)),o&&I(google.maps.event.addListener(e,"mousedown",o)),s&&P(google.maps.event.addListener(e,"mousemove",s)),l&&O(google.maps.event.addListener(e,"mouseout",l)),u&&z(google.maps.event.addListener(e,"mouseover",u)),c&&B(google.maps.event.addListener(e,"mouseup",c)),h&&W(google.maps.event.addListener(e,"rightclick",h)),r&&G(google.maps.event.addListener(e,"click",r)),d&&Z(google.maps.event.addListener(e,"addfeature",d)),f&&J(google.maps.event.addListener(e,"removefeature",f)),g&&ne(google.maps.event.addListener(e,"removeproperty",g)),m&&oe(google.maps.event.addListener(e,"setgeometry",m)),v&&le(google.maps.event.addListener(e,"setproperty",v)),C(e),y&&y(e)}return function(){S&&(null!==L&&google.maps.event.removeListener(L),null!==T&&google.maps.event.removeListener(T),null!==D&&google.maps.event.removeListener(D),null!==N&&google.maps.event.removeListener(N),null!==U&&google.maps.event.removeListener(U),null!==V&&google.maps.event.removeListener(V),null!==H&&google.maps.event.removeListener(H),null!==K&&google.maps.event.removeListener(K),null!==Y&&google.maps.event.removeListener(Y),null!==X&&google.maps.event.removeListener(X),null!==te&&google.maps.event.removeListener(te),null!==ie&&google.maps.event.removeListener(ie),null!==ae&&google.maps.event.removeListener(ae),b&&b(S),S.setMap(null))}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={data:null},t.setDataCallback=function(){null!==t.state.data&&t.props.onLoad&&t.props.onLoad(t.state.data)},t}s(t,e),t.prototype.componentDidMount=function(){if(null!==this.context){var e=new google.maps.Data(a(a({},this.props.options||{}),{map:this.context}));this.registeredEvents=b({updaterMap:$e,eventMap:Ze,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{data:e}}),this.setDataCallback)}},t.prototype.componentDidUpdate=function(e){null!==this.state.data&&(y(this.registeredEvents),this.registeredEvents=b({updaterMap:$e,eventMap:Ze,prevProps:e,nextProps:this.props,instance:this.state.data}))},t.prototype.componentWillUnmount=function(){null!==this.state.data&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),y(this.registeredEvents),this.state.data&&this.state.data.setMap(null))},t.prototype.render=function(){return null},t.contextType=p}(e.PureComponent);var Xe={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},Je={options:function(e,t){e.setOptions(t)},url:function(e,t){e.setUrl(t)},zIndex:function(e,t){e.setZIndex(t)}};!function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={kmlLayer:null},t.setKmlLayerCallback=function(){null!==t.state.kmlLayer&&t.props.onLoad&&t.props.onLoad(t.state.kmlLayer)},t}s(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.KmlLayer(a(a({},this.props.options),{map:this.context}));this.registeredEvents=b({updaterMap:Je,eventMap:Xe,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{kmlLayer:e}}),this.setKmlLayerCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.kmlLayer&&(y(this.registeredEvents),this.registeredEvents=b({updaterMap:Je,eventMap:Xe,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))},t.prototype.componentWillUnmount=function(){null!==this.state.kmlLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),y(this.registeredEvents),this.state.kmlLayer.setMap(null))},t.prototype.render=function(){return null},t.contextType=p}(e.PureComponent);function et(e,t){return"function"===typeof t?t(e.offsetWidth,e.offsetHeight):{x:0,y:0}}function tt(e,t){return new t(e.lat,e.lng)}function nt(e,t){return new t(new google.maps.LatLng(e.ne.lat,e.ne.lng),new google.maps.LatLng(e.sw.lat,e.sw.lng))}function rt(e,t,n,r){return void 0!==n?function(e,t,n){var r=e&&e.fromLatLngToDivPixel(n.getNorthEast()),i=e&&e.fromLatLngToDivPixel(n.getSouthWest());return r&&i?{left:"".concat(i.x+t.x,"px"),top:"".concat(r.y+t.y,"px"),width:"".concat(r.x-i.x-t.x,"px"),height:"".concat(i.y-r.y-t.y,"px")}:{left:"-9999px",top:"-9999px"}}(e,t,(i=n,o=google.maps.LatLngBounds,s=nt,i instanceof o?i:s(i,o))):function(e,t,n){var r=e&&e.fromLatLngToDivPixel(n);if(r){var i=r.x,o=r.y;return{left:"".concat(i+t.x,"px"),top:"".concat(o+t.y,"px")}}return{left:"-9999px",top:"-9999px"}}(e,t,function(e,t,n){return e instanceof t?e:n(e,t)}(r,google.maps.LatLng,tt));var i,o,s}function it(e){return e?(e instanceof google.maps.LatLng?e:new google.maps.LatLng(e.lat,e.lng))+"":""}function ot(e){return e?(e instanceof google.maps.LatLngBounds?e:new google.maps.LatLngBounds(new google.maps.LatLng(e.south,e.east),new google.maps.LatLng(e.north,e.west)))+"":""}(0,e.memo)((function(t){var n=t.position,r=t.bounds,o=t.mapPaneName,l=t.zIndex,u=t.onLoad,c=t.onUnmount,h=t.getPixelPositionOffset,d=t.children,f=(0,e.useContext)(p),g=(0,e.useMemo)((function(){var e=document.createElement("div");return e.style.position="absolute",e}),[]),m=(0,e.useMemo)((function(){return function(e,t,n,r,i){var o=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.container=t,o.pane=n,o.position=r,o.bounds=i,o}return s(t,e),t.prototype.onAdd=function(){var e,t=null===(e=this.getPanes())||void 0===e?void 0:e[this.pane];null===t||void 0===t||t.appendChild(this.container)},t.prototype.draw=function(){for(var e=rt(this.getProjection(),a({},this.container?et(this.container,i):{x:0,y:0}),this.bounds,this.position),t=0,n=Object.entries(e);t<n.length;t++){var r=n[t],o=r[0],s=r[1];this.container.style[o]=s}},t.prototype.onRemove=function(){null!==this.container.parentNode&&this.container.parentNode.removeChild(this.container)},t}(google.maps.OverlayView);return new o(e,t,n,r)}(g,o,n,r,h)}),[g,o,n,r]);return(0,e.useEffect)((function(){return null===u||void 0===u||u(m),null===m||void 0===m||m.setMap(f),function(){null===c||void 0===c||c(m),null===m||void 0===m||m.setMap(null)}}),[f,m]),(0,e.useEffect)((function(){g.style.zIndex="".concat(l)}),[l,g]),i.createPortal(d,g)})),function(t){function n(n){var r=t.call(this,n)||this;r.state={paneEl:null,containerStyle:{position:"absolute"}},r.updatePane=function(){var e=r.props.mapPaneName,t=r.overlayView.getPanes();f(!!e,"OverlayView requires props.mapPaneName but got %s",e),t?r.setState({paneEl:t[e]}):r.setState({paneEl:null})},r.onAdd=function(){var e,t;r.updatePane(),null===(t=(e=r.props).onLoad)||void 0===t||t.call(e,r.overlayView)},r.onPositionElement=function(){var e,t,n,i=rt(r.overlayView.getProjection(),a({x:0,y:0},r.containerRef.current?et(r.containerRef.current,r.props.getPixelPositionOffset):{}),r.props.bounds,r.props.position),o=(e=r.state.containerStyle).left,s=e.top,l=e.width,u=e.height;n={left:o,top:s,width:l,height:u},((t=i).left!==n.left||t.top!==n.top||t.width!==n.height||t.height!==n.height)&&r.setState({containerStyle:{top:i.top||0,left:i.left||0,width:i.width||0,height:i.height||0,position:"absolute"}})},r.draw=function(){r.onPositionElement()},r.onRemove=function(){var e,t;r.setState((function(){return{paneEl:null}})),null===(t=(e=r.props).onUnmount)||void 0===t||t.call(e,r.overlayView)},r.containerRef=(0,e.createRef)();var i=new google.maps.OverlayView;return i.onAdd=r.onAdd,i.draw=r.draw,i.onRemove=r.onRemove,r.overlayView=i,r}s(n,t),n.prototype.componentDidMount=function(){this.overlayView.setMap(this.context)},n.prototype.componentDidUpdate=function(e){var t=it(e.position),n=it(this.props.position),r=ot(e.bounds),i=ot(this.props.bounds);t===n&&r===i||this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()},n.prototype.componentWillUnmount=function(){this.overlayView.setMap(null)},n.prototype.render=function(){var t=this.state.paneEl;return t?i.createPortal((0,r.jsx)("div",{ref:this.containerRef,style:this.state.containerStyle,children:e.Children.only(this.props.children)}),t):null},n.FLOAT_PANE="floatPane",n.MAP_PANE="mapPane",n.MARKER_LAYER="markerLayer",n.OVERLAY_LAYER="overlayLayer",n.OVERLAY_MOUSE_TARGET="overlayMouseTarget",n.contextType=p}(e.PureComponent);function st(){}var at={onDblClick:"dblclick",onClick:"click"},lt={opacity:function(e,t){e.setOpacity(t)}};(0,e.memo)((function(t){var n=t.url,r=t.bounds,i=t.options,o=t.visible,s=(0,e.useContext)(p),l=new google.maps.LatLngBounds(new google.maps.LatLng(r.south,r.west),new google.maps.LatLng(r.north,r.east)),u=(0,e.useMemo)((function(){return new google.maps.GroundOverlay(n,l,a({},i))}),[]);return(0,e.useEffect)((function(){null!==u&&u.setMap(s)}),[s]),(0,e.useEffect)((function(){"undefined"!==typeof n&&null!==u&&(u.set("url",n),u.setMap(s))}),[u,n]),(0,e.useEffect)((function(){"undefined"!==typeof o&&null!==u&&u.setOpacity(o?1:0)}),[u,o]),(0,e.useEffect)((function(){var e=new google.maps.LatLngBounds(new google.maps.LatLng(r.south,r.west),new google.maps.LatLng(r.north,r.east));"undefined"!==typeof r&&null!==u&&(u.set("bounds",e),u.setMap(s))}),[u,r]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={groundOverlay:null},t.setGroundOverlayCallback=function(){null!==t.state.groundOverlay&&t.props.onLoad&&t.props.onLoad(t.state.groundOverlay)},t}s(t,e),t.prototype.componentDidMount=function(){f(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,a(a({},this.props.options),{map:this.context}));this.registeredEvents=b({updaterMap:lt,eventMap:at,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{groundOverlay:e}}),this.setGroundOverlayCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.groundOverlay&&(y(this.registeredEvents),this.registeredEvents=b({updaterMap:lt,eventMap:at,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))},t.prototype.componentWillUnmount=function(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))},t.prototype.render=function(){return null},t.defaultProps={onLoad:st},t.contextType=p}(e.PureComponent);var ut={},ct={data:function(e,t){e.setData(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)}};(0,e.memo)((function(t){var n=t.data,r=t.onLoad,i=t.onUnmount,o=t.options,s=(0,e.useContext)(p),l=(0,e.useState)(null),u=l[0],c=l[1];return(0,e.useEffect)((function(){google.maps.visualization||f(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)}),[]),(0,e.useEffect)((function(){f(!!n,"data property is required in HeatmapLayer %s",n)}),[n]),(0,e.useEffect)((function(){null!==u&&u.setMap(s)}),[s]),(0,e.useEffect)((function(){o&&null!==u&&u.setOptions(o)}),[u,o]),(0,e.useEffect)((function(){var e=new google.maps.visualization.HeatmapLayer(a(a({},o||{}),{data:n,map:s}));return c(e),r&&r(e),function(){null!==u&&(i&&i(u),u.setMap(null))}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={heatmapLayer:null},t.setHeatmapLayerCallback=function(){null!==t.state.heatmapLayer&&t.props.onLoad&&t.props.onLoad(t.state.heatmapLayer)},t}s(t,e),t.prototype.componentDidMount=function(){f(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),f(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(a(a({},this.props.options||{}),{data:this.props.data,map:this.context}));this.registeredEvents=b({updaterMap:ct,eventMap:ut,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{heatmapLayer:e}}),this.setHeatmapLayerCallback)},t.prototype.componentDidUpdate=function(e){y(this.registeredEvents),this.registeredEvents=b({updaterMap:ct,eventMap:ut,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})},t.prototype.componentWillUnmount=function(){null!==this.state.heatmapLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),y(this.registeredEvents),this.state.heatmapLayer.setMap(null))},t.prototype.render=function(){return null},t.contextType=p}(e.PureComponent);var ht={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},dt={register:function(e,t,n){e.registerPanoProvider(t,n)},links:function(e,t){e.setLinks(t)},motionTracking:function(e,t){e.setMotionTracking(t)},options:function(e,t){e.setOptions(t)},pano:function(e,t){e.setPano(t)},position:function(e,t){e.setPosition(t)},pov:function(e,t){e.setPov(t)},visible:function(e,t){e.setVisible(t)},zoom:function(e,t){e.setZoom(t)}},ft=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={streetViewPanorama:null},t.setStreetViewPanoramaCallback=function(){null!==t.state.streetViewPanorama&&t.props.onLoad&&t.props.onLoad(t.state.streetViewPanorama)},t}s(t,e),t.prototype.componentDidMount=function(){var e,t,n=null!==(t=null===(e=this.context)||void 0===e?void 0:e.getStreetView())&&void 0!==t?t:null;this.registeredEvents=b({updaterMap:dt,eventMap:ht,prevProps:{},nextProps:this.props,instance:n}),this.setState((function(){return{streetViewPanorama:n}}),this.setStreetViewPanoramaCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.streetViewPanorama&&(y(this.registeredEvents),this.registeredEvents=b({updaterMap:dt,eventMap:ht,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))},t.prototype.componentWillUnmount=function(){null!==this.state.streetViewPanorama&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),y(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))},t.prototype.render=function(){return null},t.contextType=p}(e.PureComponent),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={streetViewService:null},t.setStreetViewServiceCallback=function(){null!==t.state.streetViewService&&t.props.onLoad&&t.props.onLoad(t.state.streetViewService)},t}s(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.StreetViewService;this.setState((function(){return{streetViewService:e}}),this.setStreetViewServiceCallback)},t.prototype.componentWillUnmount=function(){null!==this.state.streetViewService&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)},t.prototype.render=function(){return null},t.contextType=p}(e.PureComponent),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={directionsService:null},t.setDirectionsServiceCallback=function(){null!==t.state.directionsService&&t.props.onLoad&&t.props.onLoad(t.state.directionsService)},t}s(t,e),t.prototype.componentDidMount=function(){f(!!this.props.options,"DirectionsService expected options object as parameter, but got %s",this.props.options);var e=new google.maps.DirectionsService;this.setState((function(){return{directionsService:e}}),this.setDirectionsServiceCallback)},t.prototype.componentDidUpdate=function(){null!==this.state.directionsService&&this.state.directionsService.route(this.props.options,this.props.callback)},t.prototype.componentWillUnmount=function(){null!==this.state.directionsService&&this.props.onUnmount&&this.props.onUnmount(this.state.directionsService)},t.prototype.render=function(){return null}}(e.PureComponent),{onDirectionsChanged:"directions_changed"}),pt={directions:function(e,t){e.setDirections(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},panel:function(e,t){e.setPanel(t)},routeIndex:function(e,t){e.setRouteIndex(t)}},gt=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={directionsRenderer:null},t.setDirectionsRendererCallback=function(){null!==t.state.directionsRenderer&&(t.state.directionsRenderer.setMap(t.context),t.props.onLoad&&t.props.onLoad(t.state.directionsRenderer))},t}s(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=b({updaterMap:pt,eventMap:ft,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{directionsRenderer:e}}),this.setDirectionsRendererCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.directionsRenderer&&(y(this.registeredEvents),this.registeredEvents=b({updaterMap:pt,eventMap:ft,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))},t.prototype.componentWillUnmount=function(){null!==this.state.directionsRenderer&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),y(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))},t.prototype.render=function(){return(0,r.jsx)(r.Fragment,{})},t.contextType=p}(e.PureComponent),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={distanceMatrixService:null},t.setDistanceMatrixServiceCallback=function(){null!==t.state.distanceMatrixService&&t.props.onLoad&&t.props.onLoad(t.state.distanceMatrixService)},t}s(t,e),t.prototype.componentDidMount=function(){f(!!this.props.options,"DistanceMatrixService expected options object as parameter, but go %s",this.props.options);var e=new google.maps.DistanceMatrixService;this.setState((function(){return{distanceMatrixService:e}}),this.setDistanceMatrixServiceCallback)},t.prototype.componentDidUpdate=function(){null!==this.state.distanceMatrixService&&this.state.distanceMatrixService.getDistanceMatrix(this.props.options,this.props.callback)},t.prototype.componentWillUnmount=function(){null!==this.state.distanceMatrixService&&this.props.onUnmount&&this.props.onUnmount(this.state.distanceMatrixService)},t.prototype.render=function(){return null}}(e.PureComponent),{onPlacesChanged:"places_changed"}),mt={bounds:function(e,t){e.setBounds(t)}},vt=(function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.containerElement=(0,e.createRef)(),n.state={searchBox:null},n.setSearchBoxCallback=function(){null!==n.state.searchBox&&n.props.onLoad&&n.props.onLoad(n.state.searchBox)},n}s(n,t),n.prototype.componentDidMount=function(){if(f(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),null!==this.containerElement&&null!==this.containerElement.current){var e=this.containerElement.current.querySelector("input");if(null!==e){var t=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=b({updaterMap:mt,eventMap:gt,prevProps:{},nextProps:this.props,instance:t}),this.setState((function(){return{searchBox:t}}),this.setSearchBoxCallback)}}},n.prototype.componentDidUpdate=function(e){null!==this.state.searchBox&&(y(this.registeredEvents),this.registeredEvents=b({updaterMap:mt,eventMap:gt,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))},n.prototype.componentWillUnmount=function(){null!==this.state.searchBox&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),y(this.registeredEvents))},n.prototype.render=function(){return(0,r.jsx)("div",{ref:this.containerElement,children:e.Children.only(this.props.children)})},n.contextType=p}(e.PureComponent),{onPlaceChanged:"place_changed"}),yt={bounds:function(e,t){e.setBounds(t)},restrictions:function(e,t){e.setComponentRestrictions(t)},fields:function(e,t){e.setFields(t)},options:function(e,t){e.setOptions(t)},types:function(e,t){e.setTypes(t)}};!function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.containerElement=(0,e.createRef)(),n.state={autocomplete:null},n.setAutocompleteCallback=function(){null!==n.state.autocomplete&&n.props.onLoad&&n.props.onLoad(n.state.autocomplete)},n}s(n,t),n.prototype.componentDidMount=function(){var e;f(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var t=null===(e=this.containerElement.current)||void 0===e?void 0:e.querySelector("input");if(t){var n=new google.maps.places.Autocomplete(t,this.props.options);this.registeredEvents=b({updaterMap:yt,eventMap:vt,prevProps:{},nextProps:this.props,instance:n}),this.setState((function(){return{autocomplete:n}}),this.setAutocompleteCallback)}},n.prototype.componentDidUpdate=function(e){y(this.registeredEvents),this.registeredEvents=b({updaterMap:yt,eventMap:vt,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})},n.prototype.componentWillUnmount=function(){null!==this.state.autocomplete&&y(this.registeredEvents)},n.prototype.render=function(){return(0,r.jsx)("div",{ref:this.containerElement,className:this.props.className,children:e.Children.only(this.props.children)})},n.defaultProps={className:""},n.contextType=p}(e.PureComponent);const bt=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},wt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,u=t>>2,c=(3&t)<<4|s>>4;let h=(15&s)<<2|l>>6,d=63&l;a||(d=64,o||(h=64)),r.push(n[u],n[c],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(bt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new Et;const l=t<<2|o>>4;if(r.push(l),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Et extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const St=function(e){return function(e){const t=bt(e);return wt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ct=function(e){try{return wt.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const kt=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Lt=()=>{try{return kt()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/viso_test",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyCYsQJXAYxkPsBSzT7xNAcElAWwKPyDRCs",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyCY0YdOaBF-k26Jexn_b0OVp7uRNWxfDcM"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&Ct(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},_t=e=>{const t=(e=>{var t,n;return null===(n=null===(t=Lt())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},xt=()=>{var e;return null===(e=Lt())||void 0===e?void 0:e.config};class Tt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function It(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Mt(){return!function(){var e;const t=null===(e=Lt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Dt(){try{return"object"===typeof indexedDB}catch(e){return!1}}class Pt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Pt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,At.prototype.create)}}class At{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Nt,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Pt(n,o,t)}}const Nt=/\{\$([^}]+)}/g;function Ot(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(Rt(n)&&Rt(o)){if(!Ot(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Rt(e){return null!==e&&"object"===typeof e}function Ut(e){return e&&e._delegate?e._delegate:e}class zt{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ft="[DEFAULT]";class Vt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Tt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ft})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ft;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ft;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ft;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Ft?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ft;return this.component?this.component.multipleInstances?e:Ft:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Bt{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Vt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const jt=[];var Ht;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ht||(Ht={}));const Wt={debug:Ht.DEBUG,verbose:Ht.VERBOSE,info:Ht.INFO,warn:Ht.WARN,error:Ht.ERROR,silent:Ht.SILENT},qt=Ht.INFO,Kt={[Ht.DEBUG]:"log",[Ht.VERBOSE]:"log",[Ht.INFO]:"info",[Ht.WARN]:"warn",[Ht.ERROR]:"error"},Gt=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Kt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class Qt{constructor(e){this.name=e,this._logLevel=qt,this._logHandler=Gt,this._userLogHandler=null,jt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ht))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Wt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ht.DEBUG,...t),this._logHandler(this,Ht.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ht.VERBOSE,...t),this._logHandler(this,Ht.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ht.INFO,...t),this._logHandler(this,Ht.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ht.WARN,...t),this._logHandler(this,Ht.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ht.ERROR,...t),this._logHandler(this,Ht.ERROR,...t)}}const Yt=(e,t)=>t.some((t=>e instanceof t));let Zt,$t;const Xt=new WeakMap,Jt=new WeakMap,en=new WeakMap,tn=new WeakMap,nn=new WeakMap;let rn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Jt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||en.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return an(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function on(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?($t||($t=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ln(this),n),an(Xt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return an(e.apply(ln(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(ln(this),t,...r);return en.set(o,t.sort?t.sort():[t]),an(o)}}function sn(e){return"function"===typeof e?on(e):(e instanceof IDBTransaction&&function(e){if(Jt.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));Jt.set(e,t)}(e),Yt(e,Zt||(Zt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,rn):e)}function an(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(an(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&Xt.set(t,e)})).catch((()=>{})),nn.set(t,e),t}(e);if(tn.has(e))return tn.get(e);const t=sn(e);return t!==e&&(tn.set(e,t),nn.set(t,e)),t}const ln=e=>nn.get(e);const un=["get","getKey","getAll","getAllKeys","count"],cn=["put","add","delete","clear"],hn=new Map;function dn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(hn.get(t))return hn.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=cn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!un.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return hn.set(t,o),o}rn=(e=>({...e,get:(t,n,r)=>dn(t,n)||e.get(t,n,r),has:(t,n)=>!!dn(t,n)||e.has(t,n)}))(rn);class fn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const pn="@firebase/app",gn="0.9.26",mn=new Qt("@firebase/app"),vn="[DEFAULT]",yn={[pn]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},bn=new Map,wn=new Map;function En(e,t){try{e.container.addComponent(t)}catch(n){mn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Sn(e){const t=e.name;if(wn.has(t))return mn.debug("There were multiple attempts to register component ".concat(t,".")),!1;wn.set(t,e);for(const n of bn.values())En(n,e);return!0}function Cn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const kn=new At("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ln{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new zt("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw kn.create("app-deleted",{appName:this._name})}}function _n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:vn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw kn.create("bad-app-name",{appName:String(i)});if(n||(n=xt()),!n)throw kn.create("no-options");const o=bn.get(i);if(o){if(Ot(n,o.options)&&Ot(r,o.config))return o;throw kn.create("duplicate-app",{appName:i})}const s=new Bt(i);for(const l of wn.values())s.addComponent(l);const a=new Ln(n,r,s);return bn.set(i,a),a}function xn(e,t,n){var r;let i=null!==(r=yn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void mn.warn(e.join(" "))}Sn(new zt("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}const Tn="firebase-heartbeat-database",In=1,Mn="firebase-heartbeat-store";let Dn=null;function Pn(){return Dn||(Dn=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=an(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(an(s.result),e.oldVersion,e.newVersion,an(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(Tn,In,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Mn)}catch(n){console.warn(n)}}}).catch((e=>{throw kn.create("idb-open",{originalErrorMessage:e.message})}))),Dn}async function An(e,t){try{const n=(await Pn()).transaction(Mn,"readwrite"),r=n.objectStore(Mn);await r.put(t,Nn(e)),await n.done}catch(n){if(n instanceof Pt)mn.warn(n.message);else{const e=kn.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});mn.warn(e.message)}}}function Nn(e){return"".concat(e.name,"!").concat(e.options.appId)}class On{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Un(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Rn();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Rn(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),zn(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),zn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=St(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Rn(){return(new Date).toISOString().substring(0,10)}class Un{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Dt()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await Pn();return await t.transaction(Mn).objectStore(Mn).get(Nn(e))}catch(t){if(t instanceof Pt)mn.warn(t.message);else{const e=kn.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});mn.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return An(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return An(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function zn(e){return St(JSON.stringify({version:2,heartbeats:e})).length}var Fn;Fn="",Sn(new zt("platform-logger",(e=>new fn(e)),"PRIVATE")),Sn(new zt("heartbeat",(e=>new On(e)),"PRIVATE")),xn(pn,gn,Fn),xn(pn,gn,"esm2017"),xn("fire-js","");var Vn,Bn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},jn={},Hn=Hn||{},Wn=Bn||self;function qn(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Kn(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Gn="closure_uid_"+(1e9*Math.random()>>>0),Qn=0;function Yn(e,t,n){return e.call.apply(e.bind,arguments)}function Zn(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function $n(e,t,n){return($n=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Yn:Zn).apply(null,arguments)}function Xn(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Jn(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function er(){this.s=this.s,this.o=this.o}er.prototype.s=!1,er.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Gn)&&e[Gn]||(e[Gn]=++Qn))},er.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const tr=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function nr(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function rr(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(qn(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function ir(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ir.prototype.h=function(){this.defaultPrevented=!0};var or=function(){if(!Wn.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};Wn.addEventListener("test",e,t),Wn.removeEventListener("test",e,t)}catch(n){}return e}();function sr(e){return/^[\s\xa0]*$/.test(e)}function ar(){var e=Wn.navigator;return e&&(e=e.userAgent)?e:""}function lr(e){return-1!=ar().indexOf(e)}function ur(e){return ur[" "](e),e}ur[" "]=function(){};var cr,hr,dr=lr("Opera"),fr=lr("Trident")||lr("MSIE"),pr=lr("Edge"),gr=pr||fr,mr=lr("Gecko")&&!(-1!=ar().toLowerCase().indexOf("webkit")&&!lr("Edge"))&&!(lr("Trident")||lr("MSIE"))&&!lr("Edge"),vr=-1!=ar().toLowerCase().indexOf("webkit")&&!lr("Edge");function yr(){var e=Wn.document;return e?e.documentMode:void 0}e:{var br="",wr=function(){var e=ar();return mr?/rv:([^\);]+)(\)|;)/.exec(e):pr?/Edge\/([\d\.]+)/.exec(e):fr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):vr?/WebKit\/(\S+)/.exec(e):dr?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(wr&&(br=wr?wr[1]:""),fr){var Er=yr();if(null!=Er&&Er>parseFloat(br)){cr=String(Er);break e}}cr=br}if(Wn.document&&fr){var Sr=yr();hr=Sr||(parseInt(cr,10)||void 0)}else hr=void 0;var Cr=hr;function kr(e,t){if(ir.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(mr){e:{try{ur(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Lr[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&kr.$.h.call(this)}}Jn(kr,ir);var Lr={2:"touch",3:"pen",4:"mouse"};kr.prototype.h=function(){kr.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var _r="closure_listenable_"+(1e6*Math.random()|0),xr=0;function Tr(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++xr,this.fa=this.ia=!1}function Ir(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Mr(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Dr(e){const t={};for(const n in e)t[n]=e[n];return t}const Pr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ar(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<Pr.length;t++)n=Pr[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Nr(e){this.src=e,this.g={},this.h=0}function Or(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=tr(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Ir(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Rr(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}Nr.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=Rr(e,t,r,i);return-1<s?(t=e[s],n||(t.ia=!1)):((t=new Tr(t,this.src,o,!!r,i)).ia=n,e.push(t)),t};var Ur="closure_lm_"+(1e6*Math.random()|0),zr={};function Fr(e,t,n,r,i){if(r&&r.once)return Br(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Fr(e,t[o],n,r,i);return null}return n=Qr(n),e&&e[_r]?e.O(t,n,Kn(r)?!!r.capture:!!r,i):Vr(e,t,n,!1,r,i)}function Vr(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=Kn(i)?!!i.capture:!!i,a=Kr(e);if(a||(e[Ur]=a=new Nr(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=qr;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)or||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Wr(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Br(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Br(e,t[o],n,r,i);return null}return n=Qr(n),e&&e[_r]?e.P(t,n,Kn(r)?!!r.capture:!!r,i):Vr(e,t,n,!0,r,i)}function jr(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)jr(e,t[o],n,r,i);else r=Kn(r)?!!r.capture:!!r,n=Qr(n),e&&e[_r]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Rr(o=e.g[t],n,r,i))&&(Ir(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Kr(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Rr(t,n,r,i)),(n=-1<e?t[e]:null)&&Hr(n))}function Hr(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[_r])Or(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Wr(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Kr(t))?(Or(n,e),0==n.h&&(n.src=null,t[Ur]=null)):Ir(e)}}}function Wr(e){return e in zr?zr[e]:zr[e]="on"+e}function qr(e,t){if(e.fa)e=!0;else{t=new kr(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Hr(e),e=n.call(r,t)}return e}function Kr(e){return(e=e[Ur])instanceof Nr?e:null}var Gr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qr(e){return"function"===typeof e?e:(e[Gr]||(e[Gr]=function(t){return e.handleEvent(t)}),e[Gr])}function Yr(){er.call(this),this.i=new Nr(this),this.S=this,this.J=null}function Zr(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new ir(t,e);else if(t instanceof ir)t.target=t.target||e;else{var i=t;Ar(t=new ir(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=$r(s,r,!0,t)&&i}if(i=$r(s=t.g=e,r,!0,t)&&i,i=$r(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=$r(s=t.g=n[o],r,!1,t)&&i}function $r(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&Or(e.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}Jn(Yr,er),Yr.prototype[_r]=!0,Yr.prototype.removeEventListener=function(e,t,n,r){jr(this,e,t,n,r)},Yr.prototype.N=function(){if(Yr.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ir(n[r]);delete t.g[e],t.h--}}this.J=null},Yr.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Yr.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Xr=Wn.JSON.stringify;function Jr(){var e=si;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var ei=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new ti),(e=>e.reset()));class ti{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ni(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function ri(e){Wn.setTimeout((()=>{throw e}),0)}let ii,oi=!1,si=new class{constructor(){this.h=this.g=null}add(e,t){const n=ei.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},ai=()=>{const e=Wn.Promise.resolve(void 0);ii=()=>{e.then(li)}};var li=()=>{for(var e;e=Jr();){try{e.h.call(e.g)}catch(n){ri(n)}var t=ei;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}oi=!1};function ui(e,t){Yr.call(this),this.h=e||1,this.g=t||Wn,this.j=$n(this.qb,this),this.l=Date.now()}function ci(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function hi(e,t,n){if("function"===typeof e)n&&(e=$n(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=$n(e.handleEvent,e)}return 2147483647<Number(t)?-1:Wn.setTimeout(e,t||0)}function di(e){e.g=hi((()=>{e.g=null,e.i&&(e.i=!1,di(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Jn(ui,Yr),(Vn=ui.prototype).ga=!1,Vn.T=null,Vn.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Zr(this,"tick"),this.ga&&(ci(this),this.start()))}},Vn.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Vn.N=function(){ui.$.N.call(this),ci(this),delete this.g};class fi extends er{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:di(this)}N(){super.N(),this.g&&(Wn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pi(e){er.call(this),this.h=e,this.g={}}Jn(pi,er);var gi=[];function mi(e,t,n,r){Array.isArray(n)||(n&&(gi[0]=n.toString()),n=gi);for(var i=0;i<n.length;i++){var o=Fr(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function vi(e){Mr(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Hr(e)}),e),e.g={}}function yi(){this.g=!0}function bi(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Xr(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}pi.prototype.N=function(){pi.$.N.call(this),vi(this)},pi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},yi.prototype.Ea=function(){this.g=!1},yi.prototype.info=function(){};var wi={},Ei=null;function Si(){return Ei=Ei||new Yr}function Ci(e){ir.call(this,wi.Ta,e)}function ki(e){const t=Si();Zr(t,new Ci(t))}function Li(e,t){ir.call(this,wi.STAT_EVENT,e),this.stat=t}function _i(e){const t=Si();Zr(t,new Li(t,e))}function xi(e,t){ir.call(this,wi.Ua,e),this.size=t}function Ti(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Wn.setTimeout((function(){e()}),t)}wi.Ta="serverreachability",Jn(Ci,ir),wi.STAT_EVENT="statevent",Jn(Li,ir),wi.Ua="timingevent",Jn(xi,ir);var Ii={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Mi={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Di(){}function Pi(e){return e.h||(e.h=e.i())}function Ai(){}Di.prototype.h=null;var Ni,Oi={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ri(){ir.call(this,"d")}function Ui(){ir.call(this,"c")}function zi(){}function Fi(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new pi(this),this.P=Bi,e=gr?125:void 0,this.V=new ui(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Vi}function Vi(){this.i=null,this.g="",this.h=!1}Jn(Ri,ir),Jn(Ui,ir),Jn(zi,Di),zi.prototype.g=function(){return new XMLHttpRequest},zi.prototype.i=function(){return{}},Ni=new zi;var Bi=45e3,ji={},Hi={};function Wi(e,t,n){e.L=1,e.A=uo(io(t)),e.u=n,e.S=!0,qi(e,null)}function qi(e,t){e.G=Date.now(),Yi(e),e.B=io(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),Co(n.i,"t",r),e.o=0,n=e.l.J,e.h=new Vi,e.g=ks(e.l,n?t:null,!e.u),0<e.O&&(e.M=new fi($n(e.Pa,e,e.g),e.O)),mi(e.U,e.g,"readystatechange",e.nb),t=e.I?Dr(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),ki(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");s=2<=h.length&&"type"==h[1]?s+(c+"=")+u+"&":s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function Ki(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function Gi(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=Qi(e,n),r==Hi){4==t&&(e.s=4,_i(14),i=!1),bi(e.j,e.m,null,"[Incomplete Response]");break}if(r==ji){e.s=4,_i(15),bi(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}bi(e.j,e.m,r,null),eo(e,r)}Ki(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,_i(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),ms(t),t.M=!0,_i(11))):(bi(e.j,e.m,n,"[Invalid Chunked Response]"),Ji(e),Xi(e))}function Qi(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?Hi:(n=Number(t.substring(n,r)),isNaN(n)?ji:(r+=1)+n>t.length?Hi:(t=t.slice(r,r+n),e.o=r+n,t))}function Yi(e){e.Y=Date.now()+e.P,Zi(e,e.P)}function Zi(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=Ti($n(e.lb,e),t)}function $i(e){e.C&&(Wn.clearTimeout(e.C),e.C=null)}function Xi(e){0==e.l.H||e.J||bs(e.l,e)}function Ji(e){$i(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,ci(e.V),vi(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function eo(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Mo(n.i,e)))if(!e.K&&Mo(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;ys(n),ls(n)}gs(n),_i(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Ti($n(n.ib,n),6e3));if(1>=Io(n.i)&&n.oa){try{n.oa()}catch(u){}n.oa=void 0}}else Es(n,11)}else if((e.K||n.g==e)&&ys(n),!sr(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],2==n.H)if("c"==u[0]){n.K=u[1],n.pa=u[2];const t=u[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=u[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const c=u[5];null!=c&&"number"===typeof c&&0<c&&(r=1.5*c,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Do(o,o.h),o.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,lo(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=e;if((r=n).wa=Cs(r,r.J?r.pa:null,r.Y),s.K){Po(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&($i(a),Yi(a)),r.g=s}else ps(r);0<n.j.length&&cs(n)}else"stop"!=u[0]&&"close"!=u[0]||Es(n,7);else 3==n.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?Es(n,7):as(n):"noop"!=u[0]&&n.h&&n.h.Aa(u),n.A=0)}ki()}catch(u){}}function to(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(qn(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(qn(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(qn(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(Vn=Fi.prototype).setTimeout=function(e){this.P=e},Vn.nb=function(e){e=e.target;const t=this.M;t&&3==ts(e)?t.l():this.Pa(e)},Vn.Pa=function(e){try{if(e==this.g)e:{const c=ts(this.g);var t=this.g.Ia();this.g.da();if(!(3>c)&&(3!=c||gr||this.g&&(this.h.h||this.g.ja()||ns(this.g)))){this.J||4!=c||7==t||ki(),$i(this);var n=this.g.da();this.ca=n;t:if(Ki(this)){var r=ns(this.g);e="";var i=r.length,o=4==ts(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ji(this),Xi(this);var s="";break t}this.h.i=new Wn.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.length=0,this.h.g+=e,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!sr(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.s=3,_i(12),Ji(this),Xi(this);break e}bi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,eo(this,n)}this.S?(Gi(this,c,s),gr&&this.i&&3==c&&(mi(this.U,this.V,"tick",this.mb),this.V.start())):(bi(this.j,this.m,s,null),eo(this,s)),4==c&&Ji(this),this.i&&!this.J&&(4==c?bs(this.l,this):(this.i=!1,Yi(this)))}else(function(e){const t={};e=(e.g&&2<=ts(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(sr(e[r]))continue;var n=ni(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,_i(12)):(this.s=0,_i(13)),Ji(this),Xi(this)}}}catch(c){}},Vn.mb=function(){if(this.g){var e=ts(this.g),t=this.g.ja();this.o<t.length&&($i(this),Gi(this,e,t),this.i&&4!=e&&Yi(this))}},Vn.cancel=function(){this.J=!0,Ji(this)},Vn.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(ki(),_i(17)),Ji(this),this.s=2,Xi(this)):Zi(this,this.Y-e)};var no=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ro(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof ro){this.h=e.h,oo(this,e.j),this.s=e.s,this.g=e.g,so(this,e.m),this.l=e.l;var t=e.i,n=new bo;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ao(this,n),this.o=e.o}else e&&(t=String(e).match(no))?(this.h=!1,oo(this,t[1]||"",!0),this.s=co(t[2]||""),this.g=co(t[3]||"",!0),so(this,t[4]),this.l=co(t[5]||"",!0),ao(this,t[6]||"",!0),this.o=co(t[7]||"")):(this.h=!1,this.i=new bo(null,this.h))}function io(e){return new ro(e)}function oo(e,t,n){e.j=n?co(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function so(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function ao(e,t,n){t instanceof bo?(e.i=t,function(e,t){t&&!e.j&&(wo(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Eo(this,t),Co(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ho(t,vo)),e.i=new bo(t,e.h))}function lo(e,t,n){e.i.set(t,n)}function uo(e){return lo(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function co(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ho(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,fo),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function fo(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ro.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ho(t,po,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(ho(t,po,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ho(n,"/"==n.charAt(0)?mo:go,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ho(n,yo)),e.join("")};var po=/[#\/\?@]/g,go=/[#\?:]/g,mo=/[#\?]/g,vo=/[#\?@]/g,yo=/#/g;function bo(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function wo(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Eo(e,t){wo(e),t=ko(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function So(e,t){return wo(e),t=ko(e,t),e.g.has(t)}function Co(e,t,n){Eo(e,t),0<n.length&&(e.i=null,e.g.set(ko(e,t),nr(n)),e.h+=n.length)}function ko(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Vn=bo.prototype).add=function(e,t){wo(this),this.i=null,e=ko(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Vn.forEach=function(e,t){wo(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Vn.ta=function(){wo(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},Vn.Z=function(e){wo(this);let t=[];if("string"===typeof e)So(this,e)&&(t=t.concat(this.g.get(ko(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Vn.set=function(e,t){return wo(this),this.i=null,So(this,e=ko(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Vn.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Vn.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};var Lo=class{constructor(e,t){this.g=e,this.map=t}};function _o(e){this.l=e||xo,Wn.PerformanceNavigationTiming?e=0<(e=Wn.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Wn.g&&Wn.g.Ka&&Wn.g.Ka()&&Wn.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var xo=10;function To(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Io(e){return e.h?1:e.g?e.g.size:0}function Mo(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Do(e,t){e.g?e.g.add(t):e.h=t}function Po(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ao(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return nr(e.i)}_o.prototype.cancel=function(){if(this.i=Ao(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var No,Oo=class{stringify(e){return Wn.JSON.stringify(e,void 0)}parse(e){return Wn.JSON.parse(e,void 0)}};function Ro(){this.g=new Oo}function Uo(e,t,n){const r=n||"";try{to(e,(function(e,n){let i=e;Kn(e)&&(i=Xr(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function zo(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function Fo(e){this.l=e.ec||null,this.j=e.ob||!1}function Vo(e,t){Yr.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Bo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Jn(Fo,Di),Fo.prototype.g=function(){return new Vo(this.l,this.j)},Fo.prototype.i=(No={},function(){return No}),Jn(Vo,Yr);var Bo=0;function jo(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Ho(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Wo(e)}function Wo(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Vn=Vo.prototype).open=function(e,t){if(this.readyState!=Bo)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Wo(this)},Vn.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Wn).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Vn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ho(this)),this.readyState=Bo},Vn.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Wo(this)),this.g&&(this.readyState=3,Wo(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Wn.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;jo(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Vn.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ho(this):Wo(this),3==this.readyState&&jo(this)}},Vn.Za=function(e){this.g&&(this.response=this.responseText=e,Ho(this))},Vn.Ya=function(e){this.g&&(this.response=e,Ho(this))},Vn.ka=function(){this.g&&Ho(this)},Vn.setRequestHeader=function(e,t){this.v.append(e,t)},Vn.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Vn.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Vo.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var qo=Wn.JSON.parse;function Ko(e){Yr.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Go,this.L=this.M=!1}Jn(Ko,Yr);var Go="",Qo=/^https?$/i,Yo=["POST","PUT"];function Zo(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,$o(e),Jo(e)}function $o(e){e.F||(e.F=!0,Zr(e,"complete"),Zr(e,"error"))}function Xo(e){if(e.h&&"undefined"!=typeof Hn&&(!e.C[1]||4!=ts(e)||2!=e.da()))if(e.v&&4==ts(e))hi(e.La,0,e);else if(Zr(e,"readystatechange"),4==ts(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(no)[1]||null;!i&&Wn.self&&Wn.self.location&&(i=Wn.self.location.protocol.slice(0,-1)),r=!Qo.test(i?i.toLowerCase():"")}n=r}if(n)Zr(e,"complete"),Zr(e,"success");else{e.m=6;try{var o=2<ts(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.da()+"]",$o(e)}}finally{Jo(e)}}}function Jo(e,t){if(e.g){es(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Zr(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function es(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Wn.clearTimeout(e.A),e.A=null)}function ts(e){return e.g?e.g.readyState:0}function ns(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Go:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(ua){return null}}function rs(e){let t="";return Mr(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function is(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=rs(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):lo(e,t,n))}function os(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function ss(e){this.Ga=0,this.j=[],this.l=new yi,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=os("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=os("baseRetryDelayMs",5e3,e),this.hb=os("retryDelaySeedMs",1e4,e),this.eb=os("forwardChannelMaxRetries",2,e),this.xa=os("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new _o(e&&e.concurrentRequestLimit),this.Ja=new Ro,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function as(e){if(us(e),3==e.H){var t=e.W++,n=io(e.I);if(lo(n,"SID",e.K),lo(n,"RID",t),lo(n,"TYPE","terminate"),ds(e,n),(t=new Fi(e,e.l,t)).L=2,t.A=uo(io(n)),n=!1,Wn.navigator&&Wn.navigator.sendBeacon)try{n=Wn.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&Wn.Image&&((new Image).src=t.A,n=!0),n||(t.g=ks(t.l,null),t.g.ha(t.A)),t.G=Date.now(),Yi(t)}Ss(e)}function ls(e){e.g&&(ms(e),e.g.cancel(),e.g=null)}function us(e){ls(e),e.u&&(Wn.clearTimeout(e.u),e.u=null),ys(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Wn.clearTimeout(e.m),e.m=null)}function cs(e){if(!To(e.i)&&!e.m){e.m=!0;var t=e.Na;ii||ai(),oi||(ii(),oi=!0),si.add(t,e),e.C=0}}function hs(e,t){var n;n=t?t.m:e.W++;const r=io(e.I);lo(r,"SID",e.K),lo(r,"RID",n),lo(r,"AID",e.V),ds(e,r),e.o&&e.s&&is(r,e.o,e.s),n=new Fi(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=fs(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Do(e.i,n),Wi(n,r,t)}function ds(e,t){e.na&&Mr(e.na,(function(e,n){lo(t,n,e)})),e.h&&to({},(function(e,n){lo(t,n,e)}))}function fs(e,t,n){n=Math.min(e.j.length,n);var r=e.h?$n(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g;const l=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),s=!1;else try{Uo(l,e,"req"+n+"_")}catch(o){r&&r(l)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function ps(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;ii||ai(),oi||(ii(),oi=!0),si.add(t,e),e.A=0}}function gs(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Ti($n(e.Ma,e),ws(e,e.A)),e.A++,!0)}function ms(e){null!=e.B&&(Wn.clearTimeout(e.B),e.B=null)}function vs(e){e.g=new Fi(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=io(e.wa);lo(t,"RID","rpc"),lo(t,"SID",e.K),lo(t,"AID",e.V),lo(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&lo(t,"TO",e.qa),lo(t,"TYPE","xmlhttp"),ds(e,t),e.o&&e.s&&is(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=uo(io(t)),n.u=null,n.S=!0,qi(n,e)}function ys(e){null!=e.v&&(Wn.clearTimeout(e.v),e.v=null)}function bs(e,t){var n=null;if(e.g==t){ys(e),ms(e),e.g=null;var r=2}else{if(!Mo(e.i,t))return;n=t.F,Po(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;Zr(r=Si(),new xi(r,n)),cs(e)}else ps(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Io(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Ti($n(e.Na,e,t),ws(e,e.C)),e.C++,!0))}(e,t)||2==r&&gs(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Es(e,5);break;case 4:Es(e,10);break;case 3:Es(e,6);break;default:Es(e,2)}}function ws(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Es(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=$n(e.pb,e);n||(n=new ro("//www.google.com/images/cleardot.gif"),Wn.location&&"http"==Wn.location.protocol||oo(n,"https"),uo(n)),function(e,t){const n=new yi;if(Wn.Image){const r=new Image;r.onload=Xn(zo,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Xn(zo,n,r,"TestLoadImage: error",!1,t),r.onabort=Xn(zo,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Xn(zo,n,r,"TestLoadImage: timeout",!1,t),Wn.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else _i(2);e.H=0,e.h&&e.h.za(t),Ss(e),us(e)}function Ss(e){if(e.H=0,e.ma=[],e.h){const t=Ao(e.i);0==t.length&&0==e.j.length||(rr(e.ma,t),rr(e.ma,e.j),e.i.i.length=0,nr(e.j),e.j.length=0),e.h.ya()}}function Cs(e,t,n){var r=n instanceof ro?io(n):new ro(n);if(""!=r.g)t&&(r.g=t+"."+r.g),so(r,r.m);else{var i=Wn.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new ro(null);r&&oo(o,r),t&&(o.g=t),i&&so(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&lo(r,n,t),lo(r,"VER",e.ra),ds(e,r),r}function ks(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new Ko(new Fo({ob:n})):new Ko(e.va)).Oa(e.J),t}function Ls(){}function _s(){if(fr&&!(10<=Number(Cr)))throw Error("Environmental error: no available transport.")}function xs(e,t){Yr.call(this),this.g=new ss(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!sr(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!sr(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Ms(this)}function Ts(e){Ri.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Is(){Ui.call(this),this.status=1}function Ms(e){this.g=e}function Ds(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Ps(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function As(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}(Vn=Ko.prototype).Oa=function(e){this.M=e},Vn.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ni.g(),this.C=this.u?Pi(this.u):Pi(Ni),this.g.onreadystatechange=$n(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){return void Zo(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=Wn.FormData&&e instanceof Wn.FormData,!(0<=tr(Yo,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{es(this),0<this.B&&((this.L=function(e){return fr&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=$n(this.ua,this)):this.A=hi(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){Zo(this,o)}},Vn.ua=function(){"undefined"!=typeof Hn&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Zr(this,"timeout"),this.abort(8))},Vn.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Zr(this,"complete"),Zr(this,"abort"),Jo(this))},Vn.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Jo(this,!0)),Ko.$.N.call(this)},Vn.La=function(){this.s||(this.G||this.v||this.l?Xo(this):this.kb())},Vn.kb=function(){Xo(this)},Vn.isActive=function(){return!!this.g},Vn.da=function(){try{return 2<ts(this)?this.g.status:-1}catch(No){return-1}},Vn.ja=function(){try{return this.g?this.g.responseText:""}catch(No){return""}},Vn.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),qo(t)}},Vn.Ia=function(){return this.m},Vn.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Vn=ss.prototype).ra=8,Vn.H=1,Vn.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Fi(this,this.l,e);let o=this.s;if(this.U&&(o?(o=Dr(o),Ar(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=fs(this,i,t),lo(n=io(this.I),"RID",e),lo(n,"CVER",22),this.F&&lo(n,"X-HTTP-Session-Id",this.F),ds(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(rs(o)))+"&"+t:this.o&&is(n,this.o,o)),Do(this.i,i),this.bb&&lo(n,"TYPE","init"),this.P?(lo(n,"$req",t),lo(n,"SID","null"),i.aa=!0,Wi(i,n,null)):Wi(i,n,t),this.H=2}}else 3==this.H&&(e?hs(this,e):0==this.j.length||To(this.i)||hs(this))},Vn.Ma=function(){if(this.u=null,vs(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Ti($n(this.jb,this),e)}},Vn.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,_i(10),ls(this),vs(this))},Vn.ib=function(){null!=this.v&&(this.v=null,ls(this),gs(this),_i(19))},Vn.pb=function(e){e?(this.l.info("Successfully pinged google.com"),_i(2)):(this.l.info("Failed to ping google.com"),_i(1))},Vn.isActive=function(){return!!this.h&&this.h.isActive(this)},(Vn=Ls.prototype).Ba=function(){},Vn.Aa=function(){},Vn.za=function(){},Vn.ya=function(){},Vn.isActive=function(){return!0},Vn.Va=function(){},_s.prototype.g=function(e,t){return new xs(e,t)},Jn(xs,Yr),xs.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;_i(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Cs(e,null,e.Y),cs(e)},xs.prototype.close=function(){as(this.g)},xs.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Xr(e),e=n);t.j.push(new Lo(t.fb++,e)),3==t.H&&cs(t)},xs.prototype.N=function(){this.g.h=null,delete this.j,as(this.g),delete this.g,xs.$.N.call(this)},Jn(Ts,Ri),Jn(Is,Ui),Jn(Ms,Ls),Ms.prototype.Ba=function(){Zr(this.g,"a")},Ms.prototype.Aa=function(e){Zr(this.g,new Ts(e))},Ms.prototype.za=function(e){Zr(this.g,new Is)},Ms.prototype.ya=function(){Zr(this.g,"b")},Jn(Ds,(function(){this.blockSize=-1})),Ds.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ds.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)Ps(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){Ps(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){Ps(this,r),i=0;break}}this.h=i,this.i+=t},Ds.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Ns={};function Os(e){return-128<=e&&128>e?function(e,t){var n=Ns;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new As([0|e],0>e?-1:0)})):new As([0|e],0>e?-1:0)}function Rs(e){if(isNaN(e)||!isFinite(e))return zs;if(0>e)return Hs(Rs(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Us;return new As(t,0)}var Us=4294967296,zs=Os(0),Fs=Os(1),Vs=Os(16777216);function Bs(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function js(e){return-1==e.h}function Hs(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new As(n,~e.h).add(Fs)}function Ws(e,t){return e.add(Hs(t))}function qs(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Ks(e,t){this.g=e,this.h=t}function Gs(e,t){if(Bs(t))throw Error("division by zero");if(Bs(e))return new Ks(zs,zs);if(js(e))return t=Gs(Hs(e),t),new Ks(Hs(t.g),Hs(t.h));if(js(t))return t=Gs(e,Hs(t)),new Ks(Hs(t.g),t.h);if(30<e.g.length){if(js(e)||js(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Fs,r=t;0>=r.X(e);)n=Qs(n),r=Qs(r);var i=Ys(n,1),o=Ys(r,1);for(r=Ys(r,2),n=Ys(n,2);!Bs(r);){var s=o.add(r);0>=s.X(e)&&(i=i.add(n),o=s),r=Ys(r,1),n=Ys(n,1)}return t=Ws(e,i.R(t)),new Ks(i,t)}for(i=zs;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=Rs(n)).R(t);js(s)||0<s.X(e);)s=(o=Rs(n-=r)).R(t);Bs(o)&&(o=Fs),i=i.add(o),e=Ws(e,s)}return new Ks(i,e)}function Qs(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new As(n,e.h)}function Ys(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new As(i,e.h)}(Vn=As.prototype).ea=function(){if(js(this))return-Hs(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Us+r)*t,t*=Us}return e},Vn.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Bs(this))return"0";if(js(this))return"-"+Hs(this).toString(e);for(var t=Rs(Math.pow(e,6)),n=this,r="";;){var i=Gs(n,t).g,o=((0<(n=Ws(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Bs(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},Vn.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Vn.X=function(e){return js(e=Ws(this,e))?-1:Bs(e)?0:1},Vn.abs=function(){return js(this)?Hs(this):this},Vn.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.D(i))+(65535&e.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new As(n,-2147483648&n[n.length-1]?-1:0)},Vn.R=function(e){if(Bs(this)||Bs(e))return zs;if(js(this))return js(e)?Hs(this).R(Hs(e)):Hs(Hs(this).R(e));if(js(e))return Hs(this.R(Hs(e)));if(0>this.X(Vs)&&0>e.X(Vs))return Rs(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=s*l,qs(n,2*r+2*i),n[2*r+2*i+1]+=o*l,qs(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,qs(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,qs(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new As(n,0)},Vn.gb=function(e){return Gs(this,e).h},Vn.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new As(n,this.h&e.h)},Vn.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new As(n,this.h|e.h)},Vn.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new As(n,this.h^e.h)},_s.prototype.createWebChannel=_s.prototype.g,xs.prototype.send=xs.prototype.u,xs.prototype.open=xs.prototype.m,xs.prototype.close=xs.prototype.close,Ii.NO_ERROR=0,Ii.TIMEOUT=8,Ii.HTTP_ERROR=6,Mi.COMPLETE="complete",Ai.EventType=Oi,Oi.OPEN="a",Oi.CLOSE="b",Oi.ERROR="c",Oi.MESSAGE="d",Yr.prototype.listen=Yr.prototype.O,Ko.prototype.listenOnce=Ko.prototype.P,Ko.prototype.getLastError=Ko.prototype.Sa,Ko.prototype.getLastErrorCode=Ko.prototype.Ia,Ko.prototype.getStatus=Ko.prototype.da,Ko.prototype.getResponseJson=Ko.prototype.Wa,Ko.prototype.getResponseText=Ko.prototype.ja,Ko.prototype.send=Ko.prototype.ha,Ko.prototype.setWithCredentials=Ko.prototype.Oa,Ds.prototype.digest=Ds.prototype.l,Ds.prototype.reset=Ds.prototype.reset,Ds.prototype.update=Ds.prototype.j,As.prototype.add=As.prototype.add,As.prototype.multiply=As.prototype.R,As.prototype.modulo=As.prototype.gb,As.prototype.compare=As.prototype.X,As.prototype.toNumber=As.prototype.ea,As.prototype.toString=As.prototype.toString,As.prototype.getBits=As.prototype.D,As.fromNumber=Rs,As.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Hs(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Rs(Math.pow(n,8)),i=zs,o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o),a=parseInt(t.substring(o,o+s),n);8>s?(s=Rs(Math.pow(n,s)),i=i.R(s).add(Rs(a))):i=(i=i.R(r)).add(Rs(a))}return i};var Zs=jn.createWebChannelTransport=function(){return new _s},$s=jn.getStatEventTarget=function(){return Si()},Xs=jn.ErrorCode=Ii,Js=jn.EventType=Mi,ea=jn.Event=wi,ta=jn.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},na=(jn.FetchXmlHttpFactory=Fo,jn.WebChannel=Ai),ra=jn.XhrIo=Ko,ia=jn.Md5=Ds,oa=jn.Integer=As;const sa="@firebase/firestore";class aa{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}aa.UNAUTHENTICATED=new aa(null),aa.GOOGLE_CREDENTIALS=new aa("google-credentials-uid"),aa.FIRST_PARTY=new aa("first-party-uid"),aa.MOCK_USER=new aa("mock-user");let la="10.7.2";const ua=new Qt("@firebase/firestore");function ca(){return ua.logLevel}function ha(e){if(ua.logLevel<=Ht.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(pa);ua.debug("Firestore (".concat(la,"): ").concat(e),...i)}}function da(e){if(ua.logLevel<=Ht.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(pa);ua.error("Firestore (".concat(la,"): ").concat(e),...i)}}function fa(e){if(ua.logLevel<=Ht.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(pa);ua.warn("Firestore (".concat(la,"): ").concat(e),...i)}}function pa(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function ga(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(la,") INTERNAL ASSERTION FAILED: ")+e;throw da(t),new Error(t)}function ma(e,t){e||ga()}function va(e,t){return e}const ya={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ba extends Pt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class wa{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Ea{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Sa{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(aa.UNAUTHENTICATED)))}shutdown(){}}class Ca{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class ka{constructor(e){this.t=e,this.currentUser=aa.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new wa;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new wa,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{ha("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(ha("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new wa)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(ha("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(ma("string"==typeof t.accessToken),new Ea(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ma(null===e||"string"==typeof e),new aa(e)}}class La{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=aa.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class _a{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new La(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(aa.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class xa{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ta{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&ha("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,ha("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{ha("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):ha("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(ma("string"==typeof e.token),this.R=e.token,new xa(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ia(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Ma{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Ia(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Da(e,t){return e<t?-1:e>t?1:0}function Pa(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class Aa{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ba(ya.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ba(ya.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ba(ya.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ba(ya.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Aa.fromMillis(Date.now())}static fromDate(e){return Aa.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Aa(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Da(this.nanoseconds,e.nanoseconds):Da(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Na{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Na(e)}static min(){return new Na(new Aa(0,0))}static max(){return new Na(new Aa(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Oa{constructor(e,t,n){void 0===t?t=0:t>e.length&&ga(),void 0===n?n=e.length-t:n>e.length-t&&ga(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Oa.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Oa?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ra extends Oa{construct(e,t,n){return new Ra(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new ba(ya.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new Ra(e)}static emptyPath(){return new Ra([])}}const Ua=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class za extends Oa{construct(e,t,n){return new za(e,t,n)}static isValidIdentifier(e){return Ua.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),za.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new za(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new ba(ya.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new ba(ya.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new ba(ya.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new ba(ya.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new za(t)}static emptyPath(){return new za([])}}class Fa{constructor(e){this.path=e}static fromPath(e){return new Fa(Ra.fromString(e))}static fromName(e){return new Fa(Ra.fromString(e).popFirst(5))}static empty(){return new Fa(Ra.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ra.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ra.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Fa(new Ra(e.slice()))}}class Va{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Va.UNKNOWN_ID=-1;function Ba(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Na.fromTimestamp(1e9===r?new Aa(n+1,0):new Aa(n,r));return new Ha(i,Fa.empty(),t)}function ja(e){return new Ha(e.readTime,e.key,-1)}class Ha{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Ha(Na.min(),Fa.empty(),-1)}static max(){return new Ha(Na.max(),Fa.empty(),-1)}}function Wa(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Fa.comparator(e.documentKey,t.documentKey),0!==n?n:Da(e.largestBatchId,t.largestBatchId))}const qa="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ka{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ga(e){if(e.code!==ya.FAILED_PRECONDITION||e.message!==qa)throw e;ha("LocalStore","Unexpectedly lost primary lease")}class Qa{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ga(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Qa(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Qa?t:Qa.resolve(t)}catch(e){return Qa.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Qa.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Qa.reject(t)}static resolve(e){return new Qa(((t,n)=>{t(e)}))}static reject(e){return new Qa(((t,n)=>{n(e)}))}static waitFor(e){return new Qa(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=Qa.resolve(!1);for(const n of e)t=t.next((e=>e?Qa.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Qa(((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{o[l]=e,++s,s===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new Qa(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class Ya{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new wa,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Xa(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=rl(t.target.error);this.V.reject(new Xa(e,n))}}static open(e,t,n,r){try{return new Ya(t,e.transaction(r,n))}catch(e){throw new Xa(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(ha("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new el(t)}}class Za{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===Za.S(It())&&da("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ha("SimpleDb","Removing database:",e),tl(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Dt())return!1;if(Za.C())return!0;const e=It(),t=Za.S(e),n=0<t&&t<10,r=Za.v(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(ha("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new Xa(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new ba(ya.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new ba(ya.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new Xa(e,r))},r.onupgradeneeded=e=>{ha("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next((()=>{ha("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.B&&(this.db.onversionchange=e=>this.B(e)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.O(e);const t=Ya.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),Qa.reject(e)))).toPromise();return o.catch((()=>{})),await t.m,o}catch(e){const t=e,n="FirebaseError"!==t.name&&o<3;if(ha("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class $a{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return tl(this.k.delete())}}class Xa extends ba{constructor(e,t){super(ya.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function Ja(e){return"IndexedDbTransactionError"===e.name}class el{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(ha("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(ha("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),tl(n)}add(e){return ha("SimpleDb","ADD",this.store.name,e,e),tl(this.store.add(e))}get(e){return tl(this.store.get(e)).next((t=>(void 0===t&&(t=null),ha("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return ha("SimpleDb","DELETE",this.store.name,e),tl(this.store.delete(e))}count(){return ha("SimpleDb","COUNT",this.store.name),tl(this.store.count())}W(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new Qa(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new Qa(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}H(e,t){ha("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const r=this.cursor(n);return this.G(r,((e,t,n)=>n.delete()))}Y(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Z(e){const t=this.cursor({});return new Qa(((n,r)=>{t.onerror=e=>{const t=rl(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}G(e,t){const n=[];return new Qa(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const o=new $a(i),s=t(i.primaryKey,i.value,o);if(s instanceof Qa){const e=s.catch((e=>(o.done(),Qa.reject(e))));n.push(e)}o.isDone?r():null===o.$?i.continue():i.continue(o.$)}})).next((()=>Qa.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function tl(e){return new Qa(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=rl(e.target.error);n(t)}}))}let nl=!1;function rl(e){const t=Za.S(It());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new ba("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return nl||(nl=!0,setTimeout((()=>{throw e}),0)),e}}return e}class il{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function ol(e){return null==e}function sl(e){return 0===e&&1/e==-1/0}function al(e){return"number"==typeof e&&Number.isInteger(e)&&!sl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}il._e=-1;const ll=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ul=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],cl=ul;function hl(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function dl(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function fl(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class pl{constructor(e,t){this.comparator=e,this.root=t||ml.EMPTY}insert(e,t){return new pl(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ml.BLACK,null,null))}remove(e){return new pl(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ml.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gl(this.root,e,this.comparator,!1)}getReverseIterator(){return new gl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gl(this.root,e,this.comparator,!0)}}class gl{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ml{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ml.RED,this.left=null!=r?r:ml.EMPTY,this.right=null!=i?i:ml.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new ml(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ml.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ml.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ml.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ml.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ga();if(this.right.isRed())throw ga();const e=this.left.check();if(e!==this.right.check())throw ga();return e+(this.isRed()?0:1)}}ml.EMPTY=null,ml.RED=!0,ml.BLACK=!1,ml.EMPTY=new class{constructor(){this.size=0}get key(){throw ga()}get value(){throw ga()}get color(){throw ga()}get left(){throw ga()}get right(){throw ga()}copy(e,t,n,r,i){return this}insert(e,t,n){return new ml(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class vl{constructor(e){this.comparator=e,this.data=new pl(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new yl(this.data.getIterator())}getIteratorFrom(e){return new yl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof vl))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new vl(this.comparator);return t.data=e,t}}class yl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class bl{constructor(e){this.fields=e,e.sort(za.comparator)}static empty(){return new bl([])}unionWith(e){let t=new vl(za.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new bl(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Pa(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class wl extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class El{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new wl("Invalid base64 string: "+e):e}}(e);return new El(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new El(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Da(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}El.EMPTY_BYTE_STRING=new El("");const Sl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cl(e){if(ma(!!e),"string"==typeof e){let t=0;const n=Sl.exec(e);if(ma(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:kl(e.seconds),nanos:kl(e.nanos)}}function kl(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ll(e){return"string"==typeof e?El.fromBase64String(e):El.fromUint8Array(e)}function _l(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function xl(e){const t=e.mapValue.fields.__previous_value__;return _l(t)?xl(t):t}function Tl(e){const t=Cl(e.mapValue.fields.__local_write_time__.timestampValue);return new Aa(t.seconds,t.nanos)}class Il{constructor(e,t,n,r,i,o,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l}}class Ml{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ml("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ml&&e.projectId===this.projectId&&e.database===this.database}}const Dl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Pl(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?_l(e)?4:ql(e)?9007199254740991:10:ga()}function Al(e,t){if(e===t)return!0;const n=Pl(e);if(n!==Pl(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Tl(e).isEqual(Tl(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Cl(e.timestampValue),r=Cl(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ll(e.bytesValue).isEqual(Ll(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return kl(e.geoPointValue.latitude)===kl(t.geoPointValue.latitude)&&kl(e.geoPointValue.longitude)===kl(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return kl(e.integerValue)===kl(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=kl(e.doubleValue),r=kl(t.doubleValue);return n===r?sl(n)===sl(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Pa(e.arrayValue.values||[],t.arrayValue.values||[],Al);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(hl(n)!==hl(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Al(n[i],r[i])))return!1;return!0}(e,t);default:return ga()}}function Nl(e,t){return void 0!==(e.values||[]).find((e=>Al(e,t)))}function Ol(e,t){if(e===t)return 0;const n=Pl(e),r=Pl(t);if(n!==r)return Da(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Da(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=kl(e.integerValue||e.doubleValue),r=kl(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Rl(e.timestampValue,t.timestampValue);case 4:return Rl(Tl(e),Tl(t));case 5:return Da(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Ll(e),r=Ll(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Da(n[i],r[i]);if(0!==e)return e}return Da(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Da(kl(e.latitude),kl(t.latitude));return 0!==n?n:Da(kl(e.longitude),kl(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Ol(n[i],r[i]);if(e)return e}return Da(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Dl.mapValue&&t===Dl.mapValue)return 0;if(e===Dl.mapValue)return 1;if(t===Dl.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=Da(r[s],o[s]);if(0!==e)return e;const t=Ol(n[r[s]],i[o[s]]);if(0!==t)return t}return Da(r.length,o.length)}(e.mapValue,t.mapValue);default:throw ga()}}function Rl(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Da(e,t);const n=Cl(e),r=Cl(t),i=Da(n.seconds,r.seconds);return 0!==i?i:Da(n.nanos,r.nanos)}function Ul(e){return zl(e)}function zl(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Cl(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Ll(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Fa.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=zl(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(zl(e.fields[i]));return n+"}"}(e.mapValue):ga()}function Fl(e){return!!e&&"integerValue"in e}function Vl(e){return!!e&&"arrayValue"in e}function Bl(e){return!!e&&"nullValue"in e}function jl(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Hl(e){return!!e&&"mapValue"in e}function Wl(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return dl(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Wl(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Wl(e.arrayValue.values[n]);return t}return Object.assign({},e)}function ql(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Kl{constructor(e){this.value=e}static empty(){return new Kl({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Hl(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wl(t)}setAll(e){let t=za.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Wl(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Hl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Al(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Hl(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){dl(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Kl(Wl(this.value))}}function Gl(e){const t=[];return dl(e.fields,((e,n)=>{const r=new za([e]);if(Hl(n)){const e=Gl(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new bl(t)}class Ql{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Ql(e,0,Na.min(),Na.min(),Na.min(),Kl.empty(),0)}static newFoundDocument(e,t,n,r){return new Ql(e,1,t,Na.min(),n,r,0)}static newNoDocument(e,t){return new Ql(e,2,t,Na.min(),Na.min(),Kl.empty(),0)}static newUnknownDocument(e,t){return new Ql(e,3,t,Na.min(),Na.min(),Kl.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Na.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kl.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kl.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Na.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ql&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ql(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Yl{constructor(e,t){this.position=e,this.inclusive=t}}function Zl(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?Fa.comparator(Fa.fromName(s.referenceValue),n.key):Ol(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function $l(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Al(e.position[n],t.position[n]))return!1;return!0}class Xl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Jl(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class eu{}class tu extends eu{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new uu(e,t,n):"array-contains"===t?new fu(e,n):"in"===t?new pu(e,n):"not-in"===t?new gu(e,n):"array-contains-any"===t?new mu(e,n):new tu(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new cu(e,n):new hu(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ol(t,this.value)):null!==t&&Pl(this.value)===Pl(t)&&this.matchesComparison(Ol(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ga()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nu extends eu{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new nu(e,t)}matches(e){return ru(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function ru(e){return"and"===e.op}function iu(e){return ou(e)&&ru(e)}function ou(e){for(const t of e.filters)if(t instanceof nu)return!1;return!0}function su(e){if(e instanceof tu)return e.field.canonicalString()+e.op.toString()+Ul(e.value);if(iu(e))return e.filters.map((e=>su(e))).join(",");{const t=e.filters.map((e=>su(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function au(e,t){return e instanceof tu?function(e,t){return t instanceof tu&&e.op===t.op&&e.field.isEqual(t.field)&&Al(e.value,t.value)}(e,t):e instanceof nu?function(e,t){return t instanceof nu&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&au(n,t.filters[r])),!0)}(e,t):void ga()}function lu(e){return e instanceof tu?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Ul(e.value))}(e):e instanceof nu?function(e){return e.op.toString()+" {"+e.getFilters().map(lu).join(" ,")+"}"}(e):"Filter"}class uu extends tu{constructor(e,t,n){super(e,t,n),this.key=Fa.fromName(n.referenceValue)}matches(e){const t=Fa.comparator(e.key,this.key);return this.matchesComparison(t)}}class cu extends tu{constructor(e,t){super(e,"in",t),this.keys=du("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class hu extends tu{constructor(e,t){super(e,"not-in",t),this.keys=du("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function du(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Fa.fromName(e.referenceValue)))}class fu extends tu{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Vl(t)&&Nl(t.arrayValue,this.value)}}class pu extends tu{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Nl(this.value.arrayValue,t)}}class gu extends tu{constructor(e,t){super(e,"not-in",t)}matches(e){if(Nl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Nl(this.value.arrayValue,t)}}class mu extends tu{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Vl(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Nl(this.value.arrayValue,e)))}}class vu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.ce=null}}function yu(e){return new vu(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function bu(e){const t=va(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>su(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),ol(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Ul(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Ul(e))).join(",")),t.ce=e}return t.ce}function wu(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Jl(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!au(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!$l(e.startAt,t.startAt)&&$l(e.endAt,t.endAt)}function Eu(e){return Fa.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Su{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function Cu(e,t,n,r,i,o,s,a){return new Su(e,t,n,r,i,o,s,a)}function ku(e){return new Su(e)}function Lu(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function _u(e){return null!==e.collectionGroup}function xu(e){const t=va(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new vl(za.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new Xl(r,n))})),e.has(za.keyField().canonicalString())||t.le.push(new Xl(za.keyField(),n))}return t.le}function Tu(e){const t=va(e);return t.he||(t.he=Iu(t,xu(e))),t.he}function Iu(e,t){if("F"===e.limitType)return yu(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Xl(e.field,t)}));const n=e.endAt?new Yl(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Yl(e.startAt.position,e.startAt.inclusive):null;return yu(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Mu(e,t,n){return new Su(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Du(e,t){return wu(Tu(e),Tu(t))&&e.limitType===t.limitType}function Pu(e){return"".concat(bu(Tu(e)),"|lt:").concat(e.limitType)}function Au(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>lu(e))).join(", "),"]")),ol(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Ul(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Ul(e))).join(",")),"Target(".concat(t,")")}(Tu(e)),"; limitType=").concat(e.limitType,")")}function Nu(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Fa.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of xu(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Zl(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,xu(e),t))&&!(e.endAt&&!function(e,t,n){const r=Zl(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,xu(e),t))}(e,t)}function Ou(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Ru(e){return(t,n)=>{let r=!1;for(const i of xu(e)){const e=Uu(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Uu(e,t,n){const r=e.field.isKeyField()?Fa.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ol(r,i):ga()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ga()}}class zu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){dl(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return fl(this.inner)}size(){return this.innerSize}}const Fu=new pl(Fa.comparator);function Vu(){return Fu}const Bu=new pl(Fa.comparator);function ju(){let e=Bu;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Hu(e){let t=Bu;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Wu(){return Ku()}function qu(){return Ku()}function Ku(){return new zu((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Gu=new pl(Fa.comparator),Qu=new vl(Fa.comparator);function Yu(){let e=Qu;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Zu=new vl(Da);function $u(){return Zu}function Xu(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sl(t)?"-0":t}}function Ju(e){return{integerValue:""+e}}function ec(e,t){return al(t)?Ju(t):Xu(e,t)}class tc{constructor(){this._=void 0}}function nc(e,t,n){return e instanceof oc?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&_l(t)&&(t=xl(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof sc?ac(e,t):e instanceof lc?uc(e,t):function(e,t){const n=ic(e,t),r=hc(n)+hc(e.Ie);return Fl(n)&&Fl(e.Ie)?Ju(r):Xu(e.serializer,r)}(e,t)}function rc(e,t,n){return e instanceof sc?ac(e,t):e instanceof lc?uc(e,t):n}function ic(e,t){return e instanceof cc?function(e){return Fl(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class oc extends tc{}class sc extends tc{constructor(e){super(),this.elements=e}}function ac(e,t){const n=dc(t);for(const r of e.elements)n.some((e=>Al(e,r)))||n.push(r);return{arrayValue:{values:n}}}class lc extends tc{constructor(e){super(),this.elements=e}}function uc(e,t){let n=dc(t);for(const r of e.elements)n=n.filter((e=>!Al(e,r)));return{arrayValue:{values:n}}}class cc extends tc{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function hc(e){return kl(e.integerValue||e.doubleValue)}function dc(e){return Vl(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class fc{constructor(e,t){this.version=e,this.transformResults=t}}class pc{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new pc}static exists(e){return new pc(void 0,e)}static updateTime(e){return new pc(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gc(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class mc{}function vc(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new xc(e.key,pc.none()):new Sc(e.key,e.data,pc.none());{const n=e.data,r=Kl.empty();let i=new vl(za.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Cc(e.key,r,new bl(i.toArray()),pc.none())}}function yc(e,t,n){e instanceof Sc?function(e,t,n){const r=e.value.clone(),i=Lc(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Cc?function(e,t,n){if(!gc(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Lc(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(kc(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function bc(e,t,n,r){return e instanceof Sc?function(e,t,n,r){if(!gc(e.precondition,t))return n;const i=e.value.clone(),o=_c(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Cc?function(e,t,n,r){if(!gc(e.precondition,t))return n;const i=_c(e.fieldTransforms,r,t),o=t.data;return o.setAll(kc(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return gc(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function wc(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=ic(r.transform,e||null);null!=i&&(null===n&&(n=Kl.empty()),n.set(r.field,i))}return n||null}function Ec(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Pa(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof sc&&t instanceof sc||e instanceof lc&&t instanceof lc?Pa(e.elements,t.elements,Al):e instanceof cc&&t instanceof cc?Al(e.Ie,t.Ie):e instanceof oc&&t instanceof oc}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Sc extends mc{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Cc extends mc{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function kc(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Lc(e,t,n){const r=new Map;ma(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,rc(s,a,n[i]))}return r}function _c(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,nc(e,o,t))}return r}class xc extends mc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Tc extends mc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ic{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&yc(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=bc(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=bc(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=qu();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=vc(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(Na.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Yu())}isEqual(e){return this.batchId===e.batchId&&Pa(this.mutations,e.mutations,((e,t)=>Ec(e,t)))&&Pa(this.baseMutations,e.baseMutations,((e,t)=>Ec(e,t)))}}class Mc{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){ma(e.mutations.length===n.length);let r=Gu;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new Mc(e,t,n,r)}}class Dc{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Pc{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ac,Nc;function Oc(e){switch(e){default:return ga();case ya.CANCELLED:case ya.UNKNOWN:case ya.DEADLINE_EXCEEDED:case ya.RESOURCE_EXHAUSTED:case ya.INTERNAL:case ya.UNAVAILABLE:case ya.UNAUTHENTICATED:return!1;case ya.INVALID_ARGUMENT:case ya.NOT_FOUND:case ya.ALREADY_EXISTS:case ya.PERMISSION_DENIED:case ya.FAILED_PRECONDITION:case ya.ABORTED:case ya.OUT_OF_RANGE:case ya.UNIMPLEMENTED:case ya.DATA_LOSS:return!0}}function Rc(e){if(void 0===e)return da("GRPC error has no .code"),ya.UNKNOWN;switch(e){case Ac.OK:return ya.OK;case Ac.CANCELLED:return ya.CANCELLED;case Ac.UNKNOWN:return ya.UNKNOWN;case Ac.DEADLINE_EXCEEDED:return ya.DEADLINE_EXCEEDED;case Ac.RESOURCE_EXHAUSTED:return ya.RESOURCE_EXHAUSTED;case Ac.INTERNAL:return ya.INTERNAL;case Ac.UNAVAILABLE:return ya.UNAVAILABLE;case Ac.UNAUTHENTICATED:return ya.UNAUTHENTICATED;case Ac.INVALID_ARGUMENT:return ya.INVALID_ARGUMENT;case Ac.NOT_FOUND:return ya.NOT_FOUND;case Ac.ALREADY_EXISTS:return ya.ALREADY_EXISTS;case Ac.PERMISSION_DENIED:return ya.PERMISSION_DENIED;case Ac.FAILED_PRECONDITION:return ya.FAILED_PRECONDITION;case Ac.ABORTED:return ya.ABORTED;case Ac.OUT_OF_RANGE:return ya.OUT_OF_RANGE;case Ac.UNIMPLEMENTED:return ya.UNIMPLEMENTED;case Ac.DATA_LOSS:return ya.DATA_LOSS;default:return ga()}}(Nc=Ac||(Ac={}))[Nc.OK=0]="OK",Nc[Nc.CANCELLED=1]="CANCELLED",Nc[Nc.UNKNOWN=2]="UNKNOWN",Nc[Nc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nc[Nc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nc[Nc.NOT_FOUND=5]="NOT_FOUND",Nc[Nc.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nc[Nc.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nc[Nc.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nc[Nc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nc[Nc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nc[Nc.ABORTED=10]="ABORTED",Nc[Nc.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nc[Nc.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nc[Nc.INTERNAL=13]="INTERNAL",Nc[Nc.UNAVAILABLE=14]="UNAVAILABLE",Nc[Nc.DATA_LOSS=15]="DATA_LOSS";let Uc=null;function zc(){return new TextEncoder}const Fc=new oa([4294967295,4294967295],0);function Vc(e){const t=zc().encode(e),n=new ia;return n.update(t),new Uint8Array(n.digest())}function Bc(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new oa([n,r],0),new oa([i,o],0)]}class jc{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Hc("Invalid padding: ".concat(t));if(n<0)throw new Hc("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Hc("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Hc("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ee=oa.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(oa.fromNumber(n)));return 1===r.compare(Fc)&&(r=new oa([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=Vc(e),[n,r]=Bc(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new jc(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.Te)return;const t=Vc(e),[n,r]=Bc(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Hc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Wc{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,qc.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Wc(Na.min(),r,new pl(Da),Vu(),Yu())}}class qc{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new qc(n,t,Yu(),Yu(),Yu())}}class Kc{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class Gc{constructor(e,t){this.targetId=e,this.fe=t}}class Qc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:El.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Yc{constructor(){this.ge=0,this.pe=Xc(),this.ye=El.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Yu(),t=Yu(),n=Yu();return this.pe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ga()}})),new qc(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=Xc()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,ma(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class Zc{constructor(e){this.Le=e,this.ke=new Map,this.qe=Vu(),this.Qe=$c(),this.Ke=new pl(Da)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Be(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:ga()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(Eu(i))if(0===n){const e=new Fa(i.path);this.We(t,e,Ql.newNoDocument(e,Na.min()))}else ma(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==Uc||Uc.tt(function(e,t,n,r,i){var o,s,a,l,u,c;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(o=null==d?void 0:d.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(a=null===(s=null==d?void 0:d.bits)||void 0===s?void 0:s.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(c=null===(u=null==d?void 0:d.bits)||void 0===u?void 0:u.padding)&&void 0!==c?c:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.fe,this.Le.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,s;try{o=Ll(n).toUint8Array()}catch(e){if(e instanceof wl)return fa("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new jc(o,r,i)}catch(e){return fa(e instanceof Hc?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.Te?null:s}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.nt(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&Eu(i.target)){const t=new Fa(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,Ql.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}}));let n=Yu();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const r=new Wc(e,t,this.Ke,this.qe,n);return this.qe=Vu(),this.Qe=$c(),this.Ke=new pl(Da),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new Yc,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new vl(Da),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||ha("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Yc),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function $c(){return new pl(Fa.comparator)}function Xc(){return new pl(Fa.comparator)}const Jc={asc:"ASCENDING",desc:"DESCENDING"},eh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},th={and:"AND",or:"OR"};class nh{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function rh(e,t){return e.useProto3Json||ol(t)?t:{value:t}}function ih(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function oh(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function sh(e,t){return ih(e,t.toTimestamp())}function ah(e){return ma(!!e),Na.fromTimestamp(function(e){const t=Cl(e);return new Aa(t.seconds,t.nanos)}(e))}function lh(e,t){return uh(e,t).canonicalString()}function uh(e,t){const n=function(e){return new Ra(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function ch(e){const t=Ra.fromString(e);return ma(Mh(t)),t}function hh(e,t){return lh(e.databaseId,t.path)}function dh(e,t){const n=ch(t);if(n.get(1)!==e.databaseId.projectId)throw new ba(ya.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ba(ya.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Fa(mh(n))}function fh(e,t){return lh(e.databaseId,t)}function ph(e){const t=ch(e);return 4===t.length?Ra.emptyPath():mh(t)}function gh(e){return new Ra(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function mh(e){return ma(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function vh(e,t,n){return{name:hh(e,t),fields:n.value.mapValue.fields}}function yh(e,t){let n;if(t instanceof Sc)n={update:vh(e,t.key,t.value)};else if(t instanceof xc)n={delete:hh(e,t.key)};else if(t instanceof Cc)n={update:vh(e,t.key,t.data),updateMask:Ih(t.fieldMask)};else{if(!(t instanceof Tc))return ga();n={verify:hh(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof oc)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof sc)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof lc)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof cc)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw ga()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:sh(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ga()}(e,t.precondition)),n}function bh(e,t){return{documents:[fh(e,t.path)]}}function wh(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=fh(e,i);const o=function(e){if(0!==e.length)return Th(nu.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:_h(e.field),direction:Ch(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=rh(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ut:n,parent:i}}function Eh(e){let t=ph(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ma(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=Sh(e);return t instanceof nu&&iu(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new Xl(xh(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,ol(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Yl(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new Yl(n,t)}(n.endAt)),Cu(t,i,s,o,a,"F",l,u)}function Sh(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=xh(e.unaryFilter.field);return tu.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=xh(e.unaryFilter.field);return tu.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=xh(e.unaryFilter.field);return tu.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=xh(e.unaryFilter.field);return tu.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ga()}}(e):void 0!==e.fieldFilter?function(e){return tu.create(xh(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ga()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return nu.create(e.compositeFilter.filters.map((e=>Sh(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return ga()}}(e.compositeFilter.op))}(e):ga()}function Ch(e){return Jc[e]}function kh(e){return eh[e]}function Lh(e){return th[e]}function _h(e){return{fieldPath:e.canonicalString()}}function xh(e){return za.fromServerFormat(e.fieldPath)}function Th(e){return e instanceof tu?function(e){if("=="===e.op){if(jl(e.value))return{unaryFilter:{field:_h(e.field),op:"IS_NAN"}};if(Bl(e.value))return{unaryFilter:{field:_h(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(jl(e.value))return{unaryFilter:{field:_h(e.field),op:"IS_NOT_NAN"}};if(Bl(e.value))return{unaryFilter:{field:_h(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_h(e.field),op:kh(e.op),value:e.value}}}(e):e instanceof nu?function(e){const t=e.getFilters().map((e=>Th(e)));return 1===t.length?t[0]:{compositeFilter:{op:Lh(e.op),filters:t}}}(e):ga()}function Ih(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Mh(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Dh{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Na.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Na.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:El.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new Dh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Dh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Dh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Dh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Ph{constructor(e){this.ct=e}}function Ah(e){const t=Eh({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Mu(t,t.limit,"L"):t}class Nh{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(kl(e.integerValue));else if("doubleValue"in e){const n=kl(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),sl(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Et(t,20),"string"==typeof n?t.At(n):(t.At("".concat(n.seconds||"")),t.dt(n.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(Ll(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?ql(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):ga()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const r of Object.keys(n))this.Rt(r,t),this.It(n[r],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const r of n)this.It(r,t)}gt(e,t){this.Et(t,37),Fa.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}Nh.bt=new Nh;class Oh{constructor(){this._n=new Rh}addToCollectionParentIndex(e,t){return this._n.add(t),Qa.resolve()}getCollectionParents(e,t){return Qa.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return Qa.resolve()}deleteFieldIndex(e,t){return Qa.resolve()}deleteAllFieldIndexes(e){return Qa.resolve()}createTargetIndexes(e,t){return Qa.resolve()}getDocumentsMatchingTarget(e,t){return Qa.resolve(null)}getIndexType(e,t){return Qa.resolve(0)}getFieldIndexes(e,t){return Qa.resolve([])}getNextCollectionGroupToUpdate(e){return Qa.resolve(null)}getMinOffset(e,t){return Qa.resolve(Ha.min())}getMinOffsetFromCollectionGroup(e,t){return Qa.resolve(Ha.min())}updateCollectionGroup(e,t,n){return Qa.resolve()}updateIndexEntries(e,t){return Qa.resolve()}}class Rh{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new vl(Ra.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new vl(Ra.comparator)).toArray()}}new Uint8Array(0);class Uh{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Uh(e,Uh.DEFAULT_COLLECTION_PERCENTILE,Uh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Uh.DEFAULT_COLLECTION_PERCENTILE=10,Uh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Uh.DEFAULT=new Uh(41943040,Uh.DEFAULT_COLLECTION_PERCENTILE,Uh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Uh.DISABLED=new Uh(-1,0,0);class zh{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new zh(0)}static Bn(){return new zh(-1)}}class Fh{constructor(){this.changes=new zu((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ql.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Qa.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Vh{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Bh{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&bc(n.mutation,e,bl.empty(),Aa.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Yu()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Yu();const r=Wu();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=ju();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Wu();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Yu())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Vu();const o=Ku(),s=Ku();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof Cc)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),bc(s.mutation,t,s.mutation.getFieldMask(),Aa.now())):o.set(t.key,bl.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new Vh(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=Ku();let r=new pl(((e,t)=>e-t)),i=Yu();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||bl.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||Yu()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,u=qu();l.forEach((e=>{if(!i.has(e)){const r=vc(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,u))}return Qa.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Fa.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):_u(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Qa.resolve(Wu());let s=-1,a=i;return o.next((t=>Qa.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?Qa.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,Yu()))).next((e=>({batchId:s,changes:Hu(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Fa(t)).next((e=>{let t=ju();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=ju();return this.indexManager.getCollectionParents(e,i).next((s=>Qa.forEach(s,(s=>{const a=function(e,t){return new Su(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Ql.newInvalidDocument(r)))}));let n=ju();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&bc(o.mutation,r,bl.empty(),Aa.now()),Nu(t,r)&&(n=n.insert(e,r))})),n}))}}class jh{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return Qa.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:ah(e.createTime)}}(t)),Qa.resolve()}getNamedQuery(e,t){return Qa.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:Ah(e.bundledQuery),readTime:ah(e.readTime)}}(t)),Qa.resolve()}}class Hh{constructor(){this.overlays=new pl(Fa.comparator),this.hr=new Map}getOverlay(e,t){return Qa.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Wu();return Qa.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),Qa.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(n)),Qa.resolve()}getOverlaysForCollection(e,t,n){const r=Wu(),i=t.length+1,o=new Fa(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Qa.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new pl(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Wu(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=Wu(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return Qa.resolve(s)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Dc(t,n));let i=this.hr.get(t);void 0===i&&(i=Yu(),this.hr.set(t,i)),this.hr.set(t,i.add(n.key))}}class Wh{constructor(){this.Pr=new vl(qh.Ir),this.Tr=new vl(qh.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new qh(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new qh(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new Fa(new Ra([])),n=new qh(t,e),r=new qh(t,e+1),i=[];return this.Tr.forEachInRange([n,r],(e=>{this.Ar(e),i.push(e.key)})),i}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new Fa(new Ra([])),n=new qh(t,e),r=new qh(t,e+1);let i=Yu();return this.Tr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new qh(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class qh{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return Fa.comparator(e.key,t.key)||Da(e.pr,t.pr)}static Er(e,t){return Da(e.pr,t.pr)||Fa.comparator(e.key,t.key)}}class Kh{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new vl(qh.Ir)}checkEmpty(e){return Qa.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Ic(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.wr=this.wr.add(new qh(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Qa.resolve(o)}lookupMutationBatch(e,t){return Qa.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.br(n),i=r<0?0:r;return Qa.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Qa.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return Qa.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new qh(t,0),r=new qh(t,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],(e=>{const t=this.Sr(e.pr);i.push(t)})),Qa.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new vl(Da);return t.forEach((e=>{const t=new qh(e,0),r=new qh(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,r],(e=>{n=n.add(e.pr)}))})),Qa.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Fa.isDocumentKey(i)||(i=i.child(""));const o=new qh(new Fa(i),0);let s=new vl(Da);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.pr)),!0)}),o),Qa.resolve(this.Dr(s))}Dr(e){const t=[];return e.forEach((e=>{const n=this.Sr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){ma(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return Qa.forEach(t.mutations,(r=>{const i=new qh(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.wr=n}))}Mn(e){}containsKey(e,t){const n=new qh(t,0),r=this.wr.firstAfterOrEqual(n);return Qa.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Qa.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Gh{constructor(e){this.vr=e,this.docs=new pl(Fa.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Qa.resolve(n?n.document.mutableCopy():Ql.newInvalidDocument(t))}getEntries(e,t){let n=Vu();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Ql.newInvalidDocument(e))})),Qa.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Vu();const o=t.path,s=new Fa(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||Wa(ja(s),n)<=0||(r.has(s.key)||Nu(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return Qa.resolve(i)}getAllFromCollectionGroup(e,t,n,r){ga()}Fr(e,t){return Qa.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Qh(this)}getSize(e){return Qa.resolve(this.size)}}class Qh extends Fh{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)})),Qa.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class Yh{constructor(e){this.persistence=e,this.Mr=new zu((e=>bu(e)),wu),this.lastRemoteSnapshotVersion=Na.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Wh,this.targetCount=0,this.Br=zh.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,n)=>t(n))),Qa.resolve()}getLastRemoteSnapshotVersion(e){return Qa.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Qa.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),Qa.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),Qa.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Br=new zh(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,Qa.resolve()}updateTargetData(e,t){return this.qn(t),Qa.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,Qa.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Mr.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Mr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),Qa.waitFor(i).next((()=>r))}getTargetCount(e){return Qa.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return Qa.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),Qa.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Qa.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),Qa.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return Qa.resolve(n)}containsKey(e,t){return Qa.resolve(this.Nr.containsKey(t))}}class Zh{constructor(e,t){this.Lr={},this.overlays={},this.kr=new il(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Yh(this),this.indexManager=new Oh,this.remoteDocumentCache=function(e){return new Gh(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new Ph(t),this.$r=new jh(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Hh,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Lr[e.toKey()];return n||(n=new Kh(t,this.referenceDelegate),this.Lr[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){ha("MemoryPersistence","Starting transaction:",e);const r=new $h(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((e=>this.referenceDelegate.Wr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gr(e,t){return Qa.or(Object.values(this.Lr).map((n=>()=>n.containsKey(e,t))))}}class $h extends Ka{constructor(e){super(),this.currentSequenceNumber=e}}class Xh{constructor(e){this.persistence=e,this.zr=new Wh,this.jr=null}static Hr(e){return new Xh(e)}get Jr(){if(this.jr)return this.jr;throw ga()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),Qa.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),Qa.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),Qa.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Qa.forEach(this.Jr,(n=>{const r=Fa.fromPath(n);return this.Yr(e,r).next((e=>{e||t.removeEntry(r,Na.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return Qa.or([()=>Qa.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class Jh{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(e,t){let n=Yu(),r=Yu();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Jh(e,t.fromCache,n,r)}}class ed{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class td{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=Mt()?8:Za.v(It())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ji(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Hi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new ed;return this.Ji(e,t,n).next((r=>{if(i.result=r,this.Ui)return this.Yi(e,t,n,r.size)}))})).next((()=>i.result))}Yi(e,t,n,r){return n.documentReadCount<this.Wi?(ca()<=Ht.DEBUG&&ha("QueryEngine","SDK will not create cache indexes for query:",Au(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Qa.resolve()):(ca()<=Ht.DEBUG&&ha("QueryEngine","Query:",Au(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(ca()<=Ht.DEBUG&&ha("QueryEngine","The SDK decides to create cache indexes for query:",Au(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Tu(t))):Qa.resolve())}ji(e,t){if(Lu(t))return Qa.resolve(null);let n=Tu(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Mu(t,null,"F"),n=Tu(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Yu(...r);return this.zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.Zi(t,r);return this.Xi(t,o,i,n.readTime)?this.ji(e,Mu(t,null,"F")):this.es(e,o,t,n)}))))})))))}Hi(e,t,n,r){return Lu(t)||r.isEqual(Na.min())?Qa.resolve(null):this.zi.getDocuments(e,n).next((i=>{const o=this.Zi(t,i);return this.Xi(t,o,n,r)?Qa.resolve(null):(ca()<=Ht.DEBUG&&ha("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Au(t)),this.es(e,o,t,Ba(r,-1)).next((e=>e)))}))}Zi(e,t){let n=new vl(Ru(e));return t.forEach(((t,r)=>{Nu(e,r)&&(n=n.add(r))})),n}Xi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(e,t,n){return ca()<=Ht.DEBUG&&ha("QueryEngine","Using full collection scan to execute query:",Au(t)),this.zi.getDocumentsMatchingQuery(e,t,Ha.min(),n)}es(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class nd{constructor(e,t,n,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new pl(Da),this.rs=new zu((e=>bu(e)),wu),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Bh(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ns)))}}function rd(e,t,n,r){return new nd(e,t,n,r)}async function id(e,t){const n=va(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n._s(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let s=Yu();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({us:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function od(e){const t=va(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}function sd(e,t,n){let r=Yu(),i=Yu();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Vu();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(Na.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):ha("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{cs:r,ls:i}}))}function ad(e,t){const n=va(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function ld(e,t){const n=va(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Qr.getTargetData(e,t).next((i=>i?(r=i,Qa.resolve(r)):n.Qr.allocateTargetId(e).next((i=>(r=new Dh(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}async function ud(e,t,n){const r=va(e),i=r.ns.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Ja(e))throw e;ha("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function cd(e,t,n){const r=va(e);let i=Na.min(),o=Yu();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=va(e),i=r.rs.get(n);return void 0!==i?Qa.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,Tu(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.ts.getDocumentsMatchingQuery(e,t,n?i:Na.min(),n?o:Yu()))).next((e=>(hd(r,Ou(t),e),{documents:e,hs:o})))))}function hd(e,t,n){let r=e.ss.get(t)||Na.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}class dd{constructor(){this.activeTargetIds=$u()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fd{constructor(){this.no=new dd,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new dd,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class pd{io(e){}shutdown(){}}class gd{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){ha("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){ha("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let md=null;function vd(){return null===md?md=268435456+Math.round(2147483648*Math.random()):md++,"0x"+md.toString(16)}const yd={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bd{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const wd="WebChannelConnection";class Ed extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.fo=t+"://"+e.host,this.po="projects/".concat(n,"/databases/").concat(r),this.yo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get wo(){return!1}So(e,t,n,r,i){const o=vd(),s=this.bo(e,t.toUriEncodedString());ha("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),s,n);const a={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(a,r,i),this.Co(e,s,a,n).then((t=>(ha("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t)),(t=>{throw fa("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",s,"request:",n),t}))}vo(e,t,n,r,i,o){return this.So(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+la,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}bo(e,t){const n=yd[e];return"".concat(this.fo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,t,n,r){const i=vd();return new Promise(((o,s)=>{const a=new ra;a.setWithCredentials(!0),a.listenOnce(Js.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Xs.NO_ERROR:const t=a.getResponseJson();ha(wd,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),o(t);break;case Xs.TIMEOUT:ha(wd,"RPC '".concat(e,"' ").concat(i," timed out")),s(new ba(ya.DEADLINE_EXCEEDED,"Request time out"));break;case Xs.HTTP_ERROR:const n=a.getStatus();if(ha(wd,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(ya).indexOf(t)>=0?t:ya.UNKNOWN}(t.status);s(new ba(e,t.message))}else s(new ba(ya.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new ba(ya.UNAVAILABLE,"Connection failed."));break;default:ga()}}finally{ha(wd,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);ha(wd,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)}))}Fo(e,t,n){const r=vd(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Zs(),s=$s(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Do(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const u=i.join("");ha(wd,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(u),a);const c=o.createWebChannel(u,a);let h=!1,d=!1;const f=new bd({lo:t=>{d?ha(wd,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(ha(wd,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),h=!0),ha(wd,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},ho:()=>c.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(c,na.EventType.OPEN,(()=>{d||ha(wd,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(c,na.EventType.CLOSE,(()=>{d||(d=!0,ha(wd,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Vo())})),p(c,na.EventType.ERROR,(t=>{d||(d=!0,fa(wd,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Vo(new ba(ya.UNAVAILABLE,"The operation could not be completed")))})),p(c,na.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];ma(!!i);const o=i,s=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){ha(wd,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=Ac[e];if(void 0!==t)return Rc(t)}(t),i=s.message;void 0===n&&(n=ya.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),d=!0,f.Vo(new ba(n,i)),c.close()}else ha(wd,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.mo(i)}})),p(s,ea.STAT_EVENT,(t=>{t.stat===ta.PROXY?ha(wd,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===ta.NOPROXY&&ha(wd,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.Ro()}),0),f}}function Sd(){return"undefined"!=typeof document?document:null}function Cd(e){return new nh(e,!0)}class kd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.oi=e,this.timerId=t,this.Mo=n,this.xo=r,this.Oo=i,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const t=Math.floor(this.No+this.Qo()),n=Math.max(0,Date.now()-this.Lo),r=Math.max(0,t-n);r>0&&ha("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.No," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Bo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.Lo=Date.now(),e()))),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}class Ld{constructor(e,t,n,r,i,o,s,a){this.oi=e,this.$o=n,this.Uo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new kd(e,t)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(()=>this.e_())))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,t){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==e?this.jo.reset():t&&t.code===ya.RESOURCE_EXHAUSTED?(da(t.toString()),da("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):t&&t.code===ya.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(t)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),t=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Wo===t&&this.o_(n,r)}),(t=>{e((()=>{const e=new ba(ya.UNKNOWN,"Fetching auth token failed: "+t.message);return this.__(e)}))}))}o_(e,t){const n=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po((()=>{n((()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,(()=>(this.Jo()&&(this.state=3),Promise.resolve()))),this.listener.Po())))})),this.stream.To((e=>{n((()=>this.__(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Yo(){this.state=5,this.jo.qo((async()=>{this.state=0,this.start()}))}__(e){return ha("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}s_(e){return t=>{this.oi.enqueueAndForget((()=>this.Wo===e?t():(ha("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class _d extends Ld{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}a_(e,t){return this.connection.Fo("Listen",e,t)}onMessage(e){this.jo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ga()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(ma(void 0===t||"string"==typeof t),El.fromBase64String(t||"")):(ma(void 0===t||t instanceof Uint8Array),El.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?ya.UNKNOWN:Rc(e.code);return new ba(t,e.message||"")}(s);n=new Qc(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=dh(e,r.document.name),o=ah(r.document.updateTime),s=r.document.createTime?ah(r.document.createTime):Na.min(),a=new Kl({mapValue:{fields:r.document.fields}}),l=Ql.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Kc(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=dh(e,r.document),o=r.readTime?ah(r.readTime):Na.min(),s=Ql.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Kc([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=dh(e,r.document),o=r.removedTargetIds||[];n=new Kc([],o,i,null)}else{if(!("filter"in t))return ga();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new Pc(r,i),s=e.targetId;n=new Gc(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Na.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Na.min():t.readTime?ah(t.readTime):Na.min()}(e);return this.listener.u_(t,n)}c_(e){const t={};t.database=gh(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Eu(r)?{documents:bh(e,r)}:{query:wh(e,r).ut},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=oh(e,t.resumeToken);const r=rh(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Na.min())>0){n.readTime=ih(e,t.snapshotVersion.toTimestamp());const r=rh(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ga()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.t_(t)}l_(e){const t={};t.database=gh(this.serializer),t.removeTarget=e,this.t_(t)}}class xd extends Ld{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,t){return this.connection.Fo("Write",e,t)}onMessage(e){if(ma(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const t=function(e,t){return e&&e.length>0?(ma(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?ah(e.updateTime):ah(t);return n.isEqual(Na.min())&&(n=ah(t)),new fc(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=ah(e.commitTime);return this.listener.T_(n,t)}return ma(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=gh(this.serializer),this.t_(e)}I_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>yh(this.serializer,e)))};this.t_(t)}}class Td extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new ba(ya.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,s]=i;return this.connection.So(e,uh(t,n),r,o,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===ya.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ba(ya.UNKNOWN,e.toString())}))}vo(e,t,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((o=>{let[s,a]=o;return this.connection.vo(e,uh(t,n),r,s,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===ya.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ba(ya.UNKNOWN,e.toString())}))}terminate(){this.A_=!0,this.connection.terminate()}}class Id{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve()))))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.g_?(da(t),this.g_=!1):ha("OnlineStateTracker",t)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class Md{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io((e=>{n.enqueueAndForget((async()=>{Fd(this)&&(ha("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=va(e);t.v_.add(4),await Pd(t),t.x_.set("Unknown"),t.v_.delete(4),await Dd(t)}(this))}))})),this.x_=new Id(n,r)}}async function Dd(e){if(Fd(e))for(const t of e.F_)await t(!0)}async function Pd(e){for(const t of e.F_)await t(!1)}function Ad(e,t){const n=va(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),zd(n)?Ud(n):rf(n).Jo()&&Od(n,t))}function Nd(e,t){const n=va(e),r=rf(n);n.C_.delete(t),r.Jo()&&Rd(n,t),0===n.C_.size&&(r.Jo()?r.Xo():Fd(n)&&n.x_.set("Unknown"))}function Od(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Na.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}rf(e).c_(t)}function Rd(e,t){e.O_.Oe(t),rf(e).l_(t)}function Ud(e){e.O_=new Zc({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),rf(e).start(),e.x_.p_()}function zd(e){return Fd(e)&&!rf(e).Ho()&&e.C_.size>0}function Fd(e){return 0===va(e).v_.size}function Vd(e){e.O_=void 0}async function Bd(e){e.C_.forEach(((t,n)=>{Od(e,t)}))}async function jd(e,t){Vd(e),zd(e)?(e.x_.S_(t),Ud(e)):e.x_.set("Unknown")}async function Hd(e,t,n){if(e.x_.set("Online"),t instanceof Qc&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.C_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.C_.delete(r),e.O_.removeTarget(r))}(e,t)}catch(n){ha("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Wd(e,n)}else if(t instanceof Kc?e.O_.$e(t):t instanceof Gc?e.O_.Je(t):e.O_.Ge(t),!n.isEqual(Na.min()))try{const t=await od(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.O_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.C_.get(r);i&&e.C_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.C_.get(t);if(!r)return;e.C_.set(t,r.withResumeToken(El.EMPTY_BYTE_STRING,r.snapshotVersion)),Rd(e,t);const i=new Dh(r.target,t,n,r.sequenceNumber);Od(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){ha("RemoteStore","Failed to raise snapshot:",t),await Wd(e,t)}}async function Wd(e,t,n){if(!Ja(t))throw t;e.v_.add(1),await Pd(e),e.x_.set("Offline"),n||(n=()=>od(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{ha("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await Dd(e)}))}function qd(e,t){return t().catch((n=>Wd(e,n,t)))}async function Kd(e){const t=va(e),n=of(t);let r=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;Gd(t);)try{const e=await ad(t.localStore,r);if(null===e){0===t.D_.length&&n.Xo();break}r=e.batchId,Qd(t,e)}catch(e){await Wd(t,e)}Yd(t)&&Zd(t)}function Gd(e){return Fd(e)&&e.D_.length<10}function Qd(e,t){e.D_.push(t);const n=of(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function Yd(e){return Fd(e)&&!of(e).Ho()&&e.D_.length>0}function Zd(e){of(e).start()}async function $d(e){of(e).d_()}async function Xd(e){const t=of(e);for(const n of e.D_)t.I_(n.mutations)}async function Jd(e,t,n){const r=e.D_.shift(),i=Mc.from(r,t,n);await qd(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Kd(e)}async function ef(e,t){t&&of(e).P_&&await async function(e,t){if(function(e){return Oc(e)&&e!==ya.ABORTED}(t.code)){const n=e.D_.shift();of(e).Zo(),await qd(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Kd(e)}}(e,t),Yd(e)&&Zd(e)}async function tf(e,t){const n=va(e);n.asyncQueue.verifyOperationInProgress(),ha("RemoteStore","RemoteStore received new credentials");const r=Fd(n);n.v_.add(3),await Pd(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await Dd(n)}async function nf(e,t){const n=va(e);t?(n.v_.delete(2),await Dd(n)):t||(n.v_.add(2),await Pd(n),n.x_.set("Unknown"))}function rf(e){return e.N_||(e.N_=function(e,t,n){const r=va(e);return r.R_(),new _d(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:Bd.bind(null,e),To:jd.bind(null,e),u_:Hd.bind(null,e)}),e.F_.push((async t=>{t?(e.N_.Zo(),zd(e)?Ud(e):e.x_.set("Unknown")):(await e.N_.stop(),Vd(e))}))),e.N_}function of(e){return e.B_||(e.B_=function(e,t,n){const r=va(e);return r.R_(),new xd(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:$d.bind(null,e),To:ef.bind(null,e),E_:Xd.bind(null,e),T_:Jd.bind(null,e)}),e.F_.push((async t=>{t?(e.B_.Zo(),await Kd(e)):(await e.B_.stop(),e.D_.length>0&&(ha("RemoteStore","Stopping write stream with ".concat(e.D_.length," pending writes")),e.D_=[]))}))),e.B_}class sf{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new wa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new sf(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ba(ya.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function af(e,t){if(da("AsyncQueue","".concat(t,": ").concat(e)),Ja(e))return new ba(ya.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class lf{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Fa.comparator(t.key,n.key):(e,t)=>Fa.comparator(e.key,t.key),this.keyedMap=ju(),this.sortedSet=new pl(this.comparator)}static emptySet(e){return new lf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof lf))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new lf;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class uf{constructor(){this.L_=new pl(Fa.comparator)}track(e){const t=e.doc.key,n=this.L_.get(t);n?0!==e.type&&3===n.type?this.L_=this.L_.insert(t,e):3===e.type&&1!==n.type?this.L_=this.L_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.L_=this.L_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.L_=this.L_.remove(t):1===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):ga():this.L_=this.L_.insert(t,e)}k_(){const e=[];return this.L_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class cf{constructor(e,t,n,r,i,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new cf(e,t,lf.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Du(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class hf{constructor(){this.q_=void 0,this.Q_=[]}}class df{constructor(){this.queries=new zu((e=>Pu(e)),Du),this.onlineState="Unknown",this.K_=new Set}}async function ff(e,t){const n=va(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new hf),i)try{o.q_=await n.onListen(r)}catch(e){const n=af(e,"Initialization of query '".concat(Au(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,o),o.Q_.push(t),t.U_(n.onlineState),o.q_&&t.W_(o.q_)&&vf(n)}async function pf(e,t){const n=va(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const e=o.Q_.indexOf(t);e>=0&&(o.Q_.splice(e,1),i=0===o.Q_.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function gf(e,t){const n=va(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Q_)e.W_(i)&&(r=!0);t.q_=i}}r&&vf(n)}function mf(e,t,n){const r=va(e),i=r.queries.get(t);if(i)for(const o of i.Q_)o.onError(n);r.queries.delete(t)}function vf(e){e.K_.forEach((e=>{e.next()}))}class yf{constructor(e,t,n){this.query=e,this.G_=t,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=n||{}}W_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new cf(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.z_?this.H_(e)&&(this.G_.next(e),t=!0):this.J_(e,this.onlineState)&&(this.Y_(e),t=!0),this.j_=e,t}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let t=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),t=!0),t}J_(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Z_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}H_(e){if(e.docChanges.length>0)return!0;const t=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Y_(e){e=cf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}class bf{constructor(e){this.key=e}}class wf{constructor(e){this.key=e}}class Ef{constructor(e,t){this.query=e,this.oa=t,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=Yu(),this.mutatedKeys=Yu(),this.ua=Ru(e),this.ca=new lf(this.ua)}get la(){return this.oa}ha(e,t){const n=t?t.Pa:new uf,r=t?t.ca:this.ca;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),c=Nu(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;u&&c?u.data.isEqual(c.data)?h!==d&&(n.track({type:3,doc:c}),f=!0):this.Ia(u,c)||(n.track({type:2,doc:c}),f=!0,(a&&this.ua(c,a)>0||l&&this.ua(c,l)<0)&&(s=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(a||l)&&(s=!0)),f&&(c?(o=o.add(c),i=d?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ca:o,Pa:n,Xi:s,mutatedKeys:i}}Ia(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const o=e.Pa.k_();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ga()}};return n(e)-n(t)}(e.type,t.type)||this.ua(e.doc,t.doc))),this.Ta(n),r=null!=r&&r;const s=t&&!r?this.Ea():[],a=0===this.aa.size&&this.current&&!r?1:0,l=a!==this._a;return this._a=a,0!==o.length||l?{snapshot:new cf(this.query,e.ca,i,o,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),da:s}:{da:s}}U_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new uf,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach((e=>this.oa=this.oa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.oa=this.oa.delete(e))),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=Yu(),this.ca.forEach((e=>{this.Aa(e.key)&&(this.aa=this.aa.add(e.key))}));const t=[];return e.forEach((e=>{this.aa.has(e)||t.push(new wf(e))})),this.aa.forEach((n=>{e.has(n)||t.push(new bf(n))})),t}Ra(e){this.oa=e.hs,this.aa=Yu();const t=this.ha(e.documents);return this.applyChanges(t,!0)}Va(){return cf.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class Sf{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Cf{constructor(e){this.key=e,this.ma=!1}}class kf{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new zu((e=>Pu(e)),Du),this.pa=new Map,this.ya=new Set,this.wa=new pl(Fa.comparator),this.Sa=new Map,this.ba=new Wh,this.Da={},this.Ca=new Map,this.va=zh.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}async function Lf(e,t){const n=Hf(e);let r,i;const o=n.ga.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Va();else{const e=await ld(n.localStore,Tu(t)),o=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await _f(n,t,r,"current"===o,e.resumeToken),n.isPrimaryClient&&Ad(n.remoteStore,e)}return i}async function _f(e,t,n,r,i){e.Ma=(t,n,r)=>async function(e,t,n,r){let i=t.view.ha(n);i.Xi&&(i=await cd(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ha(n,i)})));const o=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o,s);return Uf(e,t.targetId,a.da),a.snapshot}(e,t,n,r);const o=await cd(e.localStore,t,!0),s=new Ef(t,o.hs),a=s.ha(o.documents),l=qc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=s.applyChanges(a,e.isPrimaryClient,l);Uf(e,n,u.da);const c=new Sf(t,n,s);return e.ga.set(t,c),e.pa.has(n)?e.pa.get(n).push(t):e.pa.set(n,[t]),u.snapshot}async function xf(e,t){const n=va(e),r=n.ga.get(t),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter((e=>!Du(e,t)))),void n.ga.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await ud(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),Nd(n.remoteStore,r.targetId),Of(n,r.targetId)})).catch(Ga)):(Of(n,r.targetId),await ud(n.localStore,r.targetId,!0))}async function Tf(e,t){const n=va(e);try{const e=await function(e,t){const n=va(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const s=[];t.targetChanges.forEach(((o,a)=>{const l=i.get(a);if(!l)return;s.push(n.Qr.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.Qr.addMatchingKeys(e,o.addedDocuments,a))));let u=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?u=u.withResumeToken(El.EMPTY_BYTE_STRING,Na.min()).withLastLimboFreeSnapshotVersion(Na.min()):o.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(o.resumeToken,r)),i=i.insert(a,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,u,o)&&s.push(n.Qr.updateTargetData(e,u))}));let a=Vu(),l=Yu();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(sd(e,o,t.documentUpdates).next((e=>{a=e.cs,l=e.ls}))),!r.isEqual(Na.min())){const t=n.Qr.getLastRemoteSnapshotVersion(e).next((t=>n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return Qa.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.ns=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Sa.get(t);r&&(ma(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.ma=!0:e.modifiedDocuments.size>0?ma(r.ma):e.removedDocuments.size>0&&(ma(r.ma),r.ma=!1))})),await Vf(n,e,t)}catch(e){await Ga(e)}}function If(e,t,n){const r=va(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ga.forEach(((n,r)=>{const i=r.view.U_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=va(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.Q_)i.U_(t)&&(r=!0)})),r&&vf(n)}(r.eventManager,t),e.length&&r.fa.u_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Mf(e,t,n){const r=va(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Sa.get(t),o=i&&i.key;if(o){let e=new pl(Fa.comparator);e=e.insert(o,Ql.newNoDocument(o,Na.min()));const n=Yu().add(o),i=new Wc(Na.min(),new Map,new pl(Da),e,n);await Tf(r,i),r.wa=r.wa.remove(o),r.Sa.delete(t),Ff(r)}else await ud(r.localStore,t,!1).then((()=>Of(r,t,n))).catch(Ga)}async function Df(e,t){const n=va(e),r=t.batch.batchId;try{const e=await function(e,t){const n=va(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=Qa.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);ma(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Yu();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Nf(n,r,null),Af(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Vf(n,e)}catch(e){await Ga(e)}}async function Pf(e,t,n){const r=va(e);try{const e=await function(e,t){const n=va(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(ma(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Nf(r,t,n),Af(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Vf(r,e)}catch(n){await Ga(n)}}function Af(e,t){(e.Ca.get(t)||[]).forEach((e=>{e.resolve()})),e.Ca.delete(t)}function Nf(e,t,n){const r=va(e);let i=r.Da[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Da[r.currentUser.toKey()]=i}}function Of(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.pa.get(t))e.ga.delete(r),n&&e.fa.xa(r,n);e.pa.delete(t),e.isPrimaryClient&&e.ba.Vr(t).forEach((t=>{e.ba.containsKey(t)||Rf(e,t)}))}function Rf(e,t){e.ya.delete(t.path.canonicalString());const n=e.wa.get(t);null!==n&&(Nd(e.remoteStore,n),e.wa=e.wa.remove(t),e.Sa.delete(n),Ff(e))}function Uf(e,t,n){for(const r of n)r instanceof bf?(e.ba.addReference(r.key,t),zf(e,r)):r instanceof wf?(ha("SyncEngine","Document no longer in limbo: "+r.key),e.ba.removeReference(r.key,t),e.ba.containsKey(r.key)||Rf(e,r.key)):ga()}function zf(e,t){const n=t.key,r=n.path.canonicalString();e.wa.get(n)||e.ya.has(r)||(ha("SyncEngine","New document in limbo: "+n),e.ya.add(r),Ff(e))}function Ff(e){for(;e.ya.size>0&&e.wa.size<e.maxConcurrentLimboResolutions;){const t=e.ya.values().next().value;e.ya.delete(t);const n=new Fa(Ra.fromString(t)),r=e.va.next();e.Sa.set(r,new Cf(n)),e.wa=e.wa.insert(n,r),Ad(e.remoteStore,new Dh(Tu(ku(n.path)),r,"TargetPurposeLimboResolution",il._e))}}async function Vf(e,t,n){const r=va(e),i=[],o=[],s=[];r.ga.isEmpty()||(r.ga.forEach(((e,a)=>{s.push(r.Ma(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=Jh.Ki(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.fa.u_(i),await async function(e,t){const n=va(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Qa.forEach(t,(t=>Qa.forEach(t.qi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Qa.forEach(t.Qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Ja(e))throw e;ha("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ns.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(e,i)}}}(r.localStore,o))}async function Bf(e,t){const n=va(e);if(!n.currentUser.isEqual(t)){ha("SyncEngine","User change. New user:",t.toKey());const e=await id(n.localStore,t);n.currentUser=t,function(e,t){e.Ca.forEach((e=>{e.forEach((e=>{e.reject(new ba(ya.CANCELLED,t))}))})),e.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Vf(n,e.us)}}function jf(e,t){const n=va(e),r=n.Sa.get(t);if(r&&r.ma)return Yu().add(r.key);{let e=Yu();const r=n.pa.get(t);if(!r)return e;for(const t of r){const r=n.ga.get(t);e=e.unionWith(r.view.la)}return e}}function Hf(e){const t=va(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Tf.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=jf.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Mf.bind(null,t),t.fa.u_=gf.bind(null,t.eventManager),t.fa.xa=mf.bind(null,t.eventManager),t}function Wf(e){const t=va(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Df.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Pf.bind(null,t),t}class qf{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Cd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return rd(this.persistence,new td,e.initialUser,this.serializer)}createPersistence(e){return new Zh(Xh.Hr,this.serializer)}createSharedClientState(e){return new fd}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Kf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>If(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Bf.bind(null,this.syncEngine),await nf(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new df}createDatastore(e){const t=Cd(e.databaseInfo.databaseId),n=function(e){return new Ed(e)}(e.databaseInfo);return function(e,t,n,r){return new Td(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Md(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>If(this.syncEngine,e,0)),gd.D()?new gd:new pd)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new kf(e,t,n,r,i,o);return s&&(a.Fa=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=va(e);ha("RemoteStore","RemoteStore shutting down."),t.v_.add(5),await Pd(t),t.M_.shutdown(),t.x_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}class Gf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):da("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class Qf{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=aa.UNAUTHENTICATED,this.clientId=Ma.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{ha("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(ha("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ba(ya.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=af(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Yf(e,t){e.asyncQueue.verifyOperationInProgress(),ha("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await id(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Zf(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Xf(e);ha("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>tf(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>tf(t.remoteStore,n))),e._onlineComponents=t}function $f(e){return"FirebaseError"===e.name?e.code===ya.FAILED_PRECONDITION||e.code===ya.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function Xf(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ha("FirestoreClient","Using user provided OfflineComponentProvider");try{await Yf(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!$f(n))throw n;fa("Error using user provided cache. Falling back to memory cache: "+n),await Yf(e,new qf)}}else ha("FirestoreClient","Using default OfflineComponentProvider"),await Yf(e,new qf);return e._offlineComponents}async function Jf(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ha("FirestoreClient","Using user provided OnlineComponentProvider"),await Zf(e,e._uninitializedComponentsProvider._online)):(ha("FirestoreClient","Using default OnlineComponentProvider"),await Zf(e,new Kf))),e._onlineComponents}function ep(e){return Jf(e).then((e=>e.syncEngine))}async function tp(e){const t=await Jf(e),n=t.eventManager;return n.onListen=Lf.bind(null,t.syncEngine),n.onUnlisten=xf.bind(null,t.syncEngine),n}function np(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new wa;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Gf({next:n=>{t.enqueueAndForget((()=>pf(e,s))),n.fromCache&&"server"===r.source?i.reject(new ba(ya.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new yf(n,o,{includeMetadataChanges:!0,Z_:!0});return ff(e,s)}(await tp(e),e.asyncQueue,t,n,r))),r.promise}function rp(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const ip=new Map;function op(e,t,n){if(!n)throw new ba(ya.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function sp(e){if(!Fa.isDocumentKey(e))throw new ba(ya.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function ap(e){if(Fa.isDocumentKey(e))throw new ba(ya.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function lp(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":ga()}function up(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ba(ya.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lp(e);throw new ba(ya.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class cp{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new ba(ya.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ba(ya.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new ba(ya.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rp(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new ba(ya.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new ba(ya.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new ba(ya.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hp{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ba(ya.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ba(ya.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cp(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Sa;switch(e.type){case"firstParty":return new _a(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ba(ya.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=ip.get(e);t&&(ha("ComponentProvider","Removing Datastore"),ip.delete(e),t.terminate())}(this),Promise.resolve()}}function dp(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=up(e,hp))._getSettings(),s="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==s&&fa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=aa.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[St(JSON.stringify({alg:"none",type:"JWT"})),St(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new ba(ya.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new aa(o)}e._authCredentials=new Ca(new Ea(t,n))}}class fp{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new fp(this.firestore,e,this._query)}}class pp{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gp(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pp(this.firestore,e,this._key)}}class gp extends fp{constructor(e,t,n){super(e,t,ku(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pp(this.firestore,null,new Fa(e))}withConverter(e){return new gp(this.firestore,e,this._path)}}function mp(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ut(e),op("collection","path",t),e instanceof hp){const n=Ra.fromString(t,...r);return ap(n),new gp(e,null,n)}{if(!(e instanceof pp||e instanceof gp))throw new ba(ya.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ra.fromString(t,...r));return ap(n),new gp(e.firestore,null,n)}}function vp(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ut(e),1===arguments.length&&(t=Ma.newId()),op("doc","path",t),e instanceof hp){const n=Ra.fromString(t,...r);return sp(n),new pp(e,null,new Fa(n))}{if(!(e instanceof pp||e instanceof gp))throw new ba(ya.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ra.fromString(t,...r));return sp(n),new pp(e.firestore,e instanceof gp?e.converter:null,new Fa(n))}}class yp{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new kd(this,"async_queue_retry"),this._u=()=>{const e=Sd();e&&ha("AsyncQueue","Visibility state changed to "+e.visibilityState),this.jo.Ko()};const e=Sd();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const t=Sd();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise((()=>{}));const t=new wa;return this.uu((()=>this.tu&&this.su?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.eu.push(e),this.cu())))}async cu(){if(0!==this.eu.length){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!Ja(e))throw e;ha("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo((()=>this.cu()))}}uu(e){const t=this.Xa.then((()=>(this.iu=!0,e().catch((e=>{this.ru=e,this.iu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw da("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.iu=!1,e))))));return this.Xa=t,t}enqueueAfterDelay(e,t,n){this.au(),this.ou.indexOf(e)>-1&&(t=0);const r=sf.createAndSchedule(this,e,t,n,(e=>this.lu(e)));return this.nu.push(r),r}au(){this.ru&&ga()}verifyOperationInProgress(){}async hu(){let e;do{e=this.Xa,await e}while(e!==this.Xa)}Pu(e){for(const t of this.nu)if(t.timerId===e)return!0;return!1}Iu(e){return this.hu().then((()=>{this.nu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.nu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.hu()}))}Tu(e){this.ou.push(e)}lu(e){const t=this.nu.indexOf(e);this.nu.splice(t,1)}}class bp extends hp{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new yp,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Ep(this),this._firestoreClient.terminate()}}function wp(e){return e._firestoreClient||Ep(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Ep(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new Il(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,rp(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Qf(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class Sp{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sp(El.fromBase64String(e))}catch(e){throw new ba(ya.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Sp(El.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Cp{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new ba(ya.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new za(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class kp{constructor(e){this._methodName=e}}class Lp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ba(ya.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ba(ya.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Da(this._lat,e._lat)||Da(this._long,e._long)}}const _p=/^__.*__$/;class xp{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Cc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Sc(e,this.data,t,this.fieldTransforms)}}function Tp(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ga()}}class Ip{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Eu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new Ip(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Au({path:n,Vu:!1});return r.mu(e),r}fu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Au({path:n,Vu:!1});return r.Eu(),r}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Vp(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(0===e.length)throw this.pu("Document fields must not be empty");if(Tp(this.du)&&_p.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class Mp{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Cd(e)}Su(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Ip({du:e,methodName:t,wu:n,path:za.emptyPath(),Vu:!1,yu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Dp(e){const t=e._freezeSettings(),n=Cd(e._databaseId);return new Mp(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Pp(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.Su(o.merge||o.mergeFields?2:0,t,n,i);Rp("Data must be an object, but it was:",s,r);const a=Np(r,s);let l,u;if(o.merge)l=new bl(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=Up(t,r,n);if(!s.contains(i))throw new ba(ya.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Bp(e,i)||e.push(i)}l=new bl(e),u=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,u=s.fieldTransforms;return new xp(new Kl(a),l,u)}function Ap(e,t){if(Op(e=Ut(e)))return Rp("Unsupported field value:",t,e),Np(e,t);if(e instanceof kp)return function(e,t){if(!Tp(t.du))throw t.pu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.pu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Vu&&4!==t.du)throw t.pu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Ap(i,t.gu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Ut(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ec(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Aa.fromDate(e);return{timestampValue:ih(t.serializer,n)}}if(e instanceof Aa){const n=new Aa(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ih(t.serializer,n)}}if(e instanceof Lp)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Sp)return{bytesValue:oh(t.serializer,e._byteString)};if(e instanceof pp){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.pu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:lh(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.pu("Unsupported field value: ".concat(lp(e)))}(e,t)}function Np(e,t){const n={};return fl(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):dl(e,((e,r)=>{const i=Ap(r,t.Ru(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Op(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Aa||e instanceof Lp||e instanceof Sp||e instanceof pp||e instanceof kp)}function Rp(e,t,n){if(!Op(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=lp(n);throw"an object"===r?t.pu(e+" a custom object"):t.pu(e+" "+r)}}function Up(e,t,n){if((t=Ut(t))instanceof Cp)return t._internalPath;if("string"==typeof t)return Fp(e,t);throw Vp("Field path arguments must be of type string or ",e,!1,void 0,n)}const zp=new RegExp("[~\\*/\\[\\]]");function Fp(e,t,n){if(t.search(zp)>=0)throw Vp("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Cp(...t.split("."))._internalPath}catch(Jn){throw Vp("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Vp(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(i)),l+=")"),new ba(ya.INVALID_ARGUMENT,a+e+l)}function Bp(e,t){return e.some((e=>e.isEqual(t)))}class jp{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new pp(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Hp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Wp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Hp extends jp{data(){return super.data()}}function Wp(e,t){return"string"==typeof t?Fp(e,t):t instanceof Cp?t._internalPath:t._delegate._internalPath}function qp(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new ba(ya.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kp{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Pl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kl(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ll(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ga()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return dl(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new Lp(kl(e.latitude),kl(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=xl(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Tl(e));default:return null}}convertTimestamp(e){const t=Cl(e);return new Aa(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Ra.fromString(e);ma(Mh(n));const r=new Ml(n.get(1),n.get(3)),i=new Fa(n.popFirst(5));return r.isEqual(t)||da("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Gp(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Qp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Yp extends jp{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Zp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Wp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Zp extends Yp{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class $p{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Qp(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Zp(this._firestore,this._userDataWriter,n.key,n,new Qp(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ba(ya.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Zp(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Qp(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Zp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Qp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:Xp(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Xp(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ga()}}class Jp extends Kp{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sp(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pp(this.firestore,null,t)}}function eg(e,t){return function(e,t){const n=new wa;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Wf(e);try{const e=await function(e,t){const n=va(e),r=Aa.now(),i=t.reduce(((e,t)=>e.add(t.key)),Yu());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=Vu(),l=Yu();return n.os.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{o=i;const s=[];for(const e of t){const t=wc(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new Cc(e.key,t,Gl(t.value.mapValue),pc.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:Hu(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Da[e.currentUser.toKey()];r||(r=new pl(Da)),r=r.insert(t,n),e.Da[e.currentUser.toKey()]=r}(r,e.batchId,n),await Vf(r,e.changes),await Kd(r.remoteStore)}catch(e){const t=af(e,"Failed to persist write");n.reject(t)}}(await ep(e),t,n))),n.promise}(wp(e),t)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){la=e}("10.7.2"),Sn(new zt("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new bp(new ka(e.getProvider("auth-internal")),new Ta(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ba(ya.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ml(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),xn(sa,"4.4.1",e),xn(sa,"4.4.1","esm2017")}();const tg={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let ng;const rg=new Uint8Array(16);function ig(){if(!ng&&(ng="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ng))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ng(rg)}const og=[];for(let n=0;n<256;++n)og.push((n+256).toString(16).slice(1));function sg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return og[e[t+0]]+og[e[t+1]]+og[e[t+2]]+og[e[t+3]]+"-"+og[e[t+4]]+og[e[t+5]]+"-"+og[e[t+6]]+og[e[t+7]]+"-"+og[e[t+8]]+og[e[t+9]]+"-"+og[e[t+10]]+og[e[t+11]]+og[e[t+12]]+og[e[t+13]]+og[e[t+14]]+og[e[t+15]]}const ag=function(e,t,n){if(tg.randomUUID&&!t&&!e)return tg.randomUUID();const r=(e=e||{}).random||(e.rng||ig)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return sg(r)};xn("firebase","10.7.2","app");const lg=function(e,t){const n="object"==typeof e?e:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn;const t=bn.get(e);if(!t&&e===vn&&xt())return _n();if(!t)throw kn.create("no-app",{appName:e});return t}(),r="string"==typeof e?e:t||"(default)",i=Cn(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=_t("firestore");e&&dp(i,...e)}return i}(_n({apiKey:"AIzaSyCYsQJXAYxkPsBSzT7xNAcElAWwKPyDRCs",authDomain:"visotest-3c61f.firebaseapp.com",projectId:"visotest-3c61f",storageBucket:"visotest-3c61f.appspot.com",messagingSenderId:"349587995601",appId:"1:349587995601:web:92523ef740a324075cbef0"})),ug=(mp(lg,"markers"),"ABCDEFGHIJKLMNOPQRSTUVWXYZ"),cg={lat:12.97,lng:77.59},hg=async e=>{const t=e.map((t=>{let{lat:n,lng:r}=t;return{Location:{Lat:n,Long:r},Timestamp:new Date,Next:e.length+1}})),n=mp(lg,"markers");await Promise.all(t.map((async(e,t)=>{await function(e,t,n){e=up(e,pp);const r=up(e.firestore,bp),i=Gp(e.converter,t,n);return eg(r,[Pp(Dp(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,pc.none())])}(vp(n,"Quest ".concat(t+1)),e)})))},dg=e=>{let{markers:t,handleClickMarker:n,handleDragMarker:i}=e;return(0,r.jsx)(r.Fragment,{children:t.map((e=>(0,r.jsx)(j,{position:{lat:e.lat,lng:e.lng},label:e.label,draggable:!0,onClick:()=>n(e),onDragEnd:t=>i(e,t)},e.id)))})},fg=e=>{let{selectedMarker:t,setSelectedMarker:n,handleDeleteMarker:i}=e;const{lat:o,lng:s,label:a}=t;return(0,r.jsx)(Fe,{position:{lat:o,lng:s},onCloseClick:()=>{n(null)},children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("h5",{children:["\u041d\u0430\u0437\u0432\u0430 \u043c\u0430\u0440\u043a\u0435\u0440\u0443: ",a]}),(0,r.jsx)("button",{onClick:i,children:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u043c\u0430\u0440\u043a\u0435\u0440"})]})})};let pg=0;const gg=()=>{const[t,n]=(0,e.useState)([]),[i,o]=(0,e.useState)(null);(0,e.useEffect)((()=>{(async()=>{await hg(t)})()}),[t]);return(0,r.jsxs)(P,{googleMapsApiKey:"".concat("AIzaSyCY0YdOaBF-k26Jexn_b0OVp7uRNWxfDcM"),children:[(0,r.jsxs)(S,{mapContainerStyle:{width:"100%",height:"100vh"},center:cg,zoom:8,onClick:e=>{var t,r;const i={id:ag(),lat:(null===(t=e.latLng)||void 0===t?void 0:t.lat())||0,lng:(null===(r=e.latLng)||void 0===r?void 0:r.lng())||0,label:ug[pg++%26]};n((e=>[...e,i]))},children:[(0,r.jsx)(dg,{markers:t,handleClickMarker:e=>{o(e)},handleDragMarker:(e,t)=>{n((n=>n.map((n=>{var r,i;return n.id===e.id?{...n,lat:(null===(r=t.latLng)||void 0===r?void 0:r.lat())||0,lng:(null===(i=t.latLng)||void 0===i?void 0:i.lng())||0}:n}))))}}),i&&(0,r.jsx)(fg,{selectedMarker:i,setSelectedMarker:o,handleDeleteMarker:()=>{n((e=>e.filter((e=>e.id!==(null===i||void 0===i?void 0:i.id))))),o(null)}})]}),!!t.length&&(0,r.jsx)("button",{onClick:async()=>{const e=mp(lg,"markers"),t=await function(e){e=up(e,fp);const t=up(e.firestore,bp),n=wp(t),r=new Jp(t);return qp(e._query),np(n,e._query).then((n=>new $p(t,r,e,n)))}(e);t.forEach((async e=>{var t;await(t=e.ref,eg(up(t.firestore,bp),[new xc(t._key,pc.none())]))})),n([]),o(null)},style:{position:"absolute",top:"10px",left:"205px"},children:"Delete All markers"})]})};const mg=function(){return(0,r.jsx)("div",{children:(0,r.jsx)(gg,{})})},vg=e=>{e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:s}=t;n(e),r(e),i(e),o(e),s(e)}))};t.createRoot(document.getElementById("root")).render((0,r.jsx)(e.StrictMode,{children:(0,r.jsx)(mg,{})})),vg()})()})();
//# sourceMappingURL=main.cc4c9629.js.map